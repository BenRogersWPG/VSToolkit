/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    this._$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (! this._$jscoverage) {
  this._$jscoverage = {};
}
if (! _$jscoverage['js/vs_fx.js']) {
  _$jscoverage['js/vs_fx.js'] = [];
  _$jscoverage['js/vs_fx.js'][19] = 0;
  _$jscoverage['js/vs_fx.js'][21] = 0;
  _$jscoverage['js/vs_fx.js'][45] = 0;
  _$jscoverage['js/vs_fx.js'][71] = 0;
  _$jscoverage['js/vs_fx.js'][73] = 0;
  _$jscoverage['js/vs_fx.js'][74] = 0;
  _$jscoverage['js/vs_fx.js'][75] = 0;
  _$jscoverage['js/vs_fx.js'][76] = 0;
  _$jscoverage['js/vs_fx.js'][77] = 0;
  _$jscoverage['js/vs_fx.js'][79] = 0;
  _$jscoverage['js/vs_fx.js'][80] = 0;
  _$jscoverage['js/vs_fx.js'][81] = 0;
  _$jscoverage['js/vs_fx.js'][82] = 0;
  _$jscoverage['js/vs_fx.js'][83] = 0;
  _$jscoverage['js/vs_fx.js'][85] = 0;
  _$jscoverage['js/vs_fx.js'][86] = 0;
  _$jscoverage['js/vs_fx.js'][87] = 0;
  _$jscoverage['js/vs_fx.js'][88] = 0;
  _$jscoverage['js/vs_fx.js'][90] = 0;
  _$jscoverage['js/vs_fx.js'][92] = 0;
  _$jscoverage['js/vs_fx.js'][93] = 0;
  _$jscoverage['js/vs_fx.js'][94] = 0;
  _$jscoverage['js/vs_fx.js'][95] = 0;
  _$jscoverage['js/vs_fx.js'][96] = 0;
  _$jscoverage['js/vs_fx.js'][98] = 0;
  _$jscoverage['js/vs_fx.js'][99] = 0;
  _$jscoverage['js/vs_fx.js'][100] = 0;
  _$jscoverage['js/vs_fx.js'][101] = 0;
  _$jscoverage['js/vs_fx.js'][102] = 0;
  _$jscoverage['js/vs_fx.js'][104] = 0;
  _$jscoverage['js/vs_fx.js'][105] = 0;
  _$jscoverage['js/vs_fx.js'][106] = 0;
  _$jscoverage['js/vs_fx.js'][107] = 0;
  _$jscoverage['js/vs_fx.js'][111] = 0;
  _$jscoverage['js/vs_fx.js'][112] = 0;
  _$jscoverage['js/vs_fx.js'][113] = 0;
  _$jscoverage['js/vs_fx.js'][114] = 0;
  _$jscoverage['js/vs_fx.js'][115] = 0;
  _$jscoverage['js/vs_fx.js'][117] = 0;
  _$jscoverage['js/vs_fx.js'][118] = 0;
  _$jscoverage['js/vs_fx.js'][119] = 0;
  _$jscoverage['js/vs_fx.js'][120] = 0;
  _$jscoverage['js/vs_fx.js'][121] = 0;
  _$jscoverage['js/vs_fx.js'][123] = 0;
  _$jscoverage['js/vs_fx.js'][124] = 0;
  _$jscoverage['js/vs_fx.js'][125] = 0;
  _$jscoverage['js/vs_fx.js'][126] = 0;
  _$jscoverage['js/vs_fx.js'][133] = 0;
  _$jscoverage['js/vs_fx.js'][138] = 0;
  _$jscoverage['js/vs_fx.js'][143] = 0;
  _$jscoverage['js/vs_fx.js'][148] = 0;
  _$jscoverage['js/vs_fx.js'][153] = 0;
  _$jscoverage['js/vs_fx.js'][160] = 0;
  _$jscoverage['js/vs_fx.js'][162] = 0;
  _$jscoverage['js/vs_fx.js'][163] = 0;
  _$jscoverage['js/vs_fx.js'][165] = 0;
  _$jscoverage['js/vs_fx.js'][166] = 0;
  _$jscoverage['js/vs_fx.js'][168] = 0;
  _$jscoverage['js/vs_fx.js'][170] = 0;
  _$jscoverage['js/vs_fx.js'][171] = 0;
  _$jscoverage['js/vs_fx.js'][173] = 0;
  _$jscoverage['js/vs_fx.js'][174] = 0;
  _$jscoverage['js/vs_fx.js'][176] = 0;
  _$jscoverage['js/vs_fx.js'][177] = 0;
  _$jscoverage['js/vs_fx.js'][181] = 0;
  _$jscoverage['js/vs_fx.js'][182] = 0;
  _$jscoverage['js/vs_fx.js'][184] = 0;
  _$jscoverage['js/vs_fx.js'][186] = 0;
  _$jscoverage['js/vs_fx.js'][188] = 0;
  _$jscoverage['js/vs_fx.js'][201] = 0;
  _$jscoverage['js/vs_fx.js'][203] = 0;
  _$jscoverage['js/vs_fx.js'][205] = 0;
  _$jscoverage['js/vs_fx.js'][206] = 0;
  _$jscoverage['js/vs_fx.js'][209] = 0;
  _$jscoverage['js/vs_fx.js'][211] = 0;
  _$jscoverage['js/vs_fx.js'][212] = 0;
  _$jscoverage['js/vs_fx.js'][215] = 0;
  _$jscoverage['js/vs_fx.js'][220] = 0;
  _$jscoverage['js/vs_fx.js'][222] = 0;
  _$jscoverage['js/vs_fx.js'][223] = 0;
  _$jscoverage['js/vs_fx.js'][224] = 0;
  _$jscoverage['js/vs_fx.js'][225] = 0;
  _$jscoverage['js/vs_fx.js'][227] = 0;
  _$jscoverage['js/vs_fx.js'][229] = 0;
  _$jscoverage['js/vs_fx.js'][230] = 0;
  _$jscoverage['js/vs_fx.js'][233] = 0;
  _$jscoverage['js/vs_fx.js'][235] = 0;
  _$jscoverage['js/vs_fx.js'][237] = 0;
  _$jscoverage['js/vs_fx.js'][239] = 0;
  _$jscoverage['js/vs_fx.js'][243] = 0;
  _$jscoverage['js/vs_fx.js'][246] = 0;
  _$jscoverage['js/vs_fx.js'][247] = 0;
  _$jscoverage['js/vs_fx.js'][249] = 0;
  _$jscoverage['js/vs_fx.js'][251] = 0;
  _$jscoverage['js/vs_fx.js'][254] = 0;
  _$jscoverage['js/vs_fx.js'][256] = 0;
  _$jscoverage['js/vs_fx.js'][257] = 0;
  _$jscoverage['js/vs_fx.js'][259] = 0;
  _$jscoverage['js/vs_fx.js'][261] = 0;
  _$jscoverage['js/vs_fx.js'][263] = 0;
  _$jscoverage['js/vs_fx.js'][265] = 0;
  _$jscoverage['js/vs_fx.js'][269] = 0;
  _$jscoverage['js/vs_fx.js'][272] = 0;
  _$jscoverage['js/vs_fx.js'][274] = 0;
  _$jscoverage['js/vs_fx.js'][276] = 0;
  _$jscoverage['js/vs_fx.js'][279] = 0;
  _$jscoverage['js/vs_fx.js'][283] = 0;
  _$jscoverage['js/vs_fx.js'][287] = 0;
  _$jscoverage['js/vs_fx.js'][289] = 0;
  _$jscoverage['js/vs_fx.js'][291] = 0;
  _$jscoverage['js/vs_fx.js'][293] = 0;
  _$jscoverage['js/vs_fx.js'][295] = 0;
  _$jscoverage['js/vs_fx.js'][296] = 0;
  _$jscoverage['js/vs_fx.js'][297] = 0;
  _$jscoverage['js/vs_fx.js'][298] = 0;
  _$jscoverage['js/vs_fx.js'][300] = 0;
  _$jscoverage['js/vs_fx.js'][301] = 0;
  _$jscoverage['js/vs_fx.js'][303] = 0;
  _$jscoverage['js/vs_fx.js'][304] = 0;
  _$jscoverage['js/vs_fx.js'][306] = 0;
  _$jscoverage['js/vs_fx.js'][308] = 0;
  _$jscoverage['js/vs_fx.js'][309] = 0;
  _$jscoverage['js/vs_fx.js'][310] = 0;
  _$jscoverage['js/vs_fx.js'][311] = 0;
  _$jscoverage['js/vs_fx.js'][312] = 0;
  _$jscoverage['js/vs_fx.js'][315] = 0;
  _$jscoverage['js/vs_fx.js'][318] = 0;
  _$jscoverage['js/vs_fx.js'][320] = 0;
  _$jscoverage['js/vs_fx.js'][323] = 0;
  _$jscoverage['js/vs_fx.js'][325] = 0;
  _$jscoverage['js/vs_fx.js'][326] = 0;
  _$jscoverage['js/vs_fx.js'][328] = 0;
  _$jscoverage['js/vs_fx.js'][331] = 0;
  _$jscoverage['js/vs_fx.js'][333] = 0;
  _$jscoverage['js/vs_fx.js'][336] = 0;
  _$jscoverage['js/vs_fx.js'][337] = 0;
  _$jscoverage['js/vs_fx.js'][339] = 0;
  _$jscoverage['js/vs_fx.js'][340] = 0;
  _$jscoverage['js/vs_fx.js'][342] = 0;
  _$jscoverage['js/vs_fx.js'][345] = 0;
  _$jscoverage['js/vs_fx.js'][347] = 0;
  _$jscoverage['js/vs_fx.js'][350] = 0;
  _$jscoverage['js/vs_fx.js'][352] = 0;
  _$jscoverage['js/vs_fx.js'][356] = 0;
  _$jscoverage['js/vs_fx.js'][358] = 0;
  _$jscoverage['js/vs_fx.js'][359] = 0;
  _$jscoverage['js/vs_fx.js'][360] = 0;
  _$jscoverage['js/vs_fx.js'][361] = 0;
  _$jscoverage['js/vs_fx.js'][362] = 0;
  _$jscoverage['js/vs_fx.js'][363] = 0;
  _$jscoverage['js/vs_fx.js'][364] = 0;
  _$jscoverage['js/vs_fx.js'][365] = 0;
  _$jscoverage['js/vs_fx.js'][366] = 0;
  _$jscoverage['js/vs_fx.js'][367] = 0;
  _$jscoverage['js/vs_fx.js'][368] = 0;
  _$jscoverage['js/vs_fx.js'][369] = 0;
  _$jscoverage['js/vs_fx.js'][370] = 0;
  _$jscoverage['js/vs_fx.js'][371] = 0;
  _$jscoverage['js/vs_fx.js'][372] = 0;
  _$jscoverage['js/vs_fx.js'][373] = 0;
  _$jscoverage['js/vs_fx.js'][374] = 0;
  _$jscoverage['js/vs_fx.js'][375] = 0;
  _$jscoverage['js/vs_fx.js'][376] = 0;
  _$jscoverage['js/vs_fx.js'][377] = 0;
  _$jscoverage['js/vs_fx.js'][379] = 0;
  _$jscoverage['js/vs_fx.js'][381] = 0;
  _$jscoverage['js/vs_fx.js'][383] = 0;
  _$jscoverage['js/vs_fx.js'][385] = 0;
  _$jscoverage['js/vs_fx.js'][387] = 0;
  _$jscoverage['js/vs_fx.js'][390] = 0;
  _$jscoverage['js/vs_fx.js'][392] = 0;
  _$jscoverage['js/vs_fx.js'][394] = 0;
  _$jscoverage['js/vs_fx.js'][399] = 0;
  _$jscoverage['js/vs_fx.js'][401] = 0;
  _$jscoverage['js/vs_fx.js'][404] = 0;
  _$jscoverage['js/vs_fx.js'][407] = 0;
  _$jscoverage['js/vs_fx.js'][408] = 0;
  _$jscoverage['js/vs_fx.js'][411] = 0;
  _$jscoverage['js/vs_fx.js'][412] = 0;
  _$jscoverage['js/vs_fx.js'][414] = 0;
  _$jscoverage['js/vs_fx.js'][415] = 0;
  _$jscoverage['js/vs_fx.js'][418] = 0;
  _$jscoverage['js/vs_fx.js'][420] = 0;
  _$jscoverage['js/vs_fx.js'][421] = 0;
  _$jscoverage['js/vs_fx.js'][423] = 0;
  _$jscoverage['js/vs_fx.js'][424] = 0;
  _$jscoverage['js/vs_fx.js'][429] = 0;
  _$jscoverage['js/vs_fx.js'][430] = 0;
  _$jscoverage['js/vs_fx.js'][433] = 0;
  _$jscoverage['js/vs_fx.js'][434] = 0;
  _$jscoverage['js/vs_fx.js'][436] = 0;
  _$jscoverage['js/vs_fx.js'][439] = 0;
  _$jscoverage['js/vs_fx.js'][440] = 0;
  _$jscoverage['js/vs_fx.js'][442] = 0;
  _$jscoverage['js/vs_fx.js'][443] = 0;
  _$jscoverage['js/vs_fx.js'][445] = 0;
  _$jscoverage['js/vs_fx.js'][448] = 0;
  _$jscoverage['js/vs_fx.js'][450] = 0;
  _$jscoverage['js/vs_fx.js'][452] = 0;
  _$jscoverage['js/vs_fx.js'][454] = 0;
  _$jscoverage['js/vs_fx.js'][455] = 0;
  _$jscoverage['js/vs_fx.js'][457] = 0;
  _$jscoverage['js/vs_fx.js'][458] = 0;
  _$jscoverage['js/vs_fx.js'][459] = 0;
  _$jscoverage['js/vs_fx.js'][460] = 0;
  _$jscoverage['js/vs_fx.js'][462] = 0;
  _$jscoverage['js/vs_fx.js'][464] = 0;
  _$jscoverage['js/vs_fx.js'][465] = 0;
  _$jscoverage['js/vs_fx.js'][466] = 0;
  _$jscoverage['js/vs_fx.js'][467] = 0;
  _$jscoverage['js/vs_fx.js'][468] = 0;
  _$jscoverage['js/vs_fx.js'][469] = 0;
  _$jscoverage['js/vs_fx.js'][470] = 0;
  _$jscoverage['js/vs_fx.js'][471] = 0;
  _$jscoverage['js/vs_fx.js'][472] = 0;
  _$jscoverage['js/vs_fx.js'][473] = 0;
  _$jscoverage['js/vs_fx.js'][474] = 0;
  _$jscoverage['js/vs_fx.js'][475] = 0;
  _$jscoverage['js/vs_fx.js'][476] = 0;
  _$jscoverage['js/vs_fx.js'][477] = 0;
  _$jscoverage['js/vs_fx.js'][478] = 0;
  _$jscoverage['js/vs_fx.js'][479] = 0;
  _$jscoverage['js/vs_fx.js'][480] = 0;
  _$jscoverage['js/vs_fx.js'][481] = 0;
  _$jscoverage['js/vs_fx.js'][482] = 0;
  _$jscoverage['js/vs_fx.js'][483] = 0;
  _$jscoverage['js/vs_fx.js'][484] = 0;
  _$jscoverage['js/vs_fx.js'][485] = 0;
  _$jscoverage['js/vs_fx.js'][486] = 0;
  _$jscoverage['js/vs_fx.js'][487] = 0;
  _$jscoverage['js/vs_fx.js'][488] = 0;
  _$jscoverage['js/vs_fx.js'][490] = 0;
  _$jscoverage['js/vs_fx.js'][495] = 0;
  _$jscoverage['js/vs_fx.js'][497] = 0;
  _$jscoverage['js/vs_fx.js'][498] = 0;
  _$jscoverage['js/vs_fx.js'][499] = 0;
  _$jscoverage['js/vs_fx.js'][500] = 0;
  _$jscoverage['js/vs_fx.js'][501] = 0;
  _$jscoverage['js/vs_fx.js'][502] = 0;
  _$jscoverage['js/vs_fx.js'][503] = 0;
  _$jscoverage['js/vs_fx.js'][504] = 0;
  _$jscoverage['js/vs_fx.js'][505] = 0;
  _$jscoverage['js/vs_fx.js'][506] = 0;
  _$jscoverage['js/vs_fx.js'][507] = 0;
  _$jscoverage['js/vs_fx.js'][508] = 0;
  _$jscoverage['js/vs_fx.js'][509] = 0;
  _$jscoverage['js/vs_fx.js'][510] = 0;
  _$jscoverage['js/vs_fx.js'][511] = 0;
  _$jscoverage['js/vs_fx.js'][512] = 0;
  _$jscoverage['js/vs_fx.js'][513] = 0;
  _$jscoverage['js/vs_fx.js'][514] = 0;
  _$jscoverage['js/vs_fx.js'][515] = 0;
  _$jscoverage['js/vs_fx.js'][516] = 0;
  _$jscoverage['js/vs_fx.js'][517] = 0;
  _$jscoverage['js/vs_fx.js'][518] = 0;
  _$jscoverage['js/vs_fx.js'][519] = 0;
  _$jscoverage['js/vs_fx.js'][521] = 0;
  _$jscoverage['js/vs_fx.js'][524] = 0;
  _$jscoverage['js/vs_fx.js'][526] = 0;
  _$jscoverage['js/vs_fx.js'][529] = 0;
  _$jscoverage['js/vs_fx.js'][532] = 0;
  _$jscoverage['js/vs_fx.js'][535] = 0;
  _$jscoverage['js/vs_fx.js'][536] = 0;
  _$jscoverage['js/vs_fx.js'][538] = 0;
  _$jscoverage['js/vs_fx.js'][540] = 0;
  _$jscoverage['js/vs_fx.js'][543] = 0;
  _$jscoverage['js/vs_fx.js'][544] = 0;
  _$jscoverage['js/vs_fx.js'][546] = 0;
  _$jscoverage['js/vs_fx.js'][612] = 0;
  _$jscoverage['js/vs_fx.js'][614] = 0;
  _$jscoverage['js/vs_fx.js'][615] = 0;
  _$jscoverage['js/vs_fx.js'][616] = 0;
  _$jscoverage['js/vs_fx.js'][618] = 0;
  _$jscoverage['js/vs_fx.js'][620] = 0;
  _$jscoverage['js/vs_fx.js'][621] = 0;
  _$jscoverage['js/vs_fx.js'][623] = 0;
  _$jscoverage['js/vs_fx.js'][628] = 0;
  _$jscoverage['js/vs_fx.js'][630] = 0;
  _$jscoverage['js/vs_fx.js'][631] = 0;
  _$jscoverage['js/vs_fx.js'][633] = 0;
  _$jscoverage['js/vs_fx.js'][736] = 0;
  _$jscoverage['js/vs_fx.js'][738] = 0;
  _$jscoverage['js/vs_fx.js'][739] = 0;
  _$jscoverage['js/vs_fx.js'][740] = 0;
  _$jscoverage['js/vs_fx.js'][741] = 0;
  _$jscoverage['js/vs_fx.js'][742] = 0;
  _$jscoverage['js/vs_fx.js'][743] = 0;
  _$jscoverage['js/vs_fx.js'][744] = 0;
  _$jscoverage['js/vs_fx.js'][746] = 0;
  _$jscoverage['js/vs_fx.js'][748] = 0;
  _$jscoverage['js/vs_fx.js'][749] = 0;
  _$jscoverage['js/vs_fx.js'][751] = 0;
  _$jscoverage['js/vs_fx.js'][752] = 0;
  _$jscoverage['js/vs_fx.js'][754] = 0;
  _$jscoverage['js/vs_fx.js'][755] = 0;
  _$jscoverage['js/vs_fx.js'][757] = 0;
  _$jscoverage['js/vs_fx.js'][759] = 0;
  _$jscoverage['js/vs_fx.js'][762] = 0;
  _$jscoverage['js/vs_fx.js'][763] = 0;
  _$jscoverage['js/vs_fx.js'][797] = 0;
  _$jscoverage['js/vs_fx.js'][798] = 0;
  _$jscoverage['js/vs_fx.js'][800] = 0;
  _$jscoverage['js/vs_fx.js'][801] = 0;
  _$jscoverage['js/vs_fx.js'][803] = 0;
  _$jscoverage['js/vs_fx.js'][805] = 0;
  _$jscoverage['js/vs_fx.js'][806] = 0;
  _$jscoverage['js/vs_fx.js'][808] = 0;
  _$jscoverage['js/vs_fx.js'][810] = 0;
  _$jscoverage['js/vs_fx.js'][840] = 0;
  _$jscoverage['js/vs_fx.js'][856] = 0;
  _$jscoverage['js/vs_fx.js'][857] = 0;
  _$jscoverage['js/vs_fx.js'][858] = 0;
  _$jscoverage['js/vs_fx.js'][860] = 0;
  _$jscoverage['js/vs_fx.js'][861] = 0;
  _$jscoverage['js/vs_fx.js'][862] = 0;
  _$jscoverage['js/vs_fx.js'][863] = 0;
  _$jscoverage['js/vs_fx.js'][864] = 0;
  _$jscoverage['js/vs_fx.js'][865] = 0;
  _$jscoverage['js/vs_fx.js'][866] = 0;
  _$jscoverage['js/vs_fx.js'][867] = 0;
  _$jscoverage['js/vs_fx.js'][868] = 0;
  _$jscoverage['js/vs_fx.js'][869] = 0;
  _$jscoverage['js/vs_fx.js'][870] = 0;
  _$jscoverage['js/vs_fx.js'][871] = 0;
  _$jscoverage['js/vs_fx.js'][872] = 0;
  _$jscoverage['js/vs_fx.js'][873] = 0;
  _$jscoverage['js/vs_fx.js'][875] = 0;
  _$jscoverage['js/vs_fx.js'][877] = 0;
  _$jscoverage['js/vs_fx.js'][878] = 0;
  _$jscoverage['js/vs_fx.js'][879] = 0;
  _$jscoverage['js/vs_fx.js'][880] = 0;
  _$jscoverage['js/vs_fx.js'][884] = 0;
  _$jscoverage['js/vs_fx.js'][885] = 0;
  _$jscoverage['js/vs_fx.js'][887] = 0;
  _$jscoverage['js/vs_fx.js'][903] = 0;
  _$jscoverage['js/vs_fx.js'][906] = 0;
  _$jscoverage['js/vs_fx.js'][912] = 0;
  _$jscoverage['js/vs_fx.js'][922] = 0;
  _$jscoverage['js/vs_fx.js'][924] = 0;
  _$jscoverage['js/vs_fx.js'][932] = 0;
  _$jscoverage['js/vs_fx.js'][933] = 0;
  _$jscoverage['js/vs_fx.js'][935] = 0;
  _$jscoverage['js/vs_fx.js'][947] = 0;
  _$jscoverage['js/vs_fx.js'][949] = 0;
  _$jscoverage['js/vs_fx.js'][957] = 0;
  _$jscoverage['js/vs_fx.js'][958] = 0;
  _$jscoverage['js/vs_fx.js'][960] = 0;
  _$jscoverage['js/vs_fx.js'][975] = 0;
  _$jscoverage['js/vs_fx.js'][983] = 0;
  _$jscoverage['js/vs_fx.js'][991] = 0;
  _$jscoverage['js/vs_fx.js'][999] = 0;
  _$jscoverage['js/vs_fx.js'][1007] = 0;
  _$jscoverage['js/vs_fx.js'][1039] = 0;
  _$jscoverage['js/vs_fx.js'][1041] = 0;
  _$jscoverage['js/vs_fx.js'][1042] = 0;
  _$jscoverage['js/vs_fx.js'][1044] = 0;
  _$jscoverage['js/vs_fx.js'][1048] = 0;
  _$jscoverage['js/vs_fx.js'][1049] = 0;
  _$jscoverage['js/vs_fx.js'][1051] = 0;
  _$jscoverage['js/vs_fx.js'][1053] = 0;
  _$jscoverage['js/vs_fx.js'][1054] = 0;
  _$jscoverage['js/vs_fx.js'][1055] = 0;
  _$jscoverage['js/vs_fx.js'][1057] = 0;
  _$jscoverage['js/vs_fx.js'][1060] = 0;
  _$jscoverage['js/vs_fx.js'][1086] = 0;
  _$jscoverage['js/vs_fx.js'][1111] = 0;
  _$jscoverage['js/vs_fx.js'][1113] = 0;
  _$jscoverage['js/vs_fx.js'][1114] = 0;
  _$jscoverage['js/vs_fx.js'][1116] = 0;
  _$jscoverage['js/vs_fx.js'][1120] = 0;
  _$jscoverage['js/vs_fx.js'][1122] = 0;
  _$jscoverage['js/vs_fx.js'][1124] = 0;
  _$jscoverage['js/vs_fx.js'][1127] = 0;
  _$jscoverage['js/vs_fx.js'][1137] = 0;
  _$jscoverage['js/vs_fx.js'][1160] = 0;
  _$jscoverage['js/vs_fx.js'][1162] = 0;
  _$jscoverage['js/vs_fx.js'][1163] = 0;
  _$jscoverage['js/vs_fx.js'][1165] = 0;
  _$jscoverage['js/vs_fx.js'][1169] = 0;
  _$jscoverage['js/vs_fx.js'][1172] = 0;
  _$jscoverage['js/vs_fx.js'][1173] = 0;
  _$jscoverage['js/vs_fx.js'][1174] = 0;
  _$jscoverage['js/vs_fx.js'][1176] = 0;
  _$jscoverage['js/vs_fx.js'][1179] = 0;
  _$jscoverage['js/vs_fx.js'][1205] = 0;
  _$jscoverage['js/vs_fx.js'][1229] = 0;
  _$jscoverage['js/vs_fx.js'][1231] = 0;
  _$jscoverage['js/vs_fx.js'][1232] = 0;
  _$jscoverage['js/vs_fx.js'][1234] = 0;
  _$jscoverage['js/vs_fx.js'][1238] = 0;
  _$jscoverage['js/vs_fx.js'][1240] = 0;
  _$jscoverage['js/vs_fx.js'][1241] = 0;
  _$jscoverage['js/vs_fx.js'][1242] = 0;
  _$jscoverage['js/vs_fx.js'][1244] = 0;
  _$jscoverage['js/vs_fx.js'][1247] = 0;
  _$jscoverage['js/vs_fx.js'][1265] = 0;
  _$jscoverage['js/vs_fx.js'][1290] = 0;
  _$jscoverage['js/vs_fx.js'][1292] = 0;
  _$jscoverage['js/vs_fx.js'][1293] = 0;
  _$jscoverage['js/vs_fx.js'][1295] = 0;
  _$jscoverage['js/vs_fx.js'][1299] = 0;
  _$jscoverage['js/vs_fx.js'][1301] = 0;
  _$jscoverage['js/vs_fx.js'][1302] = 0;
  _$jscoverage['js/vs_fx.js'][1304] = 0;
  _$jscoverage['js/vs_fx.js'][1307] = 0;
  _$jscoverage['js/vs_fx.js'][1325] = 0;
  _$jscoverage['js/vs_fx.js'][1354] = 0;
  _$jscoverage['js/vs_fx.js'][1356] = 0;
  _$jscoverage['js/vs_fx.js'][1357] = 0;
  _$jscoverage['js/vs_fx.js'][1359] = 0;
  _$jscoverage['js/vs_fx.js'][1363] = 0;
  _$jscoverage['js/vs_fx.js'][1365] = 0;
  _$jscoverage['js/vs_fx.js'][1367] = 0;
  _$jscoverage['js/vs_fx.js'][1370] = 0;
  _$jscoverage['js/vs_fx.js'][1380] = 0;
  _$jscoverage['js/vs_fx.js'][1391] = 0;
  _$jscoverage['js/vs_fx.js'][1392] = 0;
  _$jscoverage['js/vs_fx.js'][1398] = 0;
  _$jscoverage['js/vs_fx.js'][1399] = 0;
  _$jscoverage['js/vs_fx.js'][1406] = 0;
  _$jscoverage['js/vs_fx.js'][1407] = 0;
  _$jscoverage['js/vs_fx.js'][1414] = 0;
  _$jscoverage['js/vs_fx.js'][1415] = 0;
  _$jscoverage['js/vs_fx.js'][1422] = 0;
  _$jscoverage['js/vs_fx.js'][1423] = 0;
  _$jscoverage['js/vs_fx.js'][1430] = 0;
  _$jscoverage['js/vs_fx.js'][1431] = 0;
  _$jscoverage['js/vs_fx.js'][1438] = 0;
  _$jscoverage['js/vs_fx.js'][1439] = 0;
  _$jscoverage['js/vs_fx.js'][1446] = 0;
  _$jscoverage['js/vs_fx.js'][1447] = 0;
  _$jscoverage['js/vs_fx.js'][1454] = 0;
  _$jscoverage['js/vs_fx.js'][1455] = 0;
  _$jscoverage['js/vs_fx.js'][1462] = 0;
  _$jscoverage['js/vs_fx.js'][1463] = 0;
  _$jscoverage['js/vs_fx.js'][1469] = 0;
  _$jscoverage['js/vs_fx.js'][1470] = 0;
  _$jscoverage['js/vs_fx.js'][1471] = 0;
  _$jscoverage['js/vs_fx.js'][1472] = 0;
  _$jscoverage['js/vs_fx.js'][1473] = 0;
  _$jscoverage['js/vs_fx.js'][1474] = 0;
  _$jscoverage['js/vs_fx.js'][1475] = 0;
  _$jscoverage['js/vs_fx.js'][1476] = 0;
  _$jscoverage['js/vs_fx.js'][1575] = 0;
  _$jscoverage['js/vs_fx.js'][1577] = 0;
  _$jscoverage['js/vs_fx.js'][1578] = 0;
  _$jscoverage['js/vs_fx.js'][1579] = 0;
  _$jscoverage['js/vs_fx.js'][1581] = 0;
  _$jscoverage['js/vs_fx.js'][1583] = 0;
  _$jscoverage['js/vs_fx.js'][1586] = 0;
  _$jscoverage['js/vs_fx.js'][1587] = 0;
  _$jscoverage['js/vs_fx.js'][1591] = 0;
  _$jscoverage['js/vs_fx.js'][1627] = 0;
  _$jscoverage['js/vs_fx.js'][1629] = 0;
  _$jscoverage['js/vs_fx.js'][1631] = 0;
  _$jscoverage['js/vs_fx.js'][1632] = 0;
  _$jscoverage['js/vs_fx.js'][1635] = 0;
  _$jscoverage['js/vs_fx.js'][1637] = 0;
  _$jscoverage['js/vs_fx.js'][1638] = 0;
  _$jscoverage['js/vs_fx.js'][1647] = 0;
  _$jscoverage['js/vs_fx.js'][1649] = 0;
  _$jscoverage['js/vs_fx.js'][1651] = 0;
  _$jscoverage['js/vs_fx.js'][1653] = 0;
  _$jscoverage['js/vs_fx.js'][1654] = 0;
  _$jscoverage['js/vs_fx.js'][1656] = 0;
  _$jscoverage['js/vs_fx.js'][1658] = 0;
  _$jscoverage['js/vs_fx.js'][1659] = 0;
  _$jscoverage['js/vs_fx.js'][1661] = 0;
  _$jscoverage['js/vs_fx.js'][1663] = 0;
  _$jscoverage['js/vs_fx.js'][1664] = 0;
  _$jscoverage['js/vs_fx.js'][1678] = 0;
  _$jscoverage['js/vs_fx.js'][1680] = 0;
  _$jscoverage['js/vs_fx.js'][1681] = 0;
  _$jscoverage['js/vs_fx.js'][1683] = 0;
  _$jscoverage['js/vs_fx.js'][1687] = 0;
  _$jscoverage['js/vs_fx.js'][1706] = 0;
  _$jscoverage['js/vs_fx.js'][1708] = 0;
  _$jscoverage['js/vs_fx.js'][1709] = 0;
  _$jscoverage['js/vs_fx.js'][1711] = 0;
  _$jscoverage['js/vs_fx.js'][1721] = 0;
  _$jscoverage['js/vs_fx.js'][1722] = 0;
  _$jscoverage['js/vs_fx.js'][1753] = 0;
  _$jscoverage['js/vs_fx.js'][1754] = 0;
  _$jscoverage['js/vs_fx.js'][1756] = 0;
  _$jscoverage['js/vs_fx.js'][1757] = 0;
  _$jscoverage['js/vs_fx.js'][1758] = 0;
  _$jscoverage['js/vs_fx.js'][1759] = 0;
  _$jscoverage['js/vs_fx.js'][1760] = 0;
  _$jscoverage['js/vs_fx.js'][1761] = 0;
  _$jscoverage['js/vs_fx.js'][1763] = 0;
  _$jscoverage['js/vs_fx.js'][1764] = 0;
  _$jscoverage['js/vs_fx.js'][1766] = 0;
  _$jscoverage['js/vs_fx.js'][1767] = 0;
  _$jscoverage['js/vs_fx.js'][1768] = 0;
  _$jscoverage['js/vs_fx.js'][1770] = 0;
  _$jscoverage['js/vs_fx.js'][1772] = 0;
  _$jscoverage['js/vs_fx.js'][1774] = 0;
  _$jscoverage['js/vs_fx.js'][1775] = 0;
  _$jscoverage['js/vs_fx.js'][1777] = 0;
  _$jscoverage['js/vs_fx.js'][1778] = 0;
  _$jscoverage['js/vs_fx.js'][1780] = 0;
  _$jscoverage['js/vs_fx.js'][1784] = 0;
  _$jscoverage['js/vs_fx.js'][1786] = 0;
  _$jscoverage['js/vs_fx.js'][1805] = 0;
  _$jscoverage['js/vs_fx.js'][1807] = 0;
  _$jscoverage['js/vs_fx.js'][1808] = 0;
  _$jscoverage['js/vs_fx.js'][1809] = 0;
  _$jscoverage['js/vs_fx.js'][1810] = 0;
  _$jscoverage['js/vs_fx.js'][1811] = 0;
  _$jscoverage['js/vs_fx.js'][1813] = 0;
  _$jscoverage['js/vs_fx.js'][1814] = 0;
  _$jscoverage['js/vs_fx.js'][1816] = 0;
  _$jscoverage['js/vs_fx.js'][1818] = 0;
  _$jscoverage['js/vs_fx.js'][1837] = 0;
  _$jscoverage['js/vs_fx.js'][1838] = 0;
  _$jscoverage['js/vs_fx.js'][1840] = 0;
  _$jscoverage['js/vs_fx.js'][1841] = 0;
  _$jscoverage['js/vs_fx.js'][1843] = 0;
  _$jscoverage['js/vs_fx.js'][1844] = 0;
  _$jscoverage['js/vs_fx.js'][1846] = 0;
  _$jscoverage['js/vs_fx.js'][1848] = 0;
  _$jscoverage['js/vs_fx.js'][1849] = 0;
  _$jscoverage['js/vs_fx.js'][1853] = 0;
  _$jscoverage['js/vs_fx.js'][1854] = 0;
  _$jscoverage['js/vs_fx.js'][1855] = 0;
  _$jscoverage['js/vs_fx.js'][1857] = 0;
  _$jscoverage['js/vs_fx.js'][1883] = 0;
  _$jscoverage['js/vs_fx.js'][1885] = 0;
  _$jscoverage['js/vs_fx.js'][1886] = 0;
  _$jscoverage['js/vs_fx.js'][1887] = 0;
  _$jscoverage['js/vs_fx.js'][1889] = 0;
  _$jscoverage['js/vs_fx.js'][1891] = 0;
  _$jscoverage['js/vs_fx.js'][1894] = 0;
  _$jscoverage['js/vs_fx.js'][1896] = 0;
  _$jscoverage['js/vs_fx.js'][1898] = 0;
  _$jscoverage['js/vs_fx.js'][1899] = 0;
  _$jscoverage['js/vs_fx.js'][1901] = 0;
  _$jscoverage['js/vs_fx.js'][1902] = 0;
  _$jscoverage['js/vs_fx.js'][1912] = 0;
  _$jscoverage['js/vs_fx.js'][1914] = 0;
  _$jscoverage['js/vs_fx.js'][1916] = 0;
  _$jscoverage['js/vs_fx.js'][1918] = 0;
  _$jscoverage['js/vs_fx.js'][1920] = 0;
  _$jscoverage['js/vs_fx.js'][1922] = 0;
  _$jscoverage['js/vs_fx.js'][1923] = 0;
  _$jscoverage['js/vs_fx.js'][1925] = 0;
  _$jscoverage['js/vs_fx.js'][1927] = 0;
  _$jscoverage['js/vs_fx.js'][1929] = 0;
  _$jscoverage['js/vs_fx.js'][1931] = 0;
  _$jscoverage['js/vs_fx.js'][1933] = 0;
  _$jscoverage['js/vs_fx.js'][1935] = 0;
  _$jscoverage['js/vs_fx.js'][1936] = 0;
  _$jscoverage['js/vs_fx.js'][1938] = 0;
  _$jscoverage['js/vs_fx.js'][1939] = 0;
  _$jscoverage['js/vs_fx.js'][1941] = 0;
  _$jscoverage['js/vs_fx.js'][1943] = 0;
  _$jscoverage['js/vs_fx.js'][1945] = 0;
  _$jscoverage['js/vs_fx.js'][1946] = 0;
  _$jscoverage['js/vs_fx.js'][1948] = 0;
  _$jscoverage['js/vs_fx.js'][1950] = 0;
  _$jscoverage['js/vs_fx.js'][1951] = 0;
  _$jscoverage['js/vs_fx.js'][1954] = 0;
  _$jscoverage['js/vs_fx.js'][1956] = 0;
  _$jscoverage['js/vs_fx.js'][1958] = 0;
  _$jscoverage['js/vs_fx.js'][1960] = 0;
  _$jscoverage['js/vs_fx.js'][1964] = 0;
  _$jscoverage['js/vs_fx.js'][1965] = 0;
  _$jscoverage['js/vs_fx.js'][1967] = 0;
  _$jscoverage['js/vs_fx.js'][1969] = 0;
  _$jscoverage['js/vs_fx.js'][1970] = 0;
  _$jscoverage['js/vs_fx.js'][1973] = 0;
  _$jscoverage['js/vs_fx.js'][1975] = 0;
  _$jscoverage['js/vs_fx.js'][2001] = 0;
  _$jscoverage['js/vs_fx.js'][2003] = 0;
  _$jscoverage['js/vs_fx.js'][2005] = 0;
  _$jscoverage['js/vs_fx.js'][2007] = 0;
  _$jscoverage['js/vs_fx.js'][2008] = 0;
  _$jscoverage['js/vs_fx.js'][2010] = 0;
  _$jscoverage['js/vs_fx.js'][2011] = 0;
  _$jscoverage['js/vs_fx.js'][2014] = 0;
  _$jscoverage['js/vs_fx.js'][2015] = 0;
  _$jscoverage['js/vs_fx.js'][2017] = 0;
  _$jscoverage['js/vs_fx.js'][2043] = 0;
  _$jscoverage['js/vs_fx.js'][2045] = 0;
  _$jscoverage['js/vs_fx.js'][2062] = 0;
  _$jscoverage['js/vs_fx.js'][2064] = 0;
  _$jscoverage['js/vs_fx.js'][2068] = 0;
  _$jscoverage['js/vs_fx.js'][2070] = 0;
  _$jscoverage['js/vs_fx.js'][2073] = 0;
  _$jscoverage['js/vs_fx.js'][2074] = 0;
  _$jscoverage['js/vs_fx.js'][2076] = 0;
  _$jscoverage['js/vs_fx.js'][2078] = 0;
  _$jscoverage['js/vs_fx.js'][2079] = 0;
  _$jscoverage['js/vs_fx.js'][2084] = 0;
  _$jscoverage['js/vs_fx.js'][2086] = 0;
  _$jscoverage['js/vs_fx.js'][2088] = 0;
  _$jscoverage['js/vs_fx.js'][2091] = 0;
  _$jscoverage['js/vs_fx.js'][2094] = 0;
  _$jscoverage['js/vs_fx.js'][2096] = 0;
  _$jscoverage['js/vs_fx.js'][2099] = 0;
  _$jscoverage['js/vs_fx.js'][2101] = 0;
  _$jscoverage['js/vs_fx.js'][2105] = 0;
  _$jscoverage['js/vs_fx.js'][2110] = 0;
  _$jscoverage['js/vs_fx.js'][2112] = 0;
  _$jscoverage['js/vs_fx.js'][2113] = 0;
  _$jscoverage['js/vs_fx.js'][2115] = 0;
  _$jscoverage['js/vs_fx.js'][2117] = 0;
  _$jscoverage['js/vs_fx.js'][2118] = 0;
  _$jscoverage['js/vs_fx.js'][2119] = 0;
  _$jscoverage['js/vs_fx.js'][2120] = 0;
  _$jscoverage['js/vs_fx.js'][2131] = 0;
  _$jscoverage['js/vs_fx.js'][2133] = 0;
  _$jscoverage['js/vs_fx.js'][2137] = 0;
  _$jscoverage['js/vs_fx.js'][2139] = 0;
  _$jscoverage['js/vs_fx.js'][2140] = 0;
  _$jscoverage['js/vs_fx.js'][2142] = 0;
  _$jscoverage['js/vs_fx.js'][2144] = 0;
  _$jscoverage['js/vs_fx.js'][2145] = 0;
  _$jscoverage['js/vs_fx.js'][2146] = 0;
  _$jscoverage['js/vs_fx.js'][2147] = 0;
  _$jscoverage['js/vs_fx.js'][2171] = 0;
  _$jscoverage['js/vs_fx.js'][2173] = 0;
  _$jscoverage['js/vs_fx.js'][2175] = 0;
  _$jscoverage['js/vs_fx.js'][2176] = 0;
  _$jscoverage['js/vs_fx.js'][2180] = 0;
  _$jscoverage['js/vs_fx.js'][2182] = 0;
  _$jscoverage['js/vs_fx.js'][2184] = 0;
  _$jscoverage['js/vs_fx.js'][2187] = 0;
  _$jscoverage['js/vs_fx.js'][2188] = 0;
  _$jscoverage['js/vs_fx.js'][2192] = 0;
  _$jscoverage['js/vs_fx.js'][2195] = 0;
  _$jscoverage['js/vs_fx.js'][2196] = 0;
  _$jscoverage['js/vs_fx.js'][2198] = 0;
  _$jscoverage['js/vs_fx.js'][2200] = 0;
  _$jscoverage['js/vs_fx.js'][2202] = 0;
  _$jscoverage['js/vs_fx.js'][2204] = 0;
  _$jscoverage['js/vs_fx.js'][2206] = 0;
  _$jscoverage['js/vs_fx.js'][2208] = 0;
  _$jscoverage['js/vs_fx.js'][2210] = 0;
  _$jscoverage['js/vs_fx.js'][2215] = 0;
  _$jscoverage['js/vs_fx.js'][2220] = 0;
  _$jscoverage['js/vs_fx.js'][2222] = 0;
  _$jscoverage['js/vs_fx.js'][2229] = 0;
  _$jscoverage['js/vs_fx.js'][2232] = 0;
  _$jscoverage['js/vs_fx.js'][2234] = 0;
  _$jscoverage['js/vs_fx.js'][2235] = 0;
  _$jscoverage['js/vs_fx.js'][2237] = 0;
  _$jscoverage['js/vs_fx.js'][2239] = 0;
  _$jscoverage['js/vs_fx.js'][2241] = 0;
  _$jscoverage['js/vs_fx.js'][2245] = 0;
  _$jscoverage['js/vs_fx.js'][2254] = 0;
  _$jscoverage['js/vs_fx.js'][2255] = 0;
  _$jscoverage['js/vs_fx.js'][2271] = 0;
  _$jscoverage['js/vs_fx.js'][2273] = 0;
  _$jscoverage['js/vs_fx.js'][2276] = 0;
  _$jscoverage['js/vs_fx.js'][2282] = 0;
  _$jscoverage['js/vs_fx.js'][2297] = 0;
  _$jscoverage['js/vs_fx.js'][2299] = 0;
  _$jscoverage['js/vs_fx.js'][2300] = 0;
  _$jscoverage['js/vs_fx.js'][2303] = 0;
  _$jscoverage['js/vs_fx.js'][2306] = 0;
  _$jscoverage['js/vs_fx.js'][2307] = 0;
  _$jscoverage['js/vs_fx.js'][2309] = 0;
  _$jscoverage['js/vs_fx.js'][2317] = 0;
  _$jscoverage['js/vs_fx.js'][2339] = 0;
  _$jscoverage['js/vs_fx.js'][2347] = 0;
  _$jscoverage['js/vs_fx.js'][2389] = 0;
  _$jscoverage['js/vs_fx.js'][2391] = 0;
  _$jscoverage['js/vs_fx.js'][2392] = 0;
  _$jscoverage['js/vs_fx.js'][2393] = 0;
  _$jscoverage['js/vs_fx.js'][2395] = 0;
  _$jscoverage['js/vs_fx.js'][2397] = 0;
  _$jscoverage['js/vs_fx.js'][2398] = 0;
  _$jscoverage['js/vs_fx.js'][2399] = 0;
  _$jscoverage['js/vs_fx.js'][2401] = 0;
  _$jscoverage['js/vs_fx.js'][2408] = 0;
  _$jscoverage['js/vs_fx.js'][2415] = 0;
  _$jscoverage['js/vs_fx.js'][2422] = 0;
  _$jscoverage['js/vs_fx.js'][2429] = 0;
  _$jscoverage['js/vs_fx.js'][2431] = 0;
  _$jscoverage['js/vs_fx.js'][2496] = 0;
  _$jscoverage['js/vs_fx.js'][2498] = 0;
  _$jscoverage['js/vs_fx.js'][2507] = 0;
  _$jscoverage['js/vs_fx.js'][2509] = 0;
  _$jscoverage['js/vs_fx.js'][2510] = 0;
  _$jscoverage['js/vs_fx.js'][2545] = 0;
  _$jscoverage['js/vs_fx.js'][2546] = 0;
  _$jscoverage['js/vs_fx.js'][2548] = 0;
  _$jscoverage['js/vs_fx.js'][2550] = 0;
  _$jscoverage['js/vs_fx.js'][2552] = 0;
  _$jscoverage['js/vs_fx.js'][2553] = 0;
  _$jscoverage['js/vs_fx.js'][2556] = 0;
  _$jscoverage['js/vs_fx.js'][2558] = 0;
  _$jscoverage['js/vs_fx.js'][2559] = 0;
  _$jscoverage['js/vs_fx.js'][2561] = 0;
  _$jscoverage['js/vs_fx.js'][2564] = 0;
  _$jscoverage['js/vs_fx.js'][2565] = 0;
  _$jscoverage['js/vs_fx.js'][2566] = 0;
  _$jscoverage['js/vs_fx.js'][2570] = 0;
  _$jscoverage['js/vs_fx.js'][2572] = 0;
  _$jscoverage['js/vs_fx.js'][2573] = 0;
  _$jscoverage['js/vs_fx.js'][2575] = 0;
  _$jscoverage['js/vs_fx.js'][2576] = 0;
  _$jscoverage['js/vs_fx.js'][2578] = 0;
  _$jscoverage['js/vs_fx.js'][2580] = 0;
  _$jscoverage['js/vs_fx.js'][2583] = 0;
  _$jscoverage['js/vs_fx.js'][2584] = 0;
  _$jscoverage['js/vs_fx.js'][2585] = 0;
  _$jscoverage['js/vs_fx.js'][2587] = 0;
  _$jscoverage['js/vs_fx.js'][2589] = 0;
  _$jscoverage['js/vs_fx.js'][2592] = 0;
  _$jscoverage['js/vs_fx.js'][2595] = 0;
  _$jscoverage['js/vs_fx.js'][2596] = 0;
  _$jscoverage['js/vs_fx.js'][2622] = 0;
  _$jscoverage['js/vs_fx.js'][2624] = 0;
  _$jscoverage['js/vs_fx.js'][2625] = 0;
  _$jscoverage['js/vs_fx.js'][2626] = 0;
  _$jscoverage['js/vs_fx.js'][2627] = 0;
  _$jscoverage['js/vs_fx.js'][2628] = 0;
  _$jscoverage['js/vs_fx.js'][2630] = 0;
  _$jscoverage['js/vs_fx.js'][2631] = 0;
  _$jscoverage['js/vs_fx.js'][2633] = 0;
  _$jscoverage['js/vs_fx.js'][2634] = 0;
  _$jscoverage['js/vs_fx.js'][2635] = 0;
  _$jscoverage['js/vs_fx.js'][2637] = 0;
  _$jscoverage['js/vs_fx.js'][2639] = 0;
  _$jscoverage['js/vs_fx.js'][2640] = 0;
  _$jscoverage['js/vs_fx.js'][2642] = 0;
  _$jscoverage['js/vs_fx.js'][2644] = 0;
  _$jscoverage['js/vs_fx.js'][2647] = 0;
  _$jscoverage['js/vs_fx.js'][2649] = 0;
  _$jscoverage['js/vs_fx.js'][2650] = 0;
  _$jscoverage['js/vs_fx.js'][2652] = 0;
  _$jscoverage['js/vs_fx.js'][2653] = 0;
  _$jscoverage['js/vs_fx.js'][2657] = 0;
  _$jscoverage['js/vs_fx.js'][2659] = 0;
  _$jscoverage['js/vs_fx.js'][2660] = 0;
  _$jscoverage['js/vs_fx.js'][2663] = 0;
  _$jscoverage['js/vs_fx.js'][2665] = 0;
  _$jscoverage['js/vs_fx.js'][2667] = 0;
  _$jscoverage['js/vs_fx.js'][2669] = 0;
  _$jscoverage['js/vs_fx.js'][2673] = 0;
  _$jscoverage['js/vs_fx.js'][2674] = 0;
  _$jscoverage['js/vs_fx.js'][2679] = 0;
  _$jscoverage['js/vs_fx.js'][2682] = 0;
  _$jscoverage['js/vs_fx.js'][2693] = 0;
  _$jscoverage['js/vs_fx.js'][2710] = 0;
  _$jscoverage['js/vs_fx.js'][2711] = 0;
  _$jscoverage['js/vs_fx.js'][2713] = 0;
  _$jscoverage['js/vs_fx.js'][2726] = 0;
  _$jscoverage['js/vs_fx.js'][2727] = 0;
  _$jscoverage['js/vs_fx.js'][2729] = 0;
  _$jscoverage['js/vs_fx.js'][2730] = 0;
  _$jscoverage['js/vs_fx.js'][2732] = 0;
  _$jscoverage['js/vs_fx.js'][2734] = 0;
  _$jscoverage['js/vs_fx.js'][2736] = 0;
  _$jscoverage['js/vs_fx.js'][2737] = 0;
  _$jscoverage['js/vs_fx.js'][2739] = 0;
  _$jscoverage['js/vs_fx.js'][2743] = 0;
  _$jscoverage['js/vs_fx.js'][2745] = 0;
  _$jscoverage['js/vs_fx.js'][2746] = 0;
  _$jscoverage['js/vs_fx.js'][2748] = 0;
  _$jscoverage['js/vs_fx.js'][2762] = 0;
  _$jscoverage['js/vs_fx.js'][2775] = 0;
  _$jscoverage['js/vs_fx.js'][2788] = 0;
  _$jscoverage['js/vs_fx.js'][2798] = 0;
  _$jscoverage['js/vs_fx.js'][2804] = 0;
  _$jscoverage['js/vs_fx.js'][2815] = 0;
  _$jscoverage['js/vs_fx.js'][2816] = 0;
  _$jscoverage['js/vs_fx.js'][2817] = 0;
  _$jscoverage['js/vs_fx.js'][2819] = 0;
  _$jscoverage['js/vs_fx.js'][2820] = 0;
  _$jscoverage['js/vs_fx.js'][2822] = 0;
  _$jscoverage['js/vs_fx.js'][2823] = 0;
  _$jscoverage['js/vs_fx.js'][2825] = 0;
  _$jscoverage['js/vs_fx.js'][2834] = 0;
  _$jscoverage['js/vs_fx.js'][2836] = 0;
  _$jscoverage['js/vs_fx.js'][2838] = 0;
  _$jscoverage['js/vs_fx.js'][2849] = 0;
  _$jscoverage['js/vs_fx.js'][2851] = 0;
  _$jscoverage['js/vs_fx.js'][2852] = 0;
  _$jscoverage['js/vs_fx.js'][2854] = 0;
  _$jscoverage['js/vs_fx.js'][2856] = 0;
  _$jscoverage['js/vs_fx.js'][2857] = 0;
  _$jscoverage['js/vs_fx.js'][2858] = 0;
  _$jscoverage['js/vs_fx.js'][2860] = 0;
  _$jscoverage['js/vs_fx.js'][2864] = 0;
  _$jscoverage['js/vs_fx.js'][2865] = 0;
  _$jscoverage['js/vs_fx.js'][2867] = 0;
  _$jscoverage['js/vs_fx.js'][2869] = 0;
  _$jscoverage['js/vs_fx.js'][2870] = 0;
  _$jscoverage['js/vs_fx.js'][2872] = 0;
  _$jscoverage['js/vs_fx.js'][2883] = 0;
  _$jscoverage['js/vs_fx.js'][2894] = 0;
  _$jscoverage['js/vs_fx.js'][2895] = 0;
  _$jscoverage['js/vs_fx.js'][2897] = 0;
  _$jscoverage['js/vs_fx.js'][2905] = 0;
  _$jscoverage['js/vs_fx.js'][2982] = 0;
  _$jscoverage['js/vs_fx.js'][2984] = 0;
  _$jscoverage['js/vs_fx.js'][2985] = 0;
  _$jscoverage['js/vs_fx.js'][2986] = 0;
  _$jscoverage['js/vs_fx.js'][2988] = 0;
  _$jscoverage['js/vs_fx.js'][2990] = 0;
  _$jscoverage['js/vs_fx.js'][2991] = 0;
  _$jscoverage['js/vs_fx.js'][2992] = 0;
  _$jscoverage['js/vs_fx.js'][2994] = 0;
  _$jscoverage['js/vs_fx.js'][3002] = 0;
  _$jscoverage['js/vs_fx.js'][3010] = 0;
  _$jscoverage['js/vs_fx.js'][3018] = 0;
  _$jscoverage['js/vs_fx.js'][3020] = 0;
  _$jscoverage['js/vs_fx.js'][3069] = 0;
  _$jscoverage['js/vs_fx.js'][3070] = 0;
  _$jscoverage['js/vs_fx.js'][3072] = 0;
  _$jscoverage['js/vs_fx.js'][3073] = 0;
  _$jscoverage['js/vs_fx.js'][3074] = 0;
  _$jscoverage['js/vs_fx.js'][3075] = 0;
  _$jscoverage['js/vs_fx.js'][3077] = 0;
  _$jscoverage['js/vs_fx.js'][3079] = 0;
  _$jscoverage['js/vs_fx.js'][3080] = 0;
  _$jscoverage['js/vs_fx.js'][3081] = 0;
  _$jscoverage['js/vs_fx.js'][3082] = 0;
  _$jscoverage['js/vs_fx.js'][3086] = 0;
  _$jscoverage['js/vs_fx.js'][3088] = 0;
  _$jscoverage['js/vs_fx.js'][3090] = 0;
  _$jscoverage['js/vs_fx.js'][3092] = 0;
  _$jscoverage['js/vs_fx.js'][3095] = 0;
  _$jscoverage['js/vs_fx.js'][3097] = 0;
  _$jscoverage['js/vs_fx.js'][3098] = 0;
  _$jscoverage['js/vs_fx.js'][3100] = 0;
  _$jscoverage['js/vs_fx.js'][3102] = 0;
  _$jscoverage['js/vs_fx.js'][3105] = 0;
  _$jscoverage['js/vs_fx.js'][3107] = 0;
  _$jscoverage['js/vs_fx.js'][3109] = 0;
  _$jscoverage['js/vs_fx.js'][3111] = 0;
  _$jscoverage['js/vs_fx.js'][3115] = 0;
  _$jscoverage['js/vs_fx.js'][3116] = 0;
  _$jscoverage['js/vs_fx.js'][3117] = 0;
  _$jscoverage['js/vs_fx.js'][3120] = 0;
  _$jscoverage['js/vs_fx.js'][3121] = 0;
  _$jscoverage['js/vs_fx.js'][3152] = 0;
  _$jscoverage['js/vs_fx.js'][3153] = 0;
  _$jscoverage['js/vs_fx.js'][3155] = 0;
  _$jscoverage['js/vs_fx.js'][3157] = 0;
  _$jscoverage['js/vs_fx.js'][3159] = 0;
  _$jscoverage['js/vs_fx.js'][3160] = 0;
  _$jscoverage['js/vs_fx.js'][3163] = 0;
  _$jscoverage['js/vs_fx.js'][3165] = 0;
  _$jscoverage['js/vs_fx.js'][3166] = 0;
  _$jscoverage['js/vs_fx.js'][3168] = 0;
  _$jscoverage['js/vs_fx.js'][3171] = 0;
  _$jscoverage['js/vs_fx.js'][3173] = 0;
  _$jscoverage['js/vs_fx.js'][3179] = 0;
  _$jscoverage['js/vs_fx.js'][3180] = 0;
  _$jscoverage['js/vs_fx.js'][3182] = 0;
  _$jscoverage['js/vs_fx.js'][3183] = 0;
  _$jscoverage['js/vs_fx.js'][3185] = 0;
  _$jscoverage['js/vs_fx.js'][3187] = 0;
  _$jscoverage['js/vs_fx.js'][3189] = 0;
  _$jscoverage['js/vs_fx.js'][3192] = 0;
  _$jscoverage['js/vs_fx.js'][3193] = 0;
  _$jscoverage['js/vs_fx.js'][3194] = 0;
  _$jscoverage['js/vs_fx.js'][3196] = 0;
  _$jscoverage['js/vs_fx.js'][3198] = 0;
  _$jscoverage['js/vs_fx.js'][3201] = 0;
  _$jscoverage['js/vs_fx.js'][3202] = 0;
  _$jscoverage['js/vs_fx.js'][3203] = 0;
  _$jscoverage['js/vs_fx.js'][3207] = 0;
  _$jscoverage['js/vs_fx.js'][3209] = 0;
  _$jscoverage['js/vs_fx.js'][3210] = 0;
  _$jscoverage['js/vs_fx.js'][3214] = 0;
  _$jscoverage['js/vs_fx.js'][3215] = 0;
  _$jscoverage['js/vs_fx.js'][3224] = 0;
  _$jscoverage['js/vs_fx.js'][3225] = 0;
  _$jscoverage['js/vs_fx.js'][3226] = 0;
  _$jscoverage['js/vs_fx.js'][3228] = 0;
  _$jscoverage['js/vs_fx.js'][3230] = 0;
  _$jscoverage['js/vs_fx.js'][3232] = 0;
  _$jscoverage['js/vs_fx.js'][3235] = 0;
  _$jscoverage['js/vs_fx.js'][3236] = 0;
  _$jscoverage['js/vs_fx.js'][3248] = 0;
  _$jscoverage['js/vs_fx.js'][3251] = 0;
  _$jscoverage['js/vs_fx.js'][3253] = 0;
  _$jscoverage['js/vs_fx.js'][3255] = 0;
  _$jscoverage['js/vs_fx.js'][3256] = 0;
  _$jscoverage['js/vs_fx.js'][3258] = 0;
  _$jscoverage['js/vs_fx.js'][3262] = 0;
  _$jscoverage['js/vs_fx.js'][3263] = 0;
  _$jscoverage['js/vs_fx.js'][3265] = 0;
  _$jscoverage['js/vs_fx.js'][3268] = 0;
  _$jscoverage['js/vs_fx.js'][3269] = 0;
  _$jscoverage['js/vs_fx.js'][3271] = 0;
  _$jscoverage['js/vs_fx.js'][3272] = 0;
  _$jscoverage['js/vs_fx.js'][3274] = 0;
  _$jscoverage['js/vs_fx.js'][3276] = 0;
  _$jscoverage['js/vs_fx.js'][3277] = 0;
  _$jscoverage['js/vs_fx.js'][3279] = 0;
  _$jscoverage['js/vs_fx.js'][3280] = 0;
  _$jscoverage['js/vs_fx.js'][3282] = 0;
  _$jscoverage['js/vs_fx.js'][3286] = 0;
  _$jscoverage['js/vs_fx.js'][3287] = 0;
  _$jscoverage['js/vs_fx.js'][3289] = 0;
  _$jscoverage['js/vs_fx.js'][3292] = 0;
  _$jscoverage['js/vs_fx.js'][3294] = 0;
  _$jscoverage['js/vs_fx.js'][3296] = 0;
  _$jscoverage['js/vs_fx.js'][3298] = 0;
  _$jscoverage['js/vs_fx.js'][3300] = 0;
  _$jscoverage['js/vs_fx.js'][3302] = 0;
  _$jscoverage['js/vs_fx.js'][3304] = 0;
  _$jscoverage['js/vs_fx.js'][3306] = 0;
  _$jscoverage['js/vs_fx.js'][3307] = 0;
  _$jscoverage['js/vs_fx.js'][3311] = 0;
  _$jscoverage['js/vs_fx.js'][3312] = 0;
  _$jscoverage['js/vs_fx.js'][3316] = 0;
  _$jscoverage['js/vs_fx.js'][3317] = 0;
  _$jscoverage['js/vs_fx.js'][3327] = 0;
  _$jscoverage['js/vs_fx.js'][3328] = 0;
  _$jscoverage['js/vs_fx.js'][3439] = 0;
  _$jscoverage['js/vs_fx.js'][3445] = 0;
  _$jscoverage['js/vs_fx.js'][3456] = 0;
  _$jscoverage['js/vs_fx.js'][3458] = 0;
  _$jscoverage['js/vs_fx.js'][3459] = 0;
  _$jscoverage['js/vs_fx.js'][3461] = 0;
  _$jscoverage['js/vs_fx.js'][3462] = 0;
  _$jscoverage['js/vs_fx.js'][3471] = 0;
  _$jscoverage['js/vs_fx.js'][3482] = 0;
  _$jscoverage['js/vs_fx.js'][3483] = 0;
  _$jscoverage['js/vs_fx.js'][3485] = 0;
  _$jscoverage['js/vs_fx.js'][3486] = 0;
  _$jscoverage['js/vs_fx.js'][3487] = 0;
  _$jscoverage['js/vs_fx.js'][3488] = 0;
  _$jscoverage['js/vs_fx.js'][3496] = 0;
  _$jscoverage['js/vs_fx.js'][3618] = 0;
  _$jscoverage['js/vs_fx.js'][3620] = 0;
  _$jscoverage['js/vs_fx.js'][3621] = 0;
  _$jscoverage['js/vs_fx.js'][3622] = 0;
  _$jscoverage['js/vs_fx.js'][3624] = 0;
  _$jscoverage['js/vs_fx.js'][3626] = 0;
  _$jscoverage['js/vs_fx.js'][3629] = 0;
  _$jscoverage['js/vs_fx.js'][3632] = 0;
  _$jscoverage['js/vs_fx.js'][3634] = 0;
  _$jscoverage['js/vs_fx.js'][3636] = 0;
  _$jscoverage['js/vs_fx.js'][3648] = 0;
  _$jscoverage['js/vs_fx.js'][3655] = 0;
  _$jscoverage['js/vs_fx.js'][3664] = 0;
  _$jscoverage['js/vs_fx.js'][3671] = 0;
  _$jscoverage['js/vs_fx.js'][3677] = 0;
  _$jscoverage['js/vs_fx.js'][3679] = 0;
  _$jscoverage['js/vs_fx.js'][3709] = 0;
  _$jscoverage['js/vs_fx.js'][3718] = 0;
  _$jscoverage['js/vs_fx.js'][3720] = 0;
  _$jscoverage['js/vs_fx.js'][3722] = 0;
  _$jscoverage['js/vs_fx.js'][3723] = 0;
  _$jscoverage['js/vs_fx.js'][3724] = 0;
  _$jscoverage['js/vs_fx.js'][3725] = 0;
  _$jscoverage['js/vs_fx.js'][3738] = 0;
  _$jscoverage['js/vs_fx.js'][3740] = 0;
  _$jscoverage['js/vs_fx.js'][3749] = 0;
  _$jscoverage['js/vs_fx.js'][3750] = 0;
  _$jscoverage['js/vs_fx.js'][3759] = 0;
  _$jscoverage['js/vs_fx.js'][3761] = 0;
  _$jscoverage['js/vs_fx.js'][3762] = 0;
  _$jscoverage['js/vs_fx.js'][3802] = 0;
  _$jscoverage['js/vs_fx.js'][3803] = 0;
  _$jscoverage['js/vs_fx.js'][3805] = 0;
  _$jscoverage['js/vs_fx.js'][3807] = 0;
  _$jscoverage['js/vs_fx.js'][3809] = 0;
  _$jscoverage['js/vs_fx.js'][3810] = 0;
  _$jscoverage['js/vs_fx.js'][3812] = 0;
  _$jscoverage['js/vs_fx.js'][3815] = 0;
  _$jscoverage['js/vs_fx.js'][3829] = 0;
  _$jscoverage['js/vs_fx.js'][3831] = 0;
  _$jscoverage['js/vs_fx.js'][3832] = 0;
  _$jscoverage['js/vs_fx.js'][3834] = 0;
  _$jscoverage['js/vs_fx.js'][3836] = 0;
  _$jscoverage['js/vs_fx.js'][3837] = 0;
  _$jscoverage['js/vs_fx.js'][3839] = 0;
  _$jscoverage['js/vs_fx.js'][3840] = 0;
  _$jscoverage['js/vs_fx.js'][3843] = 0;
  _$jscoverage['js/vs_fx.js'][3844] = 0;
  _$jscoverage['js/vs_fx.js'][3846] = 0;
  _$jscoverage['js/vs_fx.js'][3847] = 0;
  _$jscoverage['js/vs_fx.js'][3849] = 0;
  _$jscoverage['js/vs_fx.js'][3850] = 0;
  _$jscoverage['js/vs_fx.js'][3852] = 0;
  _$jscoverage['js/vs_fx.js'][3856] = 0;
  _$jscoverage['js/vs_fx.js'][3857] = 0;
  _$jscoverage['js/vs_fx.js'][3859] = 0;
  _$jscoverage['js/vs_fx.js'][3879] = 0;
  _$jscoverage['js/vs_fx.js'][3880] = 0;
  _$jscoverage['js/vs_fx.js'][3881] = 0;
  _$jscoverage['js/vs_fx.js'][3883] = 0;
  _$jscoverage['js/vs_fx.js'][3885] = 0;
  _$jscoverage['js/vs_fx.js'][3887] = 0;
  _$jscoverage['js/vs_fx.js'][3890] = 0;
  _$jscoverage['js/vs_fx.js'][3893] = 0;
  _$jscoverage['js/vs_fx.js'][3894] = 0;
  _$jscoverage['js/vs_fx.js'][3895] = 0;
  _$jscoverage['js/vs_fx.js'][3896] = 0;
  _$jscoverage['js/vs_fx.js'][3898] = 0;
  _$jscoverage['js/vs_fx.js'][3900] = 0;
  _$jscoverage['js/vs_fx.js'][3903] = 0;
  _$jscoverage['js/vs_fx.js'][3906] = 0;
  _$jscoverage['js/vs_fx.js'][3907] = 0;
  _$jscoverage['js/vs_fx.js'][3911] = 0;
  _$jscoverage['js/vs_fx.js'][3914] = 0;
  _$jscoverage['js/vs_fx.js'][3917] = 0;
  _$jscoverage['js/vs_fx.js'][3918] = 0;
  _$jscoverage['js/vs_fx.js'][3933] = 0;
  _$jscoverage['js/vs_fx.js'][3935] = 0;
  _$jscoverage['js/vs_fx.js'][3953] = 0;
  _$jscoverage['js/vs_fx.js'][3956] = 0;
  _$jscoverage['js/vs_fx.js'][3958] = 0;
  _$jscoverage['js/vs_fx.js'][3963] = 0;
  _$jscoverage['js/vs_fx.js'][3969] = 0;
  _$jscoverage['js/vs_fx.js'][3979] = 0;
  _$jscoverage['js/vs_fx.js'][3980] = 0;
  _$jscoverage['js/vs_fx.js'][3981] = 0;
  _$jscoverage['js/vs_fx.js'][3983] = 0;
  _$jscoverage['js/vs_fx.js'][3984] = 0;
  _$jscoverage['js/vs_fx.js'][3986] = 0;
  _$jscoverage['js/vs_fx.js'][3987] = 0;
  _$jscoverage['js/vs_fx.js'][3989] = 0;
  _$jscoverage['js/vs_fx.js'][3998] = 0;
  _$jscoverage['js/vs_fx.js'][4000] = 0;
  _$jscoverage['js/vs_fx.js'][4002] = 0;
  _$jscoverage['js/vs_fx.js'][4015] = 0;
  _$jscoverage['js/vs_fx.js'][4017] = 0;
  _$jscoverage['js/vs_fx.js'][4018] = 0;
  _$jscoverage['js/vs_fx.js'][4021] = 0;
  _$jscoverage['js/vs_fx.js'][4024] = 0;
  _$jscoverage['js/vs_fx.js'][4025] = 0;
  _$jscoverage['js/vs_fx.js'][4027] = 0;
  _$jscoverage['js/vs_fx.js'][4028] = 0;
  _$jscoverage['js/vs_fx.js'][4029] = 0;
  _$jscoverage['js/vs_fx.js'][4031] = 0;
  _$jscoverage['js/vs_fx.js'][4040] = 0;
  _$jscoverage['js/vs_fx.js'][4048] = 0;
  _$jscoverage['js/vs_fx.js'][4145] = 0;
  _$jscoverage['js/vs_fx.js'][4147] = 0;
  _$jscoverage['js/vs_fx.js'][4148] = 0;
  _$jscoverage['js/vs_fx.js'][4149] = 0;
  _$jscoverage['js/vs_fx.js'][4151] = 0;
  _$jscoverage['js/vs_fx.js'][4153] = 0;
  _$jscoverage['js/vs_fx.js'][4154] = 0;
  _$jscoverage['js/vs_fx.js'][4156] = 0;
  _$jscoverage['js/vs_fx.js'][4164] = 0;
  _$jscoverage['js/vs_fx.js'][4171] = 0;
  _$jscoverage['js/vs_fx.js'][4178] = 0;
  _$jscoverage['js/vs_fx.js'][4185] = 0;
  _$jscoverage['js/vs_fx.js'][4192] = 0;
  _$jscoverage['js/vs_fx.js'][4194] = 0;
  _$jscoverage['js/vs_fx.js'][4231] = 0;
  _$jscoverage['js/vs_fx.js'][4232] = 0;
  _$jscoverage['js/vs_fx.js'][4234] = 0;
  _$jscoverage['js/vs_fx.js'][4236] = 0;
  _$jscoverage['js/vs_fx.js'][4237] = 0;
  _$jscoverage['js/vs_fx.js'][4239] = 0;
  _$jscoverage['js/vs_fx.js'][4241] = 0;
  _$jscoverage['js/vs_fx.js'][4242] = 0;
  _$jscoverage['js/vs_fx.js'][4244] = 0;
  _$jscoverage['js/vs_fx.js'][4246] = 0;
  _$jscoverage['js/vs_fx.js'][4247] = 0;
  _$jscoverage['js/vs_fx.js'][4251] = 0;
  _$jscoverage['js/vs_fx.js'][4252] = 0;
  _$jscoverage['js/vs_fx.js'][4287] = 0;
  _$jscoverage['js/vs_fx.js'][4288] = 0;
  _$jscoverage['js/vs_fx.js'][4290] = 0;
  _$jscoverage['js/vs_fx.js'][4292] = 0;
  _$jscoverage['js/vs_fx.js'][4294] = 0;
  _$jscoverage['js/vs_fx.js'][4295] = 0;
  _$jscoverage['js/vs_fx.js'][4298] = 0;
  _$jscoverage['js/vs_fx.js'][4300] = 0;
  _$jscoverage['js/vs_fx.js'][4301] = 0;
  _$jscoverage['js/vs_fx.js'][4303] = 0;
  _$jscoverage['js/vs_fx.js'][4306] = 0;
  _$jscoverage['js/vs_fx.js'][4308] = 0;
  _$jscoverage['js/vs_fx.js'][4314] = 0;
  _$jscoverage['js/vs_fx.js'][4315] = 0;
  _$jscoverage['js/vs_fx.js'][4317] = 0;
  _$jscoverage['js/vs_fx.js'][4318] = 0;
  _$jscoverage['js/vs_fx.js'][4320] = 0;
  _$jscoverage['js/vs_fx.js'][4322] = 0;
  _$jscoverage['js/vs_fx.js'][4324] = 0;
  _$jscoverage['js/vs_fx.js'][4327] = 0;
  _$jscoverage['js/vs_fx.js'][4328] = 0;
  _$jscoverage['js/vs_fx.js'][4329] = 0;
  _$jscoverage['js/vs_fx.js'][4331] = 0;
  _$jscoverage['js/vs_fx.js'][4333] = 0;
  _$jscoverage['js/vs_fx.js'][4336] = 0;
  _$jscoverage['js/vs_fx.js'][4337] = 0;
  _$jscoverage['js/vs_fx.js'][4338] = 0;
  _$jscoverage['js/vs_fx.js'][4342] = 0;
  _$jscoverage['js/vs_fx.js'][4344] = 0;
  _$jscoverage['js/vs_fx.js'][4345] = 0;
  _$jscoverage['js/vs_fx.js'][4349] = 0;
  _$jscoverage['js/vs_fx.js'][4350] = 0;
  _$jscoverage['js/vs_fx.js'][4359] = 0;
  _$jscoverage['js/vs_fx.js'][4360] = 0;
  _$jscoverage['js/vs_fx.js'][4361] = 0;
  _$jscoverage['js/vs_fx.js'][4362] = 0;
  _$jscoverage['js/vs_fx.js'][4363] = 0;
  _$jscoverage['js/vs_fx.js'][4365] = 0;
  _$jscoverage['js/vs_fx.js'][4367] = 0;
  _$jscoverage['js/vs_fx.js'][4369] = 0;
  _$jscoverage['js/vs_fx.js'][4371] = 0;
  _$jscoverage['js/vs_fx.js'][4373] = 0;
  _$jscoverage['js/vs_fx.js'][4377] = 0;
  _$jscoverage['js/vs_fx.js'][4379] = 0;
  _$jscoverage['js/vs_fx.js'][4380] = 0;
  _$jscoverage['js/vs_fx.js'][4382] = 0;
  _$jscoverage['js/vs_fx.js'][4383] = 0;
  _$jscoverage['js/vs_fx.js'][4392] = 0;
  _$jscoverage['js/vs_fx.js'][4394] = 0;
  _$jscoverage['js/vs_fx.js'][4396] = 0;
  _$jscoverage['js/vs_fx.js'][4399] = 0;
  _$jscoverage['js/vs_fx.js'][4400] = 0;
  _$jscoverage['js/vs_fx.js'][4402] = 0;
  _$jscoverage['js/vs_fx.js'][4406] = 0;
  _$jscoverage['js/vs_fx.js'][4407] = 0;
  _$jscoverage['js/vs_fx.js'][4409] = 0;
  _$jscoverage['js/vs_fx.js'][4412] = 0;
  _$jscoverage['js/vs_fx.js'][4413] = 0;
  _$jscoverage['js/vs_fx.js'][4415] = 0;
  _$jscoverage['js/vs_fx.js'][4417] = 0;
  _$jscoverage['js/vs_fx.js'][4418] = 0;
  _$jscoverage['js/vs_fx.js'][4420] = 0;
  _$jscoverage['js/vs_fx.js'][4423] = 0;
  _$jscoverage['js/vs_fx.js'][4424] = 0;
  _$jscoverage['js/vs_fx.js'][4426] = 0;
  _$jscoverage['js/vs_fx.js'][4429] = 0;
  _$jscoverage['js/vs_fx.js'][4430] = 0;
  _$jscoverage['js/vs_fx.js'][4432] = 0;
  _$jscoverage['js/vs_fx.js'][4434] = 0;
  _$jscoverage['js/vs_fx.js'][4435] = 0;
  _$jscoverage['js/vs_fx.js'][4436] = 0;
  _$jscoverage['js/vs_fx.js'][4440] = 0;
  _$jscoverage['js/vs_fx.js'][4441] = 0;
  _$jscoverage['js/vs_fx.js'][4443] = 0;
  _$jscoverage['js/vs_fx.js'][4445] = 0;
  _$jscoverage['js/vs_fx.js'][4446] = 0;
  _$jscoverage['js/vs_fx.js'][4447] = 0;
  _$jscoverage['js/vs_fx.js'][4449] = 0;
  _$jscoverage['js/vs_fx.js'][4452] = 0;
  _$jscoverage['js/vs_fx.js'][4454] = 0;
  _$jscoverage['js/vs_fx.js'][4455] = 0;
  _$jscoverage['js/vs_fx.js'][4457] = 0;
  _$jscoverage['js/vs_fx.js'][4459] = 0;
  _$jscoverage['js/vs_fx.js'][4461] = 0;
  _$jscoverage['js/vs_fx.js'][4463] = 0;
  _$jscoverage['js/vs_fx.js'][4466] = 0;
  _$jscoverage['js/vs_fx.js'][4468] = 0;
  _$jscoverage['js/vs_fx.js'][4471] = 0;
  _$jscoverage['js/vs_fx.js'][4476] = 0;
  _$jscoverage['js/vs_fx.js'][4478] = 0;
  _$jscoverage['js/vs_fx.js'][4481] = 0;
  _$jscoverage['js/vs_fx.js'][4484] = 0;
  _$jscoverage['js/vs_fx.js'][4485] = 0;
  _$jscoverage['js/vs_fx.js'][4491] = 0;
  _$jscoverage['js/vs_fx.js'][4493] = 0;
  _$jscoverage['js/vs_fx.js'][4494] = 0;
  _$jscoverage['js/vs_fx.js'][4496] = 0;
  _$jscoverage['js/vs_fx.js'][4498] = 0;
  _$jscoverage['js/vs_fx.js'][4499] = 0;
  _$jscoverage['js/vs_fx.js'][4501] = 0;
  _$jscoverage['js/vs_fx.js'][4504] = 0;
  _$jscoverage['js/vs_fx.js'][4506] = 0;
  _$jscoverage['js/vs_fx.js'][4509] = 0;
  _$jscoverage['js/vs_fx.js'][4514] = 0;
  _$jscoverage['js/vs_fx.js'][4516] = 0;
  _$jscoverage['js/vs_fx.js'][4519] = 0;
  _$jscoverage['js/vs_fx.js'][4522] = 0;
  _$jscoverage['js/vs_fx.js'][4523] = 0;
  _$jscoverage['js/vs_fx.js'][4528] = 0;
  _$jscoverage['js/vs_fx.js'][4530] = 0;
  _$jscoverage['js/vs_fx.js'][4532] = 0;
  _$jscoverage['js/vs_fx.js'][4535] = 0;
  _$jscoverage['js/vs_fx.js'][4537] = 0;
  _$jscoverage['js/vs_fx.js'][4539] = 0;
  _$jscoverage['js/vs_fx.js'][4541] = 0;
  _$jscoverage['js/vs_fx.js'][4546] = 0;
  _$jscoverage['js/vs_fx.js'][4548] = 0;
  _$jscoverage['js/vs_fx.js'][4550] = 0;
  _$jscoverage['js/vs_fx.js'][4552] = 0;
  _$jscoverage['js/vs_fx.js'][4555] = 0;
  _$jscoverage['js/vs_fx.js'][4557] = 0;
  _$jscoverage['js/vs_fx.js'][4559] = 0;
  _$jscoverage['js/vs_fx.js'][4560] = 0;
  _$jscoverage['js/vs_fx.js'][4562] = 0;
  _$jscoverage['js/vs_fx.js'][4566] = 0;
  _$jscoverage['js/vs_fx.js'][4567] = 0;
  _$jscoverage['js/vs_fx.js'][4568] = 0;
  _$jscoverage['js/vs_fx.js'][4570] = 0;
  _$jscoverage['js/vs_fx.js'][4572] = 0;
  _$jscoverage['js/vs_fx.js'][4574] = 0;
  _$jscoverage['js/vs_fx.js'][4578] = 0;
  _$jscoverage['js/vs_fx.js'][4579] = 0;
  _$jscoverage['js/vs_fx.js'][4580] = 0;
  _$jscoverage['js/vs_fx.js'][4582] = 0;
  _$jscoverage['js/vs_fx.js'][4584] = 0;
  _$jscoverage['js/vs_fx.js'][4586] = 0;
  _$jscoverage['js/vs_fx.js'][4588] = 0;
  _$jscoverage['js/vs_fx.js'][4589] = 0;
  _$jscoverage['js/vs_fx.js'][4591] = 0;
  _$jscoverage['js/vs_fx.js'][4592] = 0;
  _$jscoverage['js/vs_fx.js'][4594] = 0;
  _$jscoverage['js/vs_fx.js'][4596] = 0;
  _$jscoverage['js/vs_fx.js'][4598] = 0;
  _$jscoverage['js/vs_fx.js'][4600] = 0;
  _$jscoverage['js/vs_fx.js'][4602] = 0;
  _$jscoverage['js/vs_fx.js'][4604] = 0;
  _$jscoverage['js/vs_fx.js'][4608] = 0;
  _$jscoverage['js/vs_fx.js'][4610] = 0;
  _$jscoverage['js/vs_fx.js'][4611] = 0;
  _$jscoverage['js/vs_fx.js'][4613] = 0;
  _$jscoverage['js/vs_fx.js'][4615] = 0;
  _$jscoverage['js/vs_fx.js'][4619] = 0;
  _$jscoverage['js/vs_fx.js'][4620] = 0;
  _$jscoverage['js/vs_fx.js'][4624] = 0;
  _$jscoverage['js/vs_fx.js'][4630] = 0;
  _$jscoverage['js/vs_fx.js'][4640] = 0;
  _$jscoverage['js/vs_fx.js'][4643] = 0;
  _$jscoverage['js/vs_fx.js'][4646] = 0;
  _$jscoverage['js/vs_fx.js'][4648] = 0;
  _$jscoverage['js/vs_fx.js'][4649] = 0;
  _$jscoverage['js/vs_fx.js'][4658] = 0;
  _$jscoverage['js/vs_fx.js'][4669] = 0;
  _$jscoverage['js/vs_fx.js'][4670] = 0;
  _$jscoverage['js/vs_fx.js'][4672] = 0;
  _$jscoverage['js/vs_fx.js'][4673] = 0;
  _$jscoverage['js/vs_fx.js'][4674] = 0;
  _$jscoverage['js/vs_fx.js'][4675] = 0;
  _$jscoverage['js/vs_fx.js'][4676] = 0;
  _$jscoverage['js/vs_fx.js'][4686] = 0;
  _$jscoverage['js/vs_fx.js'][4773] = 0;
  _$jscoverage['js/vs_fx.js'][4775] = 0;
  _$jscoverage['js/vs_fx.js'][4776] = 0;
  _$jscoverage['js/vs_fx.js'][4777] = 0;
  _$jscoverage['js/vs_fx.js'][4779] = 0;
  _$jscoverage['js/vs_fx.js'][4786] = 0;
  _$jscoverage['js/vs_fx.js'][4787] = 0;
  _$jscoverage['js/vs_fx.js'][4788] = 0;
  _$jscoverage['js/vs_fx.js'][4789] = 0;
  _$jscoverage['js/vs_fx.js'][4790] = 0;
  _$jscoverage['js/vs_fx.js'][4791] = 0;
  _$jscoverage['js/vs_fx.js'][4792] = 0;
  _$jscoverage['js/vs_fx.js'][4793] = 0;
  _$jscoverage['js/vs_fx.js'][4799] = 0;
  _$jscoverage['js/vs_fx.js'][4805] = 0;
  _$jscoverage['js/vs_fx.js'][4808] = 0;
  _$jscoverage['js/vs_fx.js'][4852] = 0;
  _$jscoverage['js/vs_fx.js'][4854] = 0;
  _$jscoverage['js/vs_fx.js'][4856] = 0;
  _$jscoverage['js/vs_fx.js'][4857] = 0;
  _$jscoverage['js/vs_fx.js'][4858] = 0;
  _$jscoverage['js/vs_fx.js'][4860] = 0;
  _$jscoverage['js/vs_fx.js'][4873] = 0;
  _$jscoverage['js/vs_fx.js'][4875] = 0;
  _$jscoverage['js/vs_fx.js'][4877] = 0;
  _$jscoverage['js/vs_fx.js'][4879] = 0;
  _$jscoverage['js/vs_fx.js'][4880] = 0;
  _$jscoverage['js/vs_fx.js'][4882] = 0;
  _$jscoverage['js/vs_fx.js'][4886] = 0;
  _$jscoverage['js/vs_fx.js'][4887] = 0;
  _$jscoverage['js/vs_fx.js'][4889] = 0;
  _$jscoverage['js/vs_fx.js'][4892] = 0;
  _$jscoverage['js/vs_fx.js'][4893] = 0;
  _$jscoverage['js/vs_fx.js'][4895] = 0;
  _$jscoverage['js/vs_fx.js'][4897] = 0;
  _$jscoverage['js/vs_fx.js'][4899] = 0;
  _$jscoverage['js/vs_fx.js'][4900] = 0;
  _$jscoverage['js/vs_fx.js'][4901] = 0;
  _$jscoverage['js/vs_fx.js'][4903] = 0;
  _$jscoverage['js/vs_fx.js'][4905] = 0;
  _$jscoverage['js/vs_fx.js'][4907] = 0;
  _$jscoverage['js/vs_fx.js'][4908] = 0;
  _$jscoverage['js/vs_fx.js'][4910] = 0;
  _$jscoverage['js/vs_fx.js'][4912] = 0;
  _$jscoverage['js/vs_fx.js'][4913] = 0;
  _$jscoverage['js/vs_fx.js'][4914] = 0;
  _$jscoverage['js/vs_fx.js'][4918] = 0;
  _$jscoverage['js/vs_fx.js'][4919] = 0;
  _$jscoverage['js/vs_fx.js'][4921] = 0;
  _$jscoverage['js/vs_fx.js'][4923] = 0;
  _$jscoverage['js/vs_fx.js'][4924] = 0;
  _$jscoverage['js/vs_fx.js'][4925] = 0;
  _$jscoverage['js/vs_fx.js'][4927] = 0;
  _$jscoverage['js/vs_fx.js'][4929] = 0;
  _$jscoverage['js/vs_fx.js'][4930] = 0;
  _$jscoverage['js/vs_fx.js'][4932] = 0;
  _$jscoverage['js/vs_fx.js'][4934] = 0;
  _$jscoverage['js/vs_fx.js'][4935] = 0;
  _$jscoverage['js/vs_fx.js'][4937] = 0;
  _$jscoverage['js/vs_fx.js'][4939] = 0;
  _$jscoverage['js/vs_fx.js'][4941] = 0;
  _$jscoverage['js/vs_fx.js'][4944] = 0;
  _$jscoverage['js/vs_fx.js'][4949] = 0;
  _$jscoverage['js/vs_fx.js'][4951] = 0;
  _$jscoverage['js/vs_fx.js'][4954] = 0;
  _$jscoverage['js/vs_fx.js'][4957] = 0;
  _$jscoverage['js/vs_fx.js'][4958] = 0;
  _$jscoverage['js/vs_fx.js'][4962] = 0;
  _$jscoverage['js/vs_fx.js'][4964] = 0;
  _$jscoverage['js/vs_fx.js'][4965] = 0;
  _$jscoverage['js/vs_fx.js'][4967] = 0;
  _$jscoverage['js/vs_fx.js'][4969] = 0;
  _$jscoverage['js/vs_fx.js'][4971] = 0;
  _$jscoverage['js/vs_fx.js'][4973] = 0;
  _$jscoverage['js/vs_fx.js'][4975] = 0;
  _$jscoverage['js/vs_fx.js'][4977] = 0;
  _$jscoverage['js/vs_fx.js'][4978] = 0;
  _$jscoverage['js/vs_fx.js'][4980] = 0;
  _$jscoverage['js/vs_fx.js'][4982] = 0;
  _$jscoverage['js/vs_fx.js'][4983] = 0;
  _$jscoverage['js/vs_fx.js'][4984] = 0;
  _$jscoverage['js/vs_fx.js'][4986] = 0;
  _$jscoverage['js/vs_fx.js'][4988] = 0;
  _$jscoverage['js/vs_fx.js'][4990] = 0;
  _$jscoverage['js/vs_fx.js'][4992] = 0;
  _$jscoverage['js/vs_fx.js'][4993] = 0;
  _$jscoverage['js/vs_fx.js'][4995] = 0;
  _$jscoverage['js/vs_fx.js'][4997] = 0;
  _$jscoverage['js/vs_fx.js'][4999] = 0;
  _$jscoverage['js/vs_fx.js'][5002] = 0;
  _$jscoverage['js/vs_fx.js'][5007] = 0;
  _$jscoverage['js/vs_fx.js'][5009] = 0;
  _$jscoverage['js/vs_fx.js'][5012] = 0;
  _$jscoverage['js/vs_fx.js'][5015] = 0;
  _$jscoverage['js/vs_fx.js'][5017] = 0;
  _$jscoverage['js/vs_fx.js'][5021] = 0;
  _$jscoverage['js/vs_fx.js'][5022] = 0;
  _$jscoverage['js/vs_fx.js'][5041] = 0;
  _$jscoverage['js/vs_fx.js'][5046] = 0;
  _$jscoverage['js/vs_fx.js'][5047] = 0;
  _$jscoverage['js/vs_fx.js'][5049] = 0;
  _$jscoverage['js/vs_fx.js'][5051] = 0;
  _$jscoverage['js/vs_fx.js'][5052] = 0;
  _$jscoverage['js/vs_fx.js'][5053] = 0;
  _$jscoverage['js/vs_fx.js'][5054] = 0;
  _$jscoverage['js/vs_fx.js'][5056] = 0;
  _$jscoverage['js/vs_fx.js'][5058] = 0;
  _$jscoverage['js/vs_fx.js'][5060] = 0;
  _$jscoverage['js/vs_fx.js'][5063] = 0;
  _$jscoverage['js/vs_fx.js'][5065] = 0;
  _$jscoverage['js/vs_fx.js'][5068] = 0;
  _$jscoverage['js/vs_fx.js'][5070] = 0;
  _$jscoverage['js/vs_fx.js'][5072] = 0;
  _$jscoverage['js/vs_fx.js'][5075] = 0;
  _$jscoverage['js/vs_fx.js'][5076] = 0;
  _$jscoverage['js/vs_fx.js'][5077] = 0;
  _$jscoverage['js/vs_fx.js'][5079] = 0;
  _$jscoverage['js/vs_fx.js'][5081] = 0;
  _$jscoverage['js/vs_fx.js'][5083] = 0;
  _$jscoverage['js/vs_fx.js'][5085] = 0;
  _$jscoverage['js/vs_fx.js'][5089] = 0;
  _$jscoverage['js/vs_fx.js'][5091] = 0;
  _$jscoverage['js/vs_fx.js'][5092] = 0;
  _$jscoverage['js/vs_fx.js'][5096] = 0;
  _$jscoverage['js/vs_fx.js'][5099] = 0;
  _$jscoverage['js/vs_fx.js'][5100] = 0;
  _$jscoverage['js/vs_fx.js'][5102] = 0;
  _$jscoverage['js/vs_fx.js'][5104] = 0;
  _$jscoverage['js/vs_fx.js'][5106] = 0;
  _$jscoverage['js/vs_fx.js'][5110] = 0;
  _$jscoverage['js/vs_fx.js'][5113] = 0;
  _$jscoverage['js/vs_fx.js'][5115] = 0;
  _$jscoverage['js/vs_fx.js'][5116] = 0;
  _$jscoverage['js/vs_fx.js'][5117] = 0;
  _$jscoverage['js/vs_fx.js'][5120] = 0;
  _$jscoverage['js/vs_fx.js'][5122] = 0;
  _$jscoverage['js/vs_fx.js'][5123] = 0;
  _$jscoverage['js/vs_fx.js'][5125] = 0;
  _$jscoverage['js/vs_fx.js'][5127] = 0;
  _$jscoverage['js/vs_fx.js'][5129] = 0;
  _$jscoverage['js/vs_fx.js'][5134] = 0;
  _$jscoverage['js/vs_fx.js'][5140] = 0;
  _$jscoverage['js/vs_fx.js'][5228] = 0;
  _$jscoverage['js/vs_fx.js'][5230] = 0;
  _$jscoverage['js/vs_fx.js'][5231] = 0;
  _$jscoverage['js/vs_fx.js'][5232] = 0;
  _$jscoverage['js/vs_fx.js'][5234] = 0;
  _$jscoverage['js/vs_fx.js'][5238] = 0;
  _$jscoverage['js/vs_fx.js'][5239] = 0;
  _$jscoverage['js/vs_fx.js'][5240] = 0;
  _$jscoverage['js/vs_fx.js'][5246] = 0;
  _$jscoverage['js/vs_fx.js'][5248] = 0;
  _$jscoverage['js/vs_fx.js'][5285] = 0;
  _$jscoverage['js/vs_fx.js'][5287] = 0;
  _$jscoverage['js/vs_fx.js'][5289] = 0;
  _$jscoverage['js/vs_fx.js'][5290] = 0;
  _$jscoverage['js/vs_fx.js'][5291] = 0;
  _$jscoverage['js/vs_fx.js'][5293] = 0;
  _$jscoverage['js/vs_fx.js'][5314] = 0;
  _$jscoverage['js/vs_fx.js'][5318] = 0;
  _$jscoverage['js/vs_fx.js'][5319] = 0;
  _$jscoverage['js/vs_fx.js'][5323] = 0;
  _$jscoverage['js/vs_fx.js'][5324] = 0;
  _$jscoverage['js/vs_fx.js'][5325] = 0;
  _$jscoverage['js/vs_fx.js'][5326] = 0;
  _$jscoverage['js/vs_fx.js'][5328] = 0;
  _$jscoverage['js/vs_fx.js'][5330] = 0;
  _$jscoverage['js/vs_fx.js'][5333] = 0;
  _$jscoverage['js/vs_fx.js'][5335] = 0;
  _$jscoverage['js/vs_fx.js'][5337] = 0;
  _$jscoverage['js/vs_fx.js'][5340] = 0;
  _$jscoverage['js/vs_fx.js'][5341] = 0;
  _$jscoverage['js/vs_fx.js'][5342] = 0;
  _$jscoverage['js/vs_fx.js'][5344] = 0;
  _$jscoverage['js/vs_fx.js'][5346] = 0;
  _$jscoverage['js/vs_fx.js'][5348] = 0;
  _$jscoverage['js/vs_fx.js'][5350] = 0;
  _$jscoverage['js/vs_fx.js'][5354] = 0;
  _$jscoverage['js/vs_fx.js'][5356] = 0;
  _$jscoverage['js/vs_fx.js'][5357] = 0;
  _$jscoverage['js/vs_fx.js'][5361] = 0;
  _$jscoverage['js/vs_fx.js'][5364] = 0;
  _$jscoverage['js/vs_fx.js'][5365] = 0;
  _$jscoverage['js/vs_fx.js'][5367] = 0;
  _$jscoverage['js/vs_fx.js'][5369] = 0;
  _$jscoverage['js/vs_fx.js'][5370] = 0;
  _$jscoverage['js/vs_fx.js'][5372] = 0;
  _$jscoverage['js/vs_fx.js'][5374] = 0;
  _$jscoverage['js/vs_fx.js'][5375] = 0;
  _$jscoverage['js/vs_fx.js'][5378] = 0;
  _$jscoverage['js/vs_fx.js'][5380] = 0;
  _$jscoverage['js/vs_fx.js'][5381] = 0;
  _$jscoverage['js/vs_fx.js'][5383] = 0;
  _$jscoverage['js/vs_fx.js'][5385] = 0;
  _$jscoverage['js/vs_fx.js'][5387] = 0;
  _$jscoverage['js/vs_fx.js'][5392] = 0;
  _$jscoverage['js/vs_fx.js'][5398] = 0;
  _$jscoverage['js/vs_fx.js'][5406] = 0;
  _$jscoverage['js/vs_fx.js'][5407] = 0;
  _$jscoverage['js/vs_fx.js'][5409] = 0;
  _$jscoverage['js/vs_fx.js'][5410] = 0;
  _$jscoverage['js/vs_fx.js'][5418] = 0;
}
_$jscoverage['js/vs_fx.js'].source = ["<span class=\"c\">/** @license</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>window<span class=\"k\">,</span> undefined<span class=\"k\">)</span> <span class=\"k\">{</span>","","<span class=\"k\">var</span> document <span class=\"k\">=</span> window<span class=\"k\">.</span>document<span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                   </span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","<span class=\"k\">var</span> vs <span class=\"k\">=</span> window<span class=\"k\">.</span>vs<span class=\"k\">,</span>","  util <span class=\"k\">=</span> vs<span class=\"k\">.</span>util<span class=\"k\">,</span>","  core <span class=\"k\">=</span> vs<span class=\"k\">.</span>core<span class=\"k\">,</span>","  ui <span class=\"k\">=</span> vs<span class=\"k\">.</span>ui<span class=\"k\">,</span>","  fx <span class=\"k\">=</span> vs<span class=\"k\">.</span>fx<span class=\"k\">,</span>","  setElementTransform <span class=\"k\">=</span> util<span class=\"k\">.</span>setElementTransform<span class=\"k\">,</span>","  getElementTransform <span class=\"k\">=</span> util<span class=\"k\">.</span>getElementTransform<span class=\"k\">,</span>","  SUPPORT_3D_TRANSFORM <span class=\"k\">=</span> vs<span class=\"k\">.</span>SUPPORT_3D_TRANSFORM<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>vsTestStyle<span class=\"k\">.</span>webkitTransform <span class=\"k\">!==</span> undefined<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">var</span> ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_NAME <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-name\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_END <span class=\"k\">=</span> <span class=\"s\">\"webkitAnimationEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-timing-function\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSITION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transition-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transition-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_END <span class=\"k\">=</span> <span class=\"s\">\"webkitTransitionEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transition-timing-function\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_PROPERTY <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transition-property\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSFORM_ORIGIN <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transform-origin\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ITERATION_COUNT <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-iteration-count\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSFORM <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transform\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> KEY_FRAMES <span class=\"k\">=</span> <span class=\"s\">\"-webkit-keyframes\"</span><span class=\"k\">;</span>","<span class=\"k\">}</span>  ","<span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>vsTestStyle<span class=\"k\">.</span>msTransform <span class=\"k\">!==</span> undefined<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">var</span> ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_NAME <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-name\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_END <span class=\"k\">=</span> <span class=\"s\">\"msAnimationEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-timing-function\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSITION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"-ms-transition-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"-ms-transition-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_END <span class=\"k\">=</span> <span class=\"s\">\"msTransitionEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"-ms-transition-timing-function\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_PROPERTY <span class=\"k\">=</span> <span class=\"s\">\"-ms-transition-property\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSFORM_ORIGIN <span class=\"k\">=</span> <span class=\"s\">\"-ms-transform-origin\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ITERATION_COUNT <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-iteration-count\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSFORM <span class=\"k\">=</span> <span class=\"s\">\"-ms-transform\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> KEY_FRAMES <span class=\"k\">=</span> <span class=\"s\">\"-ms-keyframes\"</span><span class=\"k\">;</span>","<span class=\"k\">}</span>  ","<span class=\"k\">else</span>","<span class=\"k\">{</span>","  <span class=\"k\">var</span> ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"animation-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"animation-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_NAME <span class=\"k\">=</span> <span class=\"s\">\"animation-name\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_END <span class=\"k\">=</span> <span class=\"s\">\"animationEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"animation-timing-function\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSITION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"transition-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"transition-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_END <span class=\"k\">=</span> <span class=\"s\">\"transitionEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"transition-timing-function\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_PROPERTY <span class=\"k\">=</span> <span class=\"s\">\"transition-property\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSFORM_ORIGIN <span class=\"k\">=</span> <span class=\"s\">\"transform-origin\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ITERATION_COUNT <span class=\"k\">=</span> <span class=\"s\">\"animation-iteration-count\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSFORM <span class=\"k\">=</span> <span class=\"s\">\"transform\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> KEY_FRAMES <span class=\"k\">=</span> <span class=\"s\">\"keyframes\"</span><span class=\"k\">;</span>","<span class=\"k\">}</span>  ","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationWidthRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$width/g</span><span class=\"k\">);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationHeightRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$height/g</span><span class=\"k\">);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationXRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$x/g</span><span class=\"k\">);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationYRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$y/g</span><span class=\"k\">);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationVariableRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$\\{([\\w]+)\\}/g</span><span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Cancel a playing animation</span>","<span class=\"c\"> * @name vs.fx.cancelAnimation</span>","<span class=\"c\"> * @param {String} id the animation id return par vs.fx.Animation.process ();</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> cancelAnimation <span class=\"k\">(</span>anim_id<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>anim_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">var</span> anim_name<span class=\"k\">,</span> cssAnimation<span class=\"k\">,</span> anim_id<span class=\"k\">,</span> data<span class=\"k\">;</span>","","  data <span class=\"k\">=</span> Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">];</span>","  <span class=\"k\">if</span> <span class=\"k\">(</span>data <span class=\"k\">&amp;&amp;</span> data<span class=\"k\">.</span>length <span class=\"k\">===</span> <span class=\"s\">2</span><span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">!</span>data<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>getStyle <span class=\"k\">||</span> <span class=\"k\">!</span>data <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    anim_name <span class=\"k\">=</span> data<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>getStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>anim_name<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    anim_name <span class=\"k\">=</span> anim_name<span class=\"k\">.</span>replace <span class=\"k\">(</span>anim_id<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">);</span>","    data<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>setStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">,</span> anim_name<span class=\"k\">);</span>","  ","    <span class=\"k\">try</span> <span class=\"k\">{</span>","      document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">\"head\"</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">].</span>removeChild <span class=\"k\">(</span>data <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span>e<span class=\"k\">);</span>","      <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">delete</span> <span class=\"k\">(</span>Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">]);</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","  ","  <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @private</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.fx.View} comp the component the view will be animated</span>","<span class=\"c\"> * @param {vs.fx.Animation} animation the animation</span>","<span class=\"c\"> * @param {Function} clb an optional callback to call at the end of animation</span>","<span class=\"c\"> * @param {Object} ctx an optional execution context associated to the clb</span>","<span class=\"c\"> * @return {String} return the identifier of the animation process. You can</span>","<span class=\"c\"> *       use it to stop the animation for instance.</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> procesAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> animation<span class=\"k\">,</span> clb<span class=\"k\">,</span> ctx<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>animation <span class=\"k\">||</span> <span class=\"k\">!</span>comp <span class=\"k\">||</span> <span class=\"k\">!</span>comp<span class=\"k\">.</span>view<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">'procesAnimation: invalid component parameter!'</span><span class=\"k\">);</span>","    <span class=\"k\">return</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","  ","  <span class=\"k\">function</span> isComplexAnimation <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>keyFrames <span class=\"k\">[</span><span class=\"s\">'0%'</span><span class=\"k\">])</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span> ","","  <span class=\"k\">var</span> initWithParameters<span class=\"k\">,</span> parseValue<span class=\"k\">,</span> applySimpleAnimation<span class=\"k\">,</span> applyStyleTo<span class=\"k\">,</span>","    runComplexAnimation<span class=\"k\">,</span> applyComplexAnimation<span class=\"k\">,</span>","    cssAnimation<span class=\"k\">,</span> anim_id <span class=\"k\">=</span> core<span class=\"k\">.</span>createId <span class=\"k\">(),</span>","    isComplex <span class=\"k\">=</span> isComplexAnimation <span class=\"k\">();</span>","","  initWithParameters <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> property<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span>","    <span class=\"k\">{</span> property <span class=\"k\">=</span> ANIMATION_DURATION<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> property <span class=\"k\">=</span> TRANSITION_DURATION<span class=\"k\">;</span> <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>animation<span class=\"k\">.</span>origin<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> animation<span class=\"k\">.</span>origin<span class=\"k\">.</span>length <span class=\"k\">===</span> <span class=\"s\">2</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> value <span class=\"k\">=</span> animation<span class=\"k\">.</span>origin <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'% '</span> <span class=\"k\">+</span> animation<span class=\"k\">.</span>origin <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'%'</span><span class=\"k\">;</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>TRANSFORM_ORIGIN<span class=\"k\">,</span> value<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>animation<span class=\"k\">.</span>durations<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>durations<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>animation<span class=\"k\">.</span>durations<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>durations<span class=\"k\">.</span>join <span class=\"k\">(</span><span class=\"s\">', '</span><span class=\"k\">));</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> Animation<span class=\"k\">.</span>DEFAULT_DURATION<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span> <span class=\"k\">{</span> property <span class=\"k\">=</span> ANIMATION_DELAY<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> property <span class=\"k\">=</span> TRANSITION_DELAY<span class=\"k\">;</span> <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>animation<span class=\"k\">.</span>delay<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>delay <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span> comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> <span class=\"s\">'0'</span><span class=\"k\">);</span> <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span> property <span class=\"k\">=</span> ANIMATION_TIMING_FUNC<span class=\"k\">;</span>","    <span class=\"k\">else</span> property <span class=\"k\">=</span> TRANSITION_TIMING_FUNC<span class=\"k\">;</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>animation<span class=\"k\">.</span>timings<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>timings<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>animation<span class=\"k\">.</span>timings<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>timings<span class=\"k\">.</span>join <span class=\"k\">(</span><span class=\"s\">', '</span><span class=\"k\">));</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> Animation<span class=\"k\">.</span>EASE<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>iterationCount <span class=\"k\">===</span> <span class=\"s\">'infinite'</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ITERATION_COUNT<span class=\"k\">,</span> <span class=\"s\">'infinite'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>animation<span class=\"k\">.</span>iterationCount <span class=\"k\">||</span>","             <span class=\"k\">!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>animation<span class=\"k\">.</span>iterationCount<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ITERATION_COUNT<span class=\"k\">,</span> <span class=\"s\">'1'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> ","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ITERATION_COUNT<span class=\"k\">,</span> animation<span class=\"k\">.</span>iterationCount<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">;</span>","  ","  parseValue <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">,</span> data<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> matches<span class=\"k\">,</span> i<span class=\"k\">,</span> props <span class=\"k\">=</span> <span class=\"k\">[],</span> prop<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> v<span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>v<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span>AnimationWidthRegExp<span class=\"k\">,</span> comp<span class=\"k\">.</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">);</span>","      v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span>AnimationHeightRegExp<span class=\"k\">,</span> comp<span class=\"k\">.</span>size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">);</span>","      v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span>AnimationXRegExp<span class=\"k\">,</span> comp<span class=\"k\">.</span>position <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">);</span>","      v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span>AnimationYRegExp<span class=\"k\">,</span> comp<span class=\"k\">.</span>position <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">);</span>","      ","      <span class=\"k\">var</span> matches <span class=\"k\">=</span> AnimationVariableRegExp<span class=\"k\">.</span>exec <span class=\"k\">(</span>v<span class=\"k\">);</span>","      <span class=\"k\">while</span> <span class=\"k\">(</span>matches <span class=\"k\">&amp;&amp;</span> matches<span class=\"k\">.</span>length <span class=\"k\">===</span> <span class=\"s\">2</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        props<span class=\"k\">.</span>push <span class=\"k\">(</span>matches <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]);</span>","        matches <span class=\"k\">=</span> AnimationVariableRegExp<span class=\"k\">.</span>exec <span class=\"k\">(</span>v<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> props<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","      <span class=\"k\">{</span>","        prop <span class=\"k\">=</span> props <span class=\"k\">[</span>i<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> data<span class=\"k\">[</span>prop<span class=\"k\">]</span> <span class=\"k\">!==</span> <span class=\"s\">'undefined'</span><span class=\"k\">)</span>","        <span class=\"k\">{</span> v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span><span class=\"s\">'${'</span> <span class=\"k\">+</span> prop <span class=\"k\">+</span> <span class=\"s\">'}'</span><span class=\"k\">,</span> data<span class=\"k\">[</span>prop<span class=\"k\">]);</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> animation<span class=\"k\">[</span>prop<span class=\"k\">]</span> <span class=\"k\">!==</span> <span class=\"s\">'undefined'</span><span class=\"k\">)</span>","        <span class=\"k\">{</span> v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span><span class=\"s\">'${'</span> <span class=\"k\">+</span> prop <span class=\"k\">+</span> <span class=\"s\">'}'</span><span class=\"k\">,</span> animation<span class=\"k\">[</span>prop<span class=\"k\">]);</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">return</span> v<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    console<span class=\"k\">.</span>warn ","      <span class=\"k\">(</span><span class=\"s\">\"vs.fx.Animation._parseValue. Unknown value's type: \"</span> <span class=\"k\">+</span> v<span class=\"k\">);</span>","    <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">;</span>","  ","  applySimpleAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    initWithParameters <span class=\"k\">();</span>","    <span class=\"k\">var</span> callback<span class=\"k\">,</span> i<span class=\"k\">,</span> self <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    ","    callback <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span> ","    <span class=\"k\">{</span>","      <span class=\"c\">// do nothing if that event just bubbled from our target's sub-tree</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>currentTarget <span class=\"k\">!==</span> comp<span class=\"k\">.</span>view<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>TRANSITION_END<span class=\"k\">,</span> callback<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","      ","      <span class=\"c\">// clear transition parameters</span>","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty <span class=\"k\">(</span>TRANSITION_DURATION<span class=\"k\">);</span>","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty <span class=\"k\">(</span>TRANSITION_DELAY<span class=\"k\">);</span>","","      <span class=\"k\">if</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>delegate <span class=\"k\">&amp;&amp;</span> animation<span class=\"k\">.</span>delegate<span class=\"k\">.</span>taskDidEnd<span class=\"k\">)</span>","      <span class=\"k\">{</span> animation<span class=\"k\">.</span>delegate<span class=\"k\">.</span>taskDidEnd <span class=\"k\">(</span>animation<span class=\"k\">);</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb<span class=\"k\">)</span> <span class=\"k\">{</span> clb<span class=\"k\">.</span>call <span class=\"k\">(</span>ctx<span class=\"k\">?</span>ctx<span class=\"k\">:</span>self<span class=\"k\">);</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    comp<span class=\"k\">.</span>view<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>TRANSITION_END<span class=\"k\">,</span> callback<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>  ","    ","    applyStyleTo <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">;</span>","  ","  applyStyleTo <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> data <span class=\"k\">=</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>keyFrames<span class=\"k\">[</span><span class=\"s\">'100%'</span><span class=\"k\">])?</span>","      animation<span class=\"k\">.</span>keyFrames<span class=\"k\">[</span><span class=\"s\">'100%'</span><span class=\"k\">]:</span>animation<span class=\"k\">,</span> transform <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">,</span>","      property<span class=\"k\">,</span> properties <span class=\"k\">=</span> <span class=\"k\">[],</span> value<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>data<span class=\"k\">)</span> <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> animation<span class=\"k\">.</span>properties<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","    <span class=\"k\">{</span>","      property <span class=\"k\">=</span> animation<span class=\"k\">.</span>properties <span class=\"k\">[</span>i<span class=\"k\">];</span>","      value <span class=\"k\">=</span> parseValue <span class=\"k\">(</span>animation<span class=\"k\">.</span>values <span class=\"k\">[</span>i<span class=\"k\">],</span> data<span class=\"k\">);</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotate'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'skew'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'skew('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM <span class=\"k\">&amp;&amp;</span> property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate3d('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateX'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateY'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateX'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateY'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'scale'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'scale('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span> comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> value<span class=\"k\">);</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>properties<span class=\"k\">.</span>indexOf <span class=\"k\">(</span>property<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> properties<span class=\"k\">.</span>push <span class=\"k\">(</span>property<span class=\"k\">);</span>    ","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>transform<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      setElementTransform <span class=\"k\">(</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>TRANSITION_PROPERTY<span class=\"k\">,</span> properties<span class=\"k\">.</span>join <span class=\"k\">(</span><span class=\"s\">','</span><span class=\"k\">));</span> ","  <span class=\"k\">}</span>","  ","  runComplexAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    initWithParameters <span class=\"k\">();</span>","    ","    <span class=\"k\">var</span> i<span class=\"k\">,</span> callback<span class=\"k\">,</span> value<span class=\"k\">,</span> anim_name<span class=\"k\">,</span> ","    ","    callback <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span> ","    <span class=\"k\">{</span>","      <span class=\"c\">// do nothing if that event just bubbled from our target's sub-tree</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>currentTarget <span class=\"k\">!==</span> comp<span class=\"k\">.</span>view<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>ANIMATION_END<span class=\"k\">,</span> callback<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","      ","      <span class=\"c\">// apply the last state</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span> <span class=\"k\">{</span> applyStyleTo <span class=\"k\">();</span> <span class=\"k\">}</span>","","      <span class=\"c\">// clear animations parameters</span>","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty <span class=\"k\">(</span>ANIMATION_DURATION<span class=\"k\">);</span>","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty <span class=\"k\">(</span>ANIMATION_DELAY<span class=\"k\">);</span>","","      <span class=\"c\">// clean the animation</span>","      anim_name <span class=\"k\">=</span> comp<span class=\"k\">.</span>getStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">);</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>anim_name<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        anim_name <span class=\"k\">=</span> anim_name<span class=\"k\">.</span>replace <span class=\"k\">(</span>anim_id<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">);</span>","        comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">,</span> anim_name<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">try</span>","      <span class=\"k\">{</span>","        data <span class=\"k\">=</span> Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>data <span class=\"k\">&amp;&amp;</span> data<span class=\"k\">.</span>length <span class=\"k\">===</span> <span class=\"s\">2</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">\"head\"</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">].</span>removeChild <span class=\"k\">(</span>data <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","          <span class=\"k\">delete</span> <span class=\"k\">(</span>Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">]);</span>      ","        <span class=\"k\">}</span> ","      <span class=\"k\">}</span>","      <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        console<span class=\"k\">.</span>error <span class=\"k\">(</span>e<span class=\"k\">);</span>","        <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>delegate <span class=\"k\">&amp;&amp;</span> animation<span class=\"k\">.</span>delegate<span class=\"k\">.</span>taskDidStop<span class=\"k\">)</span>","      <span class=\"k\">{</span> animation<span class=\"k\">.</span>delegate<span class=\"k\">.</span>taskDidEnd <span class=\"k\">(</span>animation<span class=\"k\">);</span> <span class=\"k\">}</span>","","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb<span class=\"k\">)</span> <span class=\"k\">{</span> clb<span class=\"k\">.</span>call <span class=\"k\">(</span>ctx<span class=\"k\">?</span>ctx<span class=\"k\">:</span>self<span class=\"k\">);</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    comp<span class=\"k\">.</span>view<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>ANIMATION_END<span class=\"k\">,</span> callback<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","    anim_name <span class=\"k\">=</span> comp<span class=\"k\">.</span>getStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>anim_name<span class=\"k\">)</span> <span class=\"k\">{</span> anim_name <span class=\"k\">=</span> anim_id<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> anim_name <span class=\"k\">+=</span> <span class=\"s\">', '</span> <span class=\"k\">+</span> anim_id<span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">,</span> anim_name<span class=\"k\">);</span>","  <span class=\"k\">}</span>","","  applyComplexAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> data<span class=\"k\">,</span> key<span class=\"k\">,</span> style<span class=\"k\">,</span> i<span class=\"k\">,</span> property<span class=\"k\">,</span> transform<span class=\"k\">,</span> value<span class=\"k\">,</span>","    cssAnimation <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'style'</span><span class=\"k\">);</span>","    cssAnimation<span class=\"k\">.</span>type <span class=\"k\">=</span> <span class=\"s\">'text/css'</span><span class=\"k\">;</span>","    ","    <span class=\"k\">var</span> rules_str <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span>key <span class=\"k\">in</span> animation<span class=\"k\">.</span>keyFrames<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","      data <span class=\"k\">=</span> animation<span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>key<span class=\"k\">];</span>","      style <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>data<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> data<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","        <span class=\"k\">{</span>","          value <span class=\"k\">=</span> data <span class=\"k\">[</span>i<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>value <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">||</span> <span class=\"k\">typeof</span> value <span class=\"k\">==</span> <span class=\"s\">'undefined'</span><span class=\"k\">)</span> <span class=\"k\">continue</span><span class=\"k\">;</span>","          value <span class=\"k\">=</span> parseValue <span class=\"k\">(</span>value<span class=\"k\">,</span> animation<span class=\"k\">);</span>","          property <span class=\"k\">=</span> animation<span class=\"k\">.</span>properties <span class=\"k\">[</span>i<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(!</span>property<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'skew'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'skew('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM <span class=\"k\">&amp;&amp;</span> property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate3d('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateX'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateY'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateX'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateY'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'scale'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'scale('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'perspective'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'perspective('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span>","          <span class=\"k\">{</span> style <span class=\"k\">+=</span> property <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">';'</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> animation<span class=\"k\">.</span>properties<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","        <span class=\"k\">{</span>","          value <span class=\"k\">=</span> parseValue <span class=\"k\">(</span>animation<span class=\"k\">.</span>values <span class=\"k\">[</span>i<span class=\"k\">],</span> data<span class=\"k\">);</span>","          property <span class=\"k\">=</span> animation<span class=\"k\">.</span>properties <span class=\"k\">[</span>i<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(!</span>property<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'skew'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'skew('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM <span class=\"k\">&amp;&amp;</span> property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate3d('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateX'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateY'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateX'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateY'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'scale'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'scale('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'perspective'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'perspective('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span>","          <span class=\"k\">{</span> style <span class=\"k\">+=</span> property <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">';'</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>transform<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        style <span class=\"k\">+=</span> TRANSFORM <span class=\"k\">+</span> <span class=\"s\">': '</span> <span class=\"k\">+</span> transform <span class=\"k\">+</span> <span class=\"s\">';'</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","","      rules_str <span class=\"k\">+=</span> key <span class=\"k\">+</span> <span class=\"s\">' { '</span> <span class=\"k\">+</span> style <span class=\"k\">+</span> <span class=\"s\">' } '</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","        ","    <span class=\"k\">var</span> rules <span class=\"k\">=</span> document<span class=\"k\">.</span>createTextNode","      <span class=\"k\">(</span><span class=\"s\">'@'</span> <span class=\"k\">+</span> KEY_FRAMES <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> anim_id <span class=\"k\">+</span> <span class=\"s\">' { '</span> <span class=\"k\">+</span> rules_str <span class=\"k\">+</span> <span class=\"s\">' }'</span><span class=\"k\">);</span>","","    cssAnimation<span class=\"k\">.</span>appendChild <span class=\"k\">(</span>rules<span class=\"k\">);</span>","    document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">\"head\"</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">].</span>appendChild<span class=\"k\">(</span>cssAnimation<span class=\"k\">);</span>","    ","    Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">[</span>cssAnimation<span class=\"k\">,</span> comp<span class=\"k\">];</span>","    ","    runComplexAnimation <span class=\"k\">();</span>","  <span class=\"k\">}</span>","","  <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span> <span class=\"k\">{</span> applyComplexAnimation <span class=\"k\">();</span> <span class=\"k\">}</span>","  <span class=\"k\">else</span> <span class=\"k\">{</span> applySimpleAnimation <span class=\"k\">();</span> <span class=\"k\">}</span>","  ","  <span class=\"k\">return</span> anim_id<span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  An vs.fx.Animation object, contains information for animate a vs.fx.View</span>","<span class=\"c\"> *  component.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  It specifies the css properties to animate and the values for each</span>","<span class=\"c\"> *  properties.</span>","<span class=\"c\"> *  You can define one transformation or a set of transformation</span>","<span class=\"c\"> *  for your animation. In case of multiple transformation the developer</span>","<span class=\"c\"> *  an specify a duration for each transformation.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  &lt;u&gt;Predefined animations&lt;/u&gt;: {@link vs.fx.TranslateAnimation},</span>","<span class=\"c\"> *  {@link vs.fx.RotateAnimation}, {@link vs.fx.RotateXYZAnimation},</span>","<span class=\"c\"> *  {@link vs.fx.ScaleAnimation}, {@link vs.fx.SkewAnimation}</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @see vs.fx.TranslateAnimation</span>","<span class=\"c\"> *  @see vs.fx.RotateAnimation</span>","<span class=\"c\"> *  @see vs.fx.RotateXYZAnimation</span>","<span class=\"c\"> *  @see vs.fx.ScaleAnimation</span>","<span class=\"c\"> *  @see vs.fx.SkewAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // animate with a constant</span>","<span class=\"c\"> *  a = new vs.fx.Animation (['rotate', '30deg']);&#226;&#128;&#139;</span>","<span class=\"c\"> *  a.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // animate with a predefined variable</span>","<span class=\"c\"> *  a = new vs.fx.Animation (['translate', '$width']);&#226;&#128;&#139;</span>","<span class=\"c\"> *  a.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // animate with a generic variable</span>","<span class=\"c\"> *  a = new vs.fx.Animation (['rotate', '${r}deg']);&#226;&#128;&#139;</span>","<span class=\"c\"> *  a.r = 50;</span>","<span class=\"c\"> *  a.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * // example of multiple transformations an durations </span>","<span class=\"c\"> * // define a animation with two transformations</span>","<span class=\"c\"> * animation = new vs.fx.Animation ([&#226;&#128;&#152;width&#226;&#128;&#153;, '100px'], ['opacity', '0'])</span>","<span class=\"c\"> * // set duration for each</span>","<span class=\"c\"> * animation.durations = ['1s', '2s'];</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * // Defining a complex animation with key frames\"</span>","<span class=\"c\"> * var translate = new vs.fx.TranslateAnimation (130, 150);</span>","<span class=\"c\"> * translate.durations = '3s';</span>","<span class=\"c\"> * translate.iterationCount = 3;</span>","<span class=\"c\"> * </span>","<span class=\"c\"> * translate.addKeyFrame ('from', {x:0, y: 0, z:0});</span>","<span class=\"c\"> * translate.addKeyFrame (20, {x:50, y: 0, z: 0});</span>","<span class=\"c\"> * translate.addKeyFrame (40, {x:50, y: 50, z: 0});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * translate.process (myObject);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.Animation</span>","<span class=\"c\"> *  @extends vs.core.Task</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {Array.&lt;string&gt;} animations The array of &lt;property, value&gt; to animate</span>","<span class=\"c\">*/</span>","<span class=\"k\">function</span> Animation <span class=\"k\">(</span>animations<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> core<span class=\"k\">.</span>Task<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>setAnimations <span class=\"k\">(</span>arguments<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span><span class=\"s\">'100%'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","Animation<span class=\"k\">.</span>DEFAULT_DURATION <span class=\"k\">=</span> <span class=\"s\">'0.3s'</span><span class=\"k\">;</span>","Animation<span class=\"k\">.</span>DEFAULT_TIMING <span class=\"k\">=</span> Animation<span class=\"k\">.</span>EASE<span class=\"k\">;</span>","","Animation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * The css properties to animate</span>","<span class=\"c\">   * @type {Array.&lt;string&gt;}</span>","<span class=\"c\">   * @name vs.fx.Animation#properties</span>","<span class=\"c\">   */</span>","  properties<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * The css values for each properties</span>","<span class=\"c\">   * @type {Array.&lt;string&gt;}</span>","<span class=\"c\">   * @name vs.fx.Animation#values</span>","<span class=\"c\">   */</span>","  values<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The duration for each transformation. For setting only one duration,</span>","<span class=\"c\">   * use a string (ex anim.duration = '3s')</span>","<span class=\"c\">   * @type Array.&lt;string&gt;</span>","<span class=\"c\">   * @name vs.fx.Animation#durations</span>","<span class=\"c\">   */</span>","  durations<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Specifies how the intermediate values used during a transition are </span>","<span class=\"c\">   * calculated. &lt;p /&gt;Use the constants to specify preset points of the curve:</span>","<span class=\"c\">   * ({@link vs.fx.Animation.EASE},</span>","<span class=\"c\">   * {@link vs.fx.Animation.LINEAR}, {@link vs.fx.Animation.EASE_IN},</span>","<span class=\"c\">   * {@link vs.fx.Animation.EASE_OUT}, {@link vs.fx.Animation.EASE_IN_OUT})</span>","<span class=\"c\">   * or the cubic-bezier function to specify your own points.</span>","<span class=\"c\">   * &lt;p /&gt;</span>","<span class=\"c\">   * Specifies a cubic B&#195;&#169;zier curve : cubic-bezier(P1x,P1y,P2x,P2y) &lt;br /&gt;</span>","<span class=\"c\">   * Parameters: &lt;br /&gt;</span>","<span class=\"c\">   * - First point in the B&#195;&#169;zier curve : P1x, P1y &lt;br /&gt;</span>","<span class=\"c\">   * - Second point in the B&#195;&#169;zier curve : P2x, P2y &lt;br /&gt;</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @type Array.&lt;string&gt;</span>","<span class=\"c\">   * @name vs.fx.Animation#timings</span>","<span class=\"c\">   */</span>","  timings<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Specifies the number of times an animation iterates.</span>","<span class=\"c\">   * The transformations establishes the origin for transforms applied to</span>","<span class=\"c\">   * your component with respect to its border box. By default the value</span>","<span class=\"c\">   * is 50%, 50%.</span>","<span class=\"c\">   * &lt;p&gt;The values is express as an array of percentages of the element&#226;&#128;&#153;s size,</span>","<span class=\"c\">   * origin [0] =&gt; pos X, origin [1] =&gt; pos Y</span>","<span class=\"c\">   * @type {Array.&lt;int&gt;}</span>","<span class=\"c\">   * @name vs.fx.Animation#origin</span>","<span class=\"c\">   */</span>","  origin<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Sets the origin for the transformations</span>","<span class=\"c\">   * By default it is set to 1.</span>","<span class=\"c\">   * For infinite interation, use 'infinite' value.</span>","<span class=\"c\">   * @type number | 'infinite'</span>","<span class=\"c\">   * @name vs.fx.Animation#iterationCount</span>","<span class=\"c\">   */</span>","  iterationCount<span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * The time to begin executing an animation after it is applied. &lt;br/&gt;</span>","<span class=\"c\">   * If 0, the animation executes as soon as it is applied. &lt;br/&gt;</span>","<span class=\"c\">   * If positive, it specifies an offset from the moment the animation is </span>","<span class=\"c\">   * applied, and the animation delays execution by that offset. &lt;br/&gt;</span>","<span class=\"c\">   * If negative, the animation executes the moment the property changes but </span>","<span class=\"c\">   * appears to begin at the specified negative offset&#226;&#128;&#148;that is, begins part-way </span>","<span class=\"c\">   * through the animation. &lt;br/&gt;</span>","<span class=\"c\">   * The unit is milliseconds.  &lt;br/&gt;</span>","<span class=\"c\">   * By default it is set to 0.</span>","<span class=\"c\">   * @type number</span>","<span class=\"c\">   * @name vs.fx.Animation#delay</span>","<span class=\"c\">   */</span>","  delay<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @private</span>","<span class=\"c\">   * @type Object</span>","<span class=\"c\">   * @name vs.fx.Animation#keyFrames</span>","<span class=\"c\">   */</span>","  keyFrames<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Defines the properties to animate.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  When you call the method you redefines your animation, and all</span>","<span class=\"c\">   *  animation options are set to default value.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @example</span>","<span class=\"c\">   * // define a animation with two transformations</span>","<span class=\"c\">   * animation = new vs.fx.Animation ()</span>","<span class=\"c\">   * animation.setAnimations ([[&#226;&#128;&#152;width&#226;&#128;&#153;, '100px'], ['opacity', '0']]);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#setAnimations </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @param {Array.&lt;Array&gt;} animations The array of [property, value] </span>","<span class=\"c\">   *         to animate</span>","<span class=\"c\">   */</span>","  setAnimations <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>animations<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> i<span class=\"k\">,</span> prop<span class=\"k\">,</span> value<span class=\"k\">,</span> option<span class=\"k\">;</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>properties <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>values <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>origin <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    ","    <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span> <span class=\"k\">;</span> i <span class=\"k\">&lt;</span> animations<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","    <span class=\"k\">{</span>","      option <span class=\"k\">=</span> animations <span class=\"k\">[</span>i<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>option<span class=\"k\">)</span> <span class=\"k\">||</span> option<span class=\"k\">.</span>length <span class=\"k\">!==</span> <span class=\"s\">2</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">'vs.fx.Animation, invalid animations'</span><span class=\"k\">);</span>","        <span class=\"k\">continue</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      prop <span class=\"k\">=</span> option <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span> value <span class=\"k\">=</span> option <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>prop<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>value<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">'vs.fx.Animation, invalid constructor argument option: ['</span> <span class=\"k\">+</span> ","          prop <span class=\"k\">+</span> <span class=\"s\">', '</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">']'</span><span class=\"k\">);</span>","        <span class=\"k\">continue</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>properties<span class=\"k\">.</span>push <span class=\"k\">(</span>prop<span class=\"k\">);</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>values<span class=\"k\">.</span>push <span class=\"k\">(</span>value<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add an animation Key frames.</span>","<span class=\"c\">   *  By default an animation does not have key frames. But you can</span>","<span class=\"c\">   *  define a complexe animation with key frames.</span>","<span class=\"c\">   *  &lt;br /&gt;</span>","<span class=\"c\">   *  You have to define at least two key frames 'from' and 'to'.</span>","<span class=\"c\">   *  Other frames are define as percentage value of the animation.</span>","<span class=\"c\">   *  &lt;p /&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var translate = new vs.fx.TranslateAnimation (130, 150);</span>","<span class=\"c\">   * </span>","<span class=\"c\">   *  translate.addKeyFrame ('from', {x:0, y: 0, z:0});</span>","<span class=\"c\">   *  translate.addKeyFrame (20, {x:50, y: 0, z: 0});</span>","<span class=\"c\">   *  translate.addKeyFrame (40, {x:50, y: 50, z: 0});</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var translate = new vs.fx.Animation (['translateY','100px'],['opacity', '0']);</span>","<span class=\"c\">   * </span>","<span class=\"c\">   *  translate.addKeyFrame ('from', ['0px', '1']);</span>","<span class=\"c\">   *  translate.addKeyFrame (20, ['50px', '1']);</span>","<span class=\"c\">   *  translate.addKeyFrame (40, ['80px', '1']);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#addKeyFrame </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @param {string | number} pos The percentage value of animation</span>","<span class=\"c\">   * @param {Object | Array} values the object containing values for</span>","<span class=\"c\">   *         the animation</span>","<span class=\"c\">   */</span>","  addKeyFrame <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>pos<span class=\"k\">,</span> values<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>values<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"s\">'from'</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span><span class=\"s\">'0%'</span><span class=\"k\">]</span> <span class=\"k\">=</span> values<span class=\"k\">;</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"s\">'to'</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span><span class=\"s\">'100%'</span><span class=\"k\">]</span> <span class=\"k\">=</span> values<span class=\"k\">;</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>pos<span class=\"k\">)</span> <span class=\"k\">||</span> pos <span class=\"k\">&lt;</span> <span class=\"s\">0</span> <span class=\"k\">||</span> pos <span class=\"k\">&gt;</span> <span class=\"s\">100</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>pos<span class=\"k\">+</span><span class=\"s\">'%'</span><span class=\"k\">]</span> <span class=\"k\">=</span> values<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Use this function for animate your graphic object.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  You can set a callback function that will be call at the end of animation.</span>","<span class=\"c\">   *  Associated to the callback you can defined a runtime context. This context</span>","<span class=\"c\">   *  could be a object.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  obj.prototype.endAnimation = function (event)</span>","<span class=\"c\">   *  { ... }</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  obj.prototype.animate = function ()</span>","<span class=\"c\">   *  {</span>","<span class=\"c\">   *    myAnimation.process (a_gui_object, this.endAnimation, this);</span>","<span class=\"c\">   *  }</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#process </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @param {vs.fx.View} comp The component the view will be animated</span>","<span class=\"c\">   * @param {Function} clb an optional callback to call at the end of animation</span>","<span class=\"c\">   * @param {Object} ctx an optional execution context associated to the</span>","<span class=\"c\">   *          callback</span>","<span class=\"c\">   * @return {String} return the identifier of the animation process. You can</span>","<span class=\"c\">   *       use it to stop the animation for instance.</span>","<span class=\"c\">   */</span>","  process <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> clb<span class=\"k\">,</span> ctx<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">return</span> procesAnimation <span class=\"k\">(</span>comp<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> clb<span class=\"k\">,</span> ctx<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Task implementation</span>","<span class=\"c\">********************************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Clone the current animation.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#clone </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @return {vs.fx.Animation} the clone animation</span>","<span class=\"c\">   */</span>","  clone<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> anim <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">(),</span> key<span class=\"k\">,</span> data<span class=\"k\">;</span>","    anim<span class=\"k\">.</span>keyFrames <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    anim<span class=\"k\">.</span>keyFrames <span class=\"k\">[</span><span class=\"s\">'100%'</span><span class=\"k\">]</span> <span class=\"k\">=</span> anim<span class=\"k\">;</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>properties<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>properties <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>properties<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> anim<span class=\"k\">.</span>properties <span class=\"k\">=</span> <span class=\"k\">[];</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>values<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>values <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>values<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> anim<span class=\"k\">.</span>values <span class=\"k\">=</span> <span class=\"k\">[];</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>durations<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>durations<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>timings<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>timings <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>timings<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> anim<span class=\"k\">.</span>timings <span class=\"k\">=</span> <span class=\"k\">[];</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>origin<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>origin <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>origin<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>keyFrames<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span>key <span class=\"k\">in</span> <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>key <span class=\"k\">===</span> <span class=\"s\">'100%'</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        data <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>key<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>data<span class=\"k\">))</span> <span class=\"k\">{</span> anim<span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> data<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">{</span> anim<span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> vs<span class=\"k\">.</span>util<span class=\"k\">.</span>clone <span class=\"k\">(</span>data<span class=\"k\">);</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    anim<span class=\"k\">.</span>iterationCount <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>iterationCount<span class=\"k\">;</span>","    anim<span class=\"k\">.</span>delay <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>delay<span class=\"k\">;</span>","    ","    <span class=\"k\">return</span> anim<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Task implementation</span>","<span class=\"c\">********************************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Starts the task</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#start </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @param {any} param any parameter (scalar, Array, Object)</span>","<span class=\"c\">   */</span>","  start<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>param<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>process <span class=\"k\">(</span>param<span class=\"k\">);</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>Animation<span class=\"k\">,</span> core<span class=\"k\">.</span>Task<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>Animation<span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"s\">'duration'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter/Setter for animation duration</span>","<span class=\"c\">     * @name vs.fx.Animation#duration </span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @type {String}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span> ","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"k\">[</span>v<span class=\"k\">];</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>durations <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>durations<span class=\"k\">.</span>length<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>durations <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span> <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span> <span class=\"k\">return</span> Animation<span class=\"k\">.</span>DEFAULT_DURATION<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'timing'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter/Setter for animation timing</span>","<span class=\"c\">     * @name vs.fx.Animation#timing </span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @type {String}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span> ","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">=</span> <span class=\"k\">[</span>v<span class=\"k\">];</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>timings<span class=\"k\">.</span>length<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span> <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span> <span class=\"k\">return</span> Animation<span class=\"k\">.</span>EASE<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","","<span class=\"c\">/*************************************************************</span>","<span class=\"c\">                Timing Function</span>","<span class=\"c\">*************************************************************/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The ease timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0.25, 0.1, 0.25, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.EASE</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>EASE <span class=\"k\">=</span> <span class=\"s\">'ease'</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The linear timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0.0, 0.0, 1.0, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.LINEAR</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>LINEAR <span class=\"k\">=</span> <span class=\"s\">'linear'</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The ease in timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0.42, 0, 1.0, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.EASE_IN</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>EASE_IN <span class=\"k\">=</span> <span class=\"s\">'ease-in'</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The ease out timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0, 0, 0.58, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.EASE_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>EASE_OUT <span class=\"k\">=</span> <span class=\"s\">'ease-out'</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The ease in out timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0.42, 0, 0.58, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.EASE_IN_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>EASE_IN_OUT <span class=\"k\">=</span> <span class=\"s\">'ease-in-out'</span>","","<span class=\"c\">/*************************************************************</span>","<span class=\"c\">                Specifics animations</span>","<span class=\"c\">*************************************************************/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Animation for translate a object view over x, y, and z axes.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var translate = new vs.fx.TranslateAnimation (50, 50, 0);</span>","<span class=\"c\"> *  translate.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // reconfigure the animation</span>","<span class=\"c\"> *  translate.x = 40;</span>","<span class=\"c\"> *  translate.y = 140;</span>","<span class=\"c\"> *  translate.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.TranslateAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} x The translation value along the X axis</span>","<span class=\"c\"> * @param {number} y The translation value along the Y axis</span>","<span class=\"c\"> * @param {number} z The translation value along the Z axis if 3d css transform is possible</span>","<span class=\"c\">*/</span>","TranslateAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>x<span class=\"k\">,</span> y<span class=\"k\">,</span> z<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'translate'</span><span class=\"k\">,</span> <span class=\"s\">'${x}px,${y}px,${z}px'</span><span class=\"k\">]);</span>","    <span class=\"k\">else</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'translate'</span><span class=\"k\">,</span> <span class=\"s\">'${x}px,${y}px'</span><span class=\"k\">]);</span>","  ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>x<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>x <span class=\"k\">=</span> x<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>y<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>y <span class=\"k\">=</span> y<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>z<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>z <span class=\"k\">=</span> z<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> TranslateAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","TranslateAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The translation value along the X axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.TranslateAnimation#x </span>","<span class=\"c\">   */</span>","  x<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The translation value along the Y axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.TranslateAnimation#y </span>","<span class=\"c\">   */</span>","  y<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The translation value along the Z axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.TranslateAnimation#z </span>","<span class=\"c\">   */</span>","  z<span class=\"k\">:</span> <span class=\"s\">0</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>TranslateAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Rotate your object any number of degrees along the Z axis.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var rotation = new vs.fx.RotateAnimation (50);</span>","<span class=\"c\"> *  rotation.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // reconfigure the animation</span>","<span class=\"c\"> *  rotation.deg = 40;</span>","<span class=\"c\"> *  rotation.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.RotateAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} deg The rotation value along the Z axis</span>","<span class=\"c\">*/</span>","RotateAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>deg<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'rotate'</span><span class=\"k\">,</span> <span class=\"s\">'${deg}deg'</span><span class=\"k\">]);</span>","  ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>deg<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>deg <span class=\"k\">=</span> deg<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> RotateAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","RotateAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The rotation value along the Z axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.RotateAnimation#deg</span>","<span class=\"c\">   */</span>","  deg<span class=\"k\">:</span> <span class=\"s\">0</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>RotateAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Rotate your object any number of degrees over the X, Y and Z axes.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var rotation = new vs.fx.RotateXYZAnimation (50, 50, 10);</span>","<span class=\"c\"> *  rotation.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.RotateXYZAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} degX The rotation value along the X axis</span>","<span class=\"c\"> * @param {number} degY The rotation value along the Y axis</span>","<span class=\"c\"> * @param {number} degZ The rotation value along the Z axis</span>","<span class=\"c\">*/</span>","RotateXYZAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>degX<span class=\"k\">,</span> degY<span class=\"k\">,</span> degZ<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'rotateX'</span><span class=\"k\">,</span> <span class=\"s\">'${degX}deg'</span><span class=\"k\">],</span>","      <span class=\"k\">[</span><span class=\"s\">'rotateY'</span><span class=\"k\">,</span> <span class=\"s\">'${degY}deg'</span><span class=\"k\">],</span> <span class=\"k\">[</span><span class=\"s\">'rotate'</span> <span class=\"k\">,</span><span class=\"s\">'${degZ}deg'</span><span class=\"k\">]);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>degX<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>degX <span class=\"k\">=</span> degX<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>degY<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>degY <span class=\"k\">=</span> degY<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>degZ<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>degZ <span class=\"k\">=</span> degZ<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> RotateXYZAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","RotateXYZAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The rotation value along the X axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.RotateXYZAnimation#degX</span>","<span class=\"c\">   */</span>","  degX<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The rotation value along the Y axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.RotateXYZAnimation#degY</span>","<span class=\"c\">   */</span>","  degY<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The rotation value along the Z axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.RotateXYZAnimation#degZ</span>","<span class=\"c\">   */</span>","  degZ<span class=\"k\">:</span> <span class=\"s\">0</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>RotateXYZAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Scale your object over the X and Y axes</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  If the second parameter is not provided, it is takes a value equal to</span>","<span class=\"c\"> *  the first.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var scale = new vs.fx.ScaleAnimation (0.5, 1);</span>","<span class=\"c\"> *  scale.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.ScaleAnimation</span>","<span class=\"c\"> * @param {number} sx The scale value along the X axis</span>","<span class=\"c\"> * @param {number} sy The scale value along the Y axis</span>","<span class=\"c\">*/</span>","ScaleAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>sx<span class=\"k\">,</span> sy<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'scale'</span><span class=\"k\">,</span> <span class=\"s\">'${sx},${sy}'</span><span class=\"k\">]);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>sx<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>sx <span class=\"k\">=</span> sx<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>sy<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>sy <span class=\"k\">=</span> sy<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>sy<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>sy <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>sx<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> ScaleAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","ScaleAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The scale value along the X axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.ScaleAnimation#sx</span>","<span class=\"c\">   */</span>","  sx<span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The scale value along the Y axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.ScaleAnimation#sy</span>","<span class=\"c\">   */</span>","  sy<span class=\"k\">:</span> <span class=\"s\">1</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>ScaleAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Skew your object over the X and Y axes</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  If the second parameter is not provided, it is takes a value equal to</span>","<span class=\"c\"> *  the first.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var scale = new vs.fx.SkewAnimation (0.5, 1);</span>","<span class=\"c\"> *  scale.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> * @name vs.fx.SkewAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} x The scale value along the X axis</span>","<span class=\"c\"> * @param {number} y The scale value along the Y axis</span>","<span class=\"c\">*/</span>","SkewAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>ax<span class=\"k\">,</span> ay<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'skew'</span><span class=\"k\">,</span> <span class=\"s\">'${ax}deg,${ay}deg'</span><span class=\"k\">]);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>ax<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>ax <span class=\"k\">=</span> ax<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>ay<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>ay <span class=\"k\">=</span> ay<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> SkewAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","SkewAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Specifies a skew transformation along the X axis by the given angle.</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.SkewAnimation#ax</span>","<span class=\"c\">   */</span>","  ax<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *Specifies a skew transformation along the X axis by the given angle.</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.SkewAnimation#ay</span>","<span class=\"c\">   */</span>","  ay<span class=\"k\">:</span> <span class=\"s\">0</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>SkewAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Animate the object' opacity</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the pulseo opacity animation</span>","<span class=\"c\"> *  var pulse = new vs.fx.OpacityAnimation (1);</span>","<span class=\"c\"> *  pulse.addKeyFrame ('from', {value: 1});</span>","<span class=\"c\"> *  pulse.addKeyFrame (12, {value: 0.5});</span>","<span class=\"c\"> *  pulse.addKeyFrame (25, {value: 1});</span>","<span class=\"c\"> *  pulse.addKeyFrame (37, {value: 0.5});</span>","<span class=\"c\"> *  pulse.addKeyFrame (50, {value: 1});</span>","<span class=\"c\"> *  pulse.addKeyFrame (62, {value: 0.5});</span>","<span class=\"c\"> *  pulse.addKeyFrame (75, {value: 1});</span>","<span class=\"c\"> *  pulse.addKeyFrame (87, {value: 0.5});</span>","<span class=\"c\"> *  pulse.durations = '7s';</span>","<span class=\"c\"> *  pulse.timings = vs.fx.Animation.LINEAR;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> * @name vs.fx.OpacityAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} value The opacity value</span>","<span class=\"c\">*/</span>","OpacityAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>value<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'opacity'</span><span class=\"k\">,</span> <span class=\"s\">'${value}'</span><span class=\"k\">]);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>value<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>value <span class=\"k\">=</span> value<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> OpacityAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","OpacityAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Specifies the opacity value</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @name vs.fx.OpacityAnimation#value</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  value<span class=\"k\">:</span> <span class=\"s\">1</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>OpacityAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/*************************************************************</span>","<span class=\"c\">                Predefined animation</span>","<span class=\"c\">*************************************************************/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to right.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideOutRight</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideOutRight <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateX'</span><span class=\"k\">,</span> <span class=\"s\">'$width'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideOutRight<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0px'</span><span class=\"k\">]);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to left.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideOutLeft</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideOutLeft <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateX'</span><span class=\"k\">,</span> <span class=\"s\">'-$width'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideOutLeft<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0px'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to top.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideOutTop</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideOutTop <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateY'</span><span class=\"k\">,</span> <span class=\"s\">'-$height'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideOutTop<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0px'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to left.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideOutBottom</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideOutBottom <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateY'</span><span class=\"k\">,</span> <span class=\"s\">'$height'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideOutBottom<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0px'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to right.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideInRight</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideInRight <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateX'</span><span class=\"k\">,</span> <span class=\"s\">'0px'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideInRight<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'$width'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to left.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideInLeft</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideInLeft <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateX'</span><span class=\"k\">,</span> <span class=\"s\">'0px'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideInLeft<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'-$width'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to top.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideInTop</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideInTop <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateY'</span><span class=\"k\">,</span> <span class=\"s\">'0px'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideInTop<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'-$height'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to left.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideInBottom</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideInBottom <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateY'</span><span class=\"k\">,</span> <span class=\"s\">'0px'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideInBottom<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'$height'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Fade in an object.</span>","<span class=\"c\"> * @name vs.fx.Animation.FadeIn</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>FadeIn <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'opacity'</span><span class=\"k\">,</span> <span class=\"s\">'1'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>FadeIn<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Fade out an object.</span>","<span class=\"c\"> * @name vs.fx.Animation.FadeOut</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>FadeOut <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'opacity'</span><span class=\"k\">,</span> <span class=\"s\">'0'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>FadeOut<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'1'</span><span class=\"k\">]);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>Animation <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>cancelAnimation <span class=\"k\">=</span> cancelAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>TranslateAnimation <span class=\"k\">=</span> TranslateAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>RotateAnimation <span class=\"k\">=</span> RotateAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>RotateXYZAnimation <span class=\"k\">=</span> RotateXYZAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>ScaleAnimation <span class=\"k\">=</span> ScaleAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>SkewAnimation <span class=\"k\">=</span> SkewAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>OpacityAnimation <span class=\"k\">=</span> OpacityAnimation<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The Generic vs.fx.Controller class</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @see vs.fx.SlideController</span>","<span class=\"c\"> *  @see vs.fx.CardController</span>","<span class=\"c\"> *  @see vs.fx.NavigationController</span>","<span class=\"c\"> *  @extends vs.core.EventSource</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  This class can be used to implement your custom GUI controller.</span>","<span class=\"c\"> *  &lt;p/&gt;</span>","<span class=\"c\"> *  Before developing your own controller you can try the SlideController</span>","<span class=\"c\"> *  or the NavigationController witch match most situations.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller),</span>","<span class=\"c\"> *         Called when the view changed</span>","<span class=\"c\"> *    &lt;li/&gt;controllerAnimationDidEnd : function (from vs.ui.View, to vs.ui.View, controller), Called just after </span>","<span class=\"c\"> *         the animation ended</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Example:</span>","<span class=\"c\"> *  &lt;pre class=\"code\"&gt;</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *   // 1 create and init the controller</span>","<span class=\"c\"> *   this.controller = new vs.fx.Controller (this);</span>","<span class=\"c\"> *   this.controller.init ();</span>","<span class=\"c\"> *   </span>","<span class=\"c\"> *   // 2.1 put a first view into the controller</span>","<span class=\"c\"> *   this.controller.add (this.firstView);</span>","<span class=\"c\"> *   // 2.2 set the first view as the initial view</span>","<span class=\"c\"> *   this.controller.initialComponent = this.firstView.id;</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *   // 3.1 create, configure and put the second view into the controller</span>","<span class=\"c\"> *   var comp = this.createAndAddComponent ('PanelOne');</span>","<span class=\"c\"> *   comp.position = [0, 44];</span>","<span class=\"c\"> *   comp.translation = [320, 0];</span>","<span class=\"c\"> *   this.controller.add (comp);</span>","<span class=\"c\"> *   </span>","<span class=\"c\"> *   // 3.2 declare transitions (with animations) between states</span>","<span class=\"c\"> *   // translateOutLeft is play on firstView when we leave the firstView</span>","<span class=\"c\"> *   // translateInRight is play on comp when we enter into comp</span>","<span class=\"c\"> *   this.controller.addTransition (this.firstView.id, comp.id, 'goToOne',</span>","<span class=\"c\"> *                                  translateOutLeft, translateInRight);</span>","<span class=\"c\"> *   this.controller.addTransition (comp.id, this.firstView.id, 'back',</span>","<span class=\"c\"> *                                  translateOutRight, translateInLeft);</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *   // 4 create, configure and put the third view into the controller</span>","<span class=\"c\"> *   comp = this.createAndAddComponent ('PanelTwo');</span>","<span class=\"c\"> *   comp.position = [0, 44];</span>","<span class=\"c\"> *   comp.translation = [320, 0];</span>","<span class=\"c\"> *   this.controller.add (comp);</span>","<span class=\"c\"> *   </span>","<span class=\"c\"> *   this.controller.addTransition (this.firstView.id, comp.id, 'goToTwo',</span>","<span class=\"c\"> *                                  translateOutLeft, translateInRight);</span>","<span class=\"c\"> *   this.controller.addTransition (comp.id, this.firstView.id, 'back',</span>","<span class=\"c\"> *                                  translateOutRight, translateInLeft);</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *   // 5 create, configure and put the fourth view into the controller</span>","<span class=\"c\"> *   var comp = this.createAndAddComponent ('PanelThree');</span>","<span class=\"c\"> *   comp.position = [0, 44];</span>","<span class=\"c\"> *   comp.translation = [320, 0];</span>","<span class=\"c\"> *   this.controller.add (comp);</span>","<span class=\"c\"> *   </span>","<span class=\"c\"> *   this.controller.addTransition (this.firstView.id, comp.id, 'goToThree',</span>","<span class=\"c\"> *                                  translateOutLeft, translateInRight);</span>","<span class=\"c\"> *   this.controller.addTransition (comp.id, this.firstView.id, 'back',</span>","<span class=\"c\"> *                                  translateOutRight, translateInLeft);</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  &lt;/pre&gt;</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.Controller</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.Controller.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this controller [mandatory]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> Controller <span class=\"k\">(</span>owner<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> core<span class=\"k\">.</span>EventSource<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> Controller<span class=\"k\">;</span>","","  <span class=\"k\">if</span> <span class=\"k\">(</span>owner<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">=</span> <span class=\"k\">new</span> core<span class=\"k\">.</span>Fsm <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","  ","    <span class=\"c\">// fsm goTo surcharge</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>goTo<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_owner <span class=\"k\">=</span> owner<span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","Controller<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","   <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {Object}</span>","<span class=\"c\">   */</span>","  _delegate<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","   <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {Object}</span>","<span class=\"c\">   */</span>","  _owner<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","   <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.core.Fsm}</span>","<span class=\"c\">   */</span>","  _fsm<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","   <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {String}</span>","<span class=\"c\">   */</span>","  _initial_component<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>",""," <span class=\"c\">/**********************************************************************</span>","","<span class=\"c\">  *********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  destructor <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>__controller__ <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>remove <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>_ab_controller_remove<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>_ab_controller_remove <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_delegate <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","","    util<span class=\"k\">.</span>free <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">);</span>","    core<span class=\"k\">.</span>EventSource<span class=\"k\">.</span>prototype<span class=\"k\">.</span>destructor<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  initComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    core<span class=\"k\">.</span>EventSource<span class=\"k\">.</span>prototype<span class=\"k\">.</span>initComponent<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>init <span class=\"k\">();</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"Invalid vs.fx.Controller, owner is null vs.fx.Controller.id = '\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_id <span class=\"k\">+</span> <span class=\"s\">\"'\"</span><span class=\"k\">);</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>__controller__<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"The owner already use a controller\"</span><span class=\"k\">);</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>__controller__ <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>_ab_controller_remove <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>remove<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>remove <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>ab_controller_remove<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 behavior update</span>","<span class=\"c\"> *********************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  ab_controller_remove <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>child<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>child<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>child<span class=\"k\">.</span>id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>remove <span class=\"k\">(</span>child<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_ab_controller_remove <span class=\"k\">(</span>child<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"c\">// XXX should remove the component from the FSM etc...</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  State Management</span>","<span class=\"c\"> *********************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Return true if the state already exists</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#isStateExit</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return boolean</span>","<span class=\"c\">   */</span>","  isStateExit <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>id<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>id<span class=\"k\">])</span>","    <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @private</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @deprecated</span>","<span class=\"c\">   */</span>","  add <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">'vs.fx.Controller.add is deprecated. Use vs.fx.Controller.push'</span><span class=\"k\">);</span> ","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>push <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add the a child component to the Controller Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myComp = new MyComp (conf);</span>","<span class=\"c\">   *  myComp.layer = new vs.fx.Controller (myComp);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String | vs.ui.View} comp The GUI component name to instanciate or </span>","<span class=\"c\">   *    the instance of the component  </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the </span>","<span class=\"c\">   *     component [optional]</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">,</span> binding<span class=\"k\">,</span> i<span class=\"k\">,</span> state<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> data<span class=\"k\">.</span>id<span class=\"k\">)</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> data<span class=\"k\">.</span>id<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> comp<span class=\"k\">.</span>id<span class=\"k\">)</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">.</span>id<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> state_id <span class=\"k\">=</span> core<span class=\"k\">.</span>createId <span class=\"k\">();</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>isStateExit <span class=\"k\">(</span>state_id<span class=\"k\">))</span>","    <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addState <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    state<span class=\"k\">.</span>bindings <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>bindings <span class=\"k\">&amp;&amp;</span> bindings<span class=\"k\">.</span>length<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> bindings<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","      <span class=\"k\">{</span>","        binding <span class=\"k\">=</span> bindings <span class=\"k\">[</span>i<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>binding <span class=\"k\">||</span> binding<span class=\"k\">.</span>length <span class=\"k\">!==</span> <span class=\"s\">3</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">'vs.fx.Controller.push: invalid binding information'</span><span class=\"k\">);</span>","          <span class=\"k\">continue</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>componentBind <span class=\"k\">(</span>state_id<span class=\"k\">,</span> binding<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> binding<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">],</span> binding<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>setStateComponentInformation <span class=\"k\">(</span>state_id<span class=\"k\">,</span> comp<span class=\"k\">,</span> extension<span class=\"k\">,</span> data<span class=\"k\">);</span>","    ","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Remove a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component can be specified as an Object or an id.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  layer.remove (myComp);</span>","<span class=\"c\">   *  layer.remove (myComp.id);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#remove</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component id</span>","<span class=\"c\">   */</span>","  remove <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">.</span>id<span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>_ab_controller_remove <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeState <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *   set the component associated to a state</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#setStateComponentInformation</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} state_id the state's name </span>","<span class=\"c\">   * @param {String | vs.ui.View} comp The GUI component name to instanciate or </span>","<span class=\"c\">   *    the instance of the component  </span>","<span class=\"c\">   * @param {Object} init_data Optional data for the component </span>","<span class=\"c\">   *                   constructor [optional]</span>","<span class=\"c\">   */</span>","  setStateComponentInformation <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> comp<span class=\"k\">,</span> extension<span class=\"k\">,</span> init_data<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>state_id<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>init_data<span class=\"k\">)</span> <span class=\"k\">{</span> init_data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> init_data <span class=\"k\">=</span> util<span class=\"k\">.</span>clone <span class=\"k\">(</span>init_data<span class=\"k\">);</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    state<span class=\"k\">.</span>init_data <span class=\"k\">=</span> init_data<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      state<span class=\"k\">.</span>comp_name <span class=\"k\">=</span> comp<span class=\"k\">;</span>","      state<span class=\"k\">.</span>comp <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      state<span class=\"k\">.</span>comp_name <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","      state<span class=\"k\">.</span>comp <span class=\"k\">=</span> comp<span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>isChild <span class=\"k\">(</span>comp<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>add <span class=\"k\">(</span>comp<span class=\"k\">,</span> extension<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Animation setting</span>","<span class=\"c\"> *********************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *   Add a new transition from the view \"from\" to the view \"to\".</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#addTransition</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} from State from (component id)</span>","<span class=\"c\">   * @param {String} to State to (component id)</span>","<span class=\"c\">   * @param {String} on the input event name which cause the crossing of </span>","<span class=\"c\">   *      transition</span>","<span class=\"c\">   * @param {vs.fx.Animation} animation_out the animation when exit from the</span>","<span class=\"c\">   *         state from. [optional]</span>","<span class=\"c\">   * @param {vs.fx.Animation} animation_in the animation when enter in the</span>","<span class=\"c\">   *         state to. [optional]</span>","<span class=\"c\">   */</span>","  addTransition <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">,</span> animation_out<span class=\"k\">,</span> animation_in<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> key<span class=\"k\">,</span> t<span class=\"k\">;</span>","        ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>from <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>from<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>to <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>to<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>on<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existInput <span class=\"k\">(</span>on<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>on<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addTransition <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">);</span>","","    <span class=\"k\">for</span> <span class=\"k\">(</span>key <span class=\"k\">in</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>from<span class=\"k\">].</span>transitionEvents<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      t <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>from<span class=\"k\">].</span>transitionEvents <span class=\"k\">[</span>key<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>t<span class=\"k\">.</span>to <span class=\"k\">!==</span> to<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      t<span class=\"k\">.</span>animation_out <span class=\"k\">=</span> animation_out<span class=\"k\">;</span>","      t<span class=\"k\">.</span>animation_in <span class=\"k\">=</span> animation_in<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   */</span>","  _animateComponents <span class=\"k\">:</span>","    <span class=\"k\">function</span> <span class=\"k\">(</span>fromComp<span class=\"k\">,</span> toComp<span class=\"k\">,</span> animationOut<span class=\"k\">,</span> animationIn<span class=\"k\">,</span> animation_clb<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> self <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> runAnimation<span class=\"k\">,</span> callback <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">try</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>animation_clb<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          animation_clb<span class=\"k\">.</span>call <span class=\"k\">(</span>self<span class=\"k\">.</span>_owner<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>self<span class=\"k\">.</span>_delegate <span class=\"k\">&amp;&amp;</span> self<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>animationDidEnd<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">\"animationDidEnd is deprecated. Please use 'controllerAnimationDidEnd'.\"</span><span class=\"k\">);</span>","          self<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>animationDidEnd <span class=\"k\">(</span>self<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>self<span class=\"k\">.</span>_delegate <span class=\"k\">&amp;&amp;</span> self<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerAnimationDidEnd<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          self<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerAnimationDidEnd <span class=\"k\">(</span>fromComp<span class=\"k\">,</span> toComp<span class=\"k\">,</span> self<span class=\"k\">);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span> console<span class=\"k\">.</span>error <span class=\"k\">(</span>e<span class=\"k\">);</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    runAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">try</span>","      <span class=\"k\">{</span>","        toComp<span class=\"k\">.</span>show <span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>animationIn <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>animationOut<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          callback<span class=\"k\">.</span>call <span class=\"k\">(</span>self<span class=\"k\">);</span>","          <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationIn<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">var</span> inDurations <span class=\"k\">=</span> animationIn<span class=\"k\">.</span>durations<span class=\"k\">;</span>","            animationIn<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"s\">'0s'</span><span class=\"k\">;</span>","          <span class=\"k\">}</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationOut<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">var</span> outDurations <span class=\"k\">=</span> animationOut<span class=\"k\">.</span>durations<span class=\"k\">;</span>","            animationOut<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"s\">'0s'</span><span class=\"k\">;</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>animationIn <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>animationOut<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          animationIn<span class=\"k\">.</span>process <span class=\"k\">(</span>toComp<span class=\"k\">,</span> callback<span class=\"k\">,</span> self<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>animationIn <span class=\"k\">&amp;&amp;</span> animationOut<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          animationOut<span class=\"k\">.</span>process <span class=\"k\">(</span>fromComp<span class=\"k\">,</span> callback<span class=\"k\">,</span> self<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationIn<span class=\"k\">)</span> animationIn<span class=\"k\">.</span>process <span class=\"k\">(</span>toComp<span class=\"k\">,</span> callback<span class=\"k\">,</span> self<span class=\"k\">);</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationOut<span class=\"k\">)</span> animationOut<span class=\"k\">.</span>process <span class=\"k\">(</span>fromComp<span class=\"k\">);</span> ","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationIn<span class=\"k\">)</span> animationIn<span class=\"k\">.</span>durations <span class=\"k\">=</span> inDurations<span class=\"k\">;</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationOut<span class=\"k\">)</span> animationOut<span class=\"k\">.</span>durations <span class=\"k\">=</span> outDurations<span class=\"k\">;</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span> console<span class=\"k\">.</span>error <span class=\"k\">(</span>e<span class=\"k\">);</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    window<span class=\"k\">.</span>setTimeout <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>runAnimation <span class=\"k\">();</span><span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 Component Event management</span>","<span class=\"c\"> *********************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  The event bind method to listen events</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  When you want listen an event generated by a component, you can</span>","<span class=\"c\">   *  bind your object (the observer) to this object using 'componentBind' </span>","<span class=\"c\">   *  method.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#componentBind</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {string} comp_id the component id [mandatory]</span>","<span class=\"c\">   * @param {string} spec the event specification [mandatory]</span>","<span class=\"c\">   * @param {vs.core.Object} obj the object interested to catch the event [mandatory]</span>","<span class=\"c\">   * @param {string} func the name of a callback. If its not defined</span>","<span class=\"c\">   *        notify method will be called [optional]</span>","<span class=\"c\">   */</span>","  componentBind<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp_id<span class=\"k\">,</span> event<span class=\"k\">,</span> obj<span class=\"k\">,</span> func<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","    ","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>comp_id<span class=\"k\">],</span> a<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    a <span class=\"k\">=</span> state<span class=\"k\">.</span>bindings <span class=\"k\">[</span>event<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>a<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      a <span class=\"k\">=</span> <span class=\"k\">[];</span>","      state<span class=\"k\">.</span>bindings <span class=\"k\">[</span>event<span class=\"k\">]</span> <span class=\"k\">=</span> a<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    a<span class=\"k\">.</span>push <span class=\"k\">([</span>obj<span class=\"k\">,</span> func<span class=\"k\">]);</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>comp_id <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>bind <span class=\"k\">(</span>event<span class=\"k\">,</span> obj<span class=\"k\">,</span> func<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  refresh<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 FSM management</span>","<span class=\"c\"> *********************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   * returns the currents state_id which is the current visible</span>","<span class=\"c\">   * component id.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#getCurrentState</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @return {string} the current state id</span>","<span class=\"c\">   */</span>","  getCurrentState <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","    ","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNewComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _beforeStateEnter <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state<span class=\"k\">,</span> data<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state <span class=\"k\">||</span> <span class=\"k\">!(</span>state<span class=\"k\">.</span>comp_name <span class=\"k\">||</span> state<span class=\"k\">.</span>comp<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> spec<span class=\"k\">,</span> events<span class=\"k\">,</span> i<span class=\"k\">,</span> key<span class=\"k\">,</span> e<span class=\"k\">,</span> new_data<span class=\"k\">;</span>","  ","    <span class=\"c\">////////////////////////////////////////////////////</span>","    <span class=\"c\">// 1) build the component if its need</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>createAndAddComponent","        <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> state<span class=\"k\">.</span>extension<span class=\"k\">);</span>","        ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","      <span class=\"k\">{</span> ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">////////////////////////////////////////////////////</span>","    <span class=\"c\">// 2) data adaptation and init</span>","    new_data <span class=\"k\">=</span> data<span class=\"k\">;</span>","    <span class=\"c\">// 2.1) data adaptation</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>data_adaptation_func<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      new_data <span class=\"k\">=</span> state<span class=\"k\">.</span>data_adaptation_func <span class=\"k\">(</span>data<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"c\">// 2.2) component data init</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>new_data<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"c\">// 2.2.1) set data</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span>key <span class=\"k\">in</span> new_data<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>__lookupSetter__ <span class=\"k\">(</span>key<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","            <span class=\"k\">!</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>hasOwnProperty <span class=\"k\">(</span>key<span class=\"k\">))</span>","        <span class=\"k\">{</span>","          <span class=\"k\">continue</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> new_data <span class=\"k\">[</span>key<span class=\"k\">];</span>","      <span class=\"k\">}</span>","      ","      <span class=\"c\">// 2.2.1) dataflow propagation</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">////////////////////////////////////////////////////</span>","    <span class=\"c\">// 3) events binding</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span>spec <span class=\"k\">in</span> state<span class=\"k\">.</span>bindings<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      events <span class=\"k\">=</span> state<span class=\"k\">.</span>bindings <span class=\"k\">[</span>spec<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>events<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> events<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">++)</span>","      <span class=\"k\">{</span>","        e <span class=\"k\">=</span> events <span class=\"k\">[</span>i<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>e<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>e<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])</span> <span class=\"k\">{</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>bind <span class=\"k\">(</span>spec<span class=\"k\">,</span> e<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> e<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]);</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">{</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>bind <span class=\"k\">(</span>spec<span class=\"k\">,</span> e<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _beforeStateExit <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state <span class=\"k\">||</span> <span class=\"k\">!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> spec<span class=\"k\">,</span> events<span class=\"k\">,</span> i<span class=\"k\">,</span> e<span class=\"k\">;</span>","      ","    <span class=\"c\">////////////////////////////////////////////////////</span>","    <span class=\"c\">// 1) events unbinding</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span>spec <span class=\"k\">in</span> state<span class=\"k\">.</span>bindings<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      events <span class=\"k\">=</span> state<span class=\"k\">.</span>bindings <span class=\"k\">[</span>spec<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>events<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> events<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">++)</span>","      <span class=\"k\">{</span>","        e <span class=\"k\">=</span> events <span class=\"k\">[</span>i<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>e<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>e<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])</span> <span class=\"k\">{</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>unbind <span class=\"k\">(</span>spec<span class=\"k\">,</span> e<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> e<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]);</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">{</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>bind <span class=\"k\">(</span>spec<span class=\"k\">,</span> e<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">   *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">   *  crossing a transition</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#goTo</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} id_sate the id of target state.</span>","<span class=\"c\">   * @param {String} output</span>","<span class=\"c\">   * @param {Object} event the event</span>","<span class=\"c\">   * @param {Boolean} instant make the transition visualy instantly [Optional]</span>","<span class=\"c\">   * @return {Boolean} is the transition was reached or not</span>","<span class=\"c\">   */</span>","  goTo <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"c\">// manage output</span>","    <span class=\"c\">// TODO WARNING</span>","    <span class=\"k\">var</span> state_from<span class=\"k\">,</span> state_to<span class=\"k\">,</span> transition <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">])</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">\"vs.fx.Controller.goTo unknown State id:\"</span> <span class=\"k\">+</span> state_id<span class=\"k\">);</span>","      <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">// hide old states view</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        transition <span class=\"k\">=</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">].</span>transitionEvents <span class=\"k\">[</span>event<span class=\"k\">.</span>on<span class=\"k\">];</span>","      <span class=\"k\">}</span>","      state_from <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_beforeStateExit <span class=\"k\">(</span>state_from<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">///</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_current_state <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","    ","    <span class=\"c\">// show new states view</span>","    state_to <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_beforeStateEnter <span class=\"k\">(</span>state_to<span class=\"k\">,</span> event<span class=\"k\">?</span>event<span class=\"k\">.</span>data<span class=\"k\">:</span><span class=\"k\">null</span><span class=\"k\">);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>state_from <span class=\"k\">&amp;&amp;</span> state_from<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state_from<span class=\"k\">.</span>comp<span class=\"k\">.</span>viewWillDisappear<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state_from<span class=\"k\">.</span>comp<span class=\"k\">.</span>viewWillDisappear <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>viewWillAppear<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>viewWillAppear <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_delegate <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerViewWillChange<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state_from<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerViewWillChange","          <span class=\"k\">(</span>state_from<span class=\"k\">.</span>comp<span class=\"k\">,</span> state_to<span class=\"k\">.</span>comp<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerViewWillChange","          <span class=\"k\">(</span><span class=\"k\">null</span><span class=\"k\">,</span> state_to<span class=\"k\">.</span>comp<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>transition<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_animateComponents <span class=\"k\">(</span>","        state_from<span class=\"k\">.</span>comp<span class=\"k\">,</span> state_to<span class=\"k\">.</span>comp<span class=\"k\">,</span>","        transition<span class=\"k\">.</span>animation_out<span class=\"k\">,</span> transition<span class=\"k\">.</span>animation_in<span class=\"k\">,</span>","        <span class=\"k\">null</span><span class=\"k\">,</span> instant<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>output <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">])</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> clb <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb <span class=\"k\">instanceof</span> Function<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        clb<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">,</span> event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>clb<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_owner <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">]]</span> <span class=\"k\">(</span>event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  notify <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">||</span> <span class=\"k\">!</span>event <span class=\"k\">||</span> <span class=\"k\">!</span>event<span class=\"k\">.</span>type<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>event<span class=\"k\">.</span>type<span class=\"k\">,</span> event<span class=\"k\">.</span>data<span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Controller clear</span>","<span class=\"c\"> *********************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Clear the vs.fx.Controller.</span>","<span class=\"c\">   * All state, event and binding are deleted</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#clear</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  clear <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>clear <span class=\"k\">();</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>Controller<span class=\"k\">,</span> core<span class=\"k\">.</span>EventSource<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>Controller<span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"s\">'initialComponent'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/*****************************************************************</span>","<span class=\"c\">     *     Properties declaration</span>","<span class=\"c\">     ****************************************************************/</span>","  ","    <span class=\"c\">/**</span>","<span class=\"c\">     * Define the initiale component</span>","<span class=\"c\">     * Generate a exception if the component was not already registered</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @name vs.fx.Controller#initialComponent </span>","<span class=\"c\">     * @param {string} state_id the state</span>","<span class=\"c\">     */</span>","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp_id<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">||</span> <span class=\"k\">!</span>comp_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","     ","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>comp_id<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","  ","      <span class=\"c\">// set initial state and go to it   </span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> comp_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>initialState <span class=\"k\">=</span> comp_id<span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span>comp_id<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    ","    <span class=\"c\">/**</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     */</span>","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'delegate'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","  ","    <span class=\"c\">/** </span>","<span class=\"c\">     * Set the delegate.</span>","<span class=\"c\">     * It should implements following methods</span>","<span class=\"c\">     * &lt;ul&gt;</span>","<span class=\"c\">     *   &lt;li/&gt;controllerViewWillChange :function</span>","<span class=\"c\">     *           (from vs.ui.View, to vs.ui.View, controller),</span>","<span class=\"c\">     *           Called when the view changed</span>","<span class=\"c\">     *   &lt;li/&gt;controllerAnimationDidEnd : function</span>","<span class=\"c\">     *           (from vs.ui.View, to vs.ui.View, controller), Called just after </span>","<span class=\"c\">     *         the animation ended</span>","<span class=\"c\">     * &lt;/ul&gt;</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @name vs.fx.Controller#delegate </span>","<span class=\"c\">     * @type {Object}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_delegate <span class=\"k\">=</span> v<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>Controller <span class=\"k\">=</span> Controller<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.StackController class &lt;br /&gt;</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @see vs.fx.SlideController</span>","<span class=\"c\"> *  @see vs.fx.CardController</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.Controller</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  The vs.fx.StackController class &lt;br /&gt;</span>","<span class=\"c\"> *  This an abstract layer controller and it should no be instanciated.</span>","<span class=\"c\"> *  Use {@link vs.fx.SliderController} or {@link vs.fx.CardController} layers.</span>","<span class=\"c\"> *  @abstract</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.StackController</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.StackController.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.fx.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> StackController <span class=\"k\">(</span>owner<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Controller<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","","  <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>StackController<span class=\"k\">.</span>NEXT<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>StackController<span class=\"k\">.</span>PRED<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","","  <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">=</span> <span class=\"k\">new</span> Array <span class=\"k\">();</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The duration of the animation between two views</span>","<span class=\"c\"> * @name vs.fx.StackController.ANIMATION_DURATION</span>","<span class=\"c\"> */</span>","StackController<span class=\"k\">.</span>ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">350</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @name vs.fx.StackController.NEXT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","StackController<span class=\"k\">.</span>NEXT <span class=\"k\">=</span> <span class=\"s\">'next'</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @name vs.fx.StackController.PRED</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","StackController<span class=\"k\">.</span>PRED <span class=\"k\">=</span> <span class=\"s\">'pred'</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @name vs.fx.StackController.FIRST</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","StackController<span class=\"k\">.</span>FIRST <span class=\"k\">=</span> <span class=\"s\">'first'</span><span class=\"k\">;</span>","","StackController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _is_tactile <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _owner_handler_event_extended <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _owner_handler_event <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _animation_duration<span class=\"k\">:</span> StackController<span class=\"k\">.</span>ANIMATION_DURATION<span class=\"k\">,</span> ","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _last_comp_id <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _states_array <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  __nb_panels <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {Array}</span>","<span class=\"c\">   */</span>","  _view_size<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","<span class=\"c\">/********************************************************************</span>","","<span class=\"c\">********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  destructor <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">delete</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">);</span>","    ","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>destructor<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  initComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>initComponent<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>isTactile <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_is_tactile<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","","<span class=\"c\">/********************************************************************</span>","","<span class=\"c\">********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myController = new vs.fx.StackController (this | myView);</span>","<span class=\"c\">   *  myController.init ();</span>","<span class=\"c\">   *  myController.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myController.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myController.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call","      <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>push <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">++;</span> ","","    <span class=\"c\">// first item</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">===</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>initialComponent <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","","      <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>NEXT<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>PRED<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition ","      <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">,</span> StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","    ","    <span class=\"c\">// create the second view </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"Unknown error in vs.fx.StackController.push\"</span><span class=\"k\">);</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _updateViewSize <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Remove a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component can be specified as an Object or an id.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  myComp.layer.remove (myComp);</span>","<span class=\"c\">   *  myComp.layer.remove (myComp.id);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#remove</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component id</span>","<span class=\"c\">   */</span>","  remove <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">.</span>id<span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> pos <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>findItem <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeTransitionTo <span class=\"k\">(</span>state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>NEXT<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeTransitionFrom <span class=\"k\">(</span>state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>PRED<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeTransitionFrom <span class=\"k\">(</span>state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>remove <span class=\"k\">(</span>pos<span class=\"k\">);</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">--;</span> ","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"s\">0</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      ","      <span class=\"c\">// re configure all to FIRST transition</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> state_id_temp <span class=\"k\">in</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state_id_temp <span class=\"k\">===</span> state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state_id_temp <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","        <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeTransitionFrom <span class=\"k\">(</span>state_id_temp<span class=\"k\">,</span> StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>addTransition","          <span class=\"k\">(</span>state_id_temp<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">,</span> StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">===</span> <span class=\"s\">0</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state <span class=\"k\">===</span> state_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span> pos <span class=\"k\">--;</span> <span class=\"k\">}</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span>pos<span class=\"k\">]);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>remove<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {number} orientation = {0, 180, -90, 90}</span>","<span class=\"c\">   */</span>","  orientationDidChange<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>orientation<span class=\"k\">)</span>","  <span class=\"k\">{</span> ","    <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Go to the view specified by its id if it exist.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToViewId</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return true if the transition is possible, false if not (no view exists)</span>","<span class=\"c\">   */</span>","  goToViewId <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>id<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> pos <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>findItem <span class=\"k\">(</span>id<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>goToViewAt <span class=\"k\">(</span>pos<span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Go to the view specified by its position (index start at 0)</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToViewAt</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {number} index The component index</span>","<span class=\"c\">   */</span>","  goToViewAt <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>pos<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">&gt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> current_pos <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>findItem <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>current_pos <span class=\"k\">===</span> pos<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">&gt;</span> current_pos<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">while</span> <span class=\"k\">(</span>current_pos <span class=\"k\">&lt;</span> pos <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        current_pos <span class=\"k\">++;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span> instant<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">while</span> <span class=\"k\">(</span>pos <span class=\"k\">+</span> <span class=\"s\">1</span> <span class=\"k\">&lt;</span> current_pos <span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        current_pos <span class=\"k\">--;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span> instant<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Go to the next view if it exist.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToNextView</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return true if the transition is possible, false if not (no view exists)</span>","<span class=\"c\">   */</span>","  goToNextView <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Go to the previous view if it exist.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToPreviousView</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return true if the transition is possible, false if not (no view exists)</span>","<span class=\"c\">   */</span>","  goToPreviousView <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Go to the first view</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToFirstView</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return true if the transition is possible</span>","<span class=\"c\">   */</span>","  goToFirstView <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>FIRST<span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  handleEvent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","  <span class=\"k\">{}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>StackController<span class=\"k\">,</span> Controller<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>StackController<span class=\"k\">,</span> <span class=\"k\">{</span>","","  <span class=\"s\">'viewSize'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","   <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter for view size.</span>","<span class=\"c\">     * @name vs.fx.StackController#viewSize </span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @type {Array.&lt;number&gt;}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span> ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>v<span class=\"k\">)</span> <span class=\"k\">||</span> v<span class=\"k\">.</span>length <span class=\"k\">!==</span> <span class=\"s\">2</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">||</span> <span class=\"k\">!</span>util<span class=\"k\">.</span>isNumber<span class=\"k\">(</span>v<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">=</span> <span class=\"k\">[];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">=</span> v <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">=</span> v <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/**</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @type {Array.&lt;number&gt;}</span>","<span class=\"c\">     */</span>","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>size<span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">.</span>slice <span class=\"k\">();</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'isTactile'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter for the tab bar style</span>","<span class=\"c\">     * @name vs.fx.StackController#isTactile </span>","<span class=\"c\">     * @type {boolean}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_is_tactile <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>view<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","  ","        <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event_extended<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>view<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_START<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>handleEvent<span class=\"k\">;</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>handleEvent <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>handleEvent<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event_extended <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_is_tactile <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>view<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event_extended<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>view<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_START<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>handleEvent <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event<span class=\"k\">;</span>","          ","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event_extended <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @return {boolean}</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_is_tactile<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'animationDuration'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Set the animation/transition temporisation (in millisecond)</span>","<span class=\"c\">     * @name vs.fx.StackController#animationDuration </span>","<span class=\"c\">     * @type {number}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>time<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>time<span class=\"k\">)</span> <span class=\"k\">{</span> time <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>time<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">}</span><span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">=</span> time<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>StackController <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.SlideController class &lt;br /&gt;</span>","<span class=\"c\"> *  This layer manage a list of children using a horizontal layout.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  Children can be slided horizontally (right &lt;-&gt; left) or vertically </span>","<span class=\"c\"> *  (top &lt;-&gt; bottom) using a pointing device (mouse, touch screen, ...),</span>","<span class=\"c\"> *  or using methods goToNextView and goToPreviousView.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  By default the slider is horizontal, but you can change it using the </span>","<span class=\"c\"> *  property \"orientation\".</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  The following example shows a typical example with panels</span>","<span class=\"c\"> *  (components 1 to 4) that are shows sequentially according user touch slide.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre&gt;</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164; &#226;&#142;&#162;   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;      &#226;&#142;&#162; &#226;&#142;&#162;   &#226;&#142;&#159;      &#226;&#142;&#162;   &#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;  (1) &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;  (2) &#226;&#142;&#162; &#226;&#142;&#162;   &#226;&#142;&#159;  (3) &#226;&#142;&#162;   &#226;&#142;&#159;  (4) &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;      &#226;&#142;&#162; &#226;&#142;&#162;   &#226;&#142;&#159;      &#226;&#142;&#162;   &#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162;   &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#163;______&#226;&#142;&#166;</span>","<span class=\"c\"> *                &#226;&#142;&#163;____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  (*) : device screen</span>","<span class=\"c\"> *  (1, ... ,4) : components managed by the SliderLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *   &lt;/pre&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller),</span>","<span class=\"c\"> *         Called when the view changed</span>","<span class=\"c\"> *    &lt;li/&gt;controllerAnimationDidEnd : function (from vs.ui.View, to vs.ui.View, controller), Called just after </span>","<span class=\"c\"> *         the animation ended</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  var layer = new vs.fx.SlideController (myComp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  layer.push ('APanel', {id: '1', data: {...}});</span>","<span class=\"c\"> *  layer.push ('APanel', {id: '2', data: {...}});</span>","<span class=\"c\"> *  layer.push ('APanel', {id: '3', data: {...}});</span>","<span class=\"c\"> *  layer.push ('APanel', {id: '4', data: {...}});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.StackController</span>","<span class=\"c\"> * @name vs.fx.SlideController</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.SlideController.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> SlideController <span class=\"k\">(</span>owner<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> SlideController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","  ","  <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1 <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2 <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","","  <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> SlideController<span class=\"k\">.</span>ANIMATION_DURATION<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The duration of the animation between two views</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.SlideController.ANIMATION_DURATION</span>","<span class=\"c\"> */</span>","SlideController<span class=\"k\">.</span>ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">500</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Horizontal slide (defaut)</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.SlideController.HORIZONTAL</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","SlideController<span class=\"k\">.</span>HORIZONTAL <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Vertical slide</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.SlideController.VERTICAL</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","SlideController<span class=\"k\">.</span>VERTICAL <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","SlideController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  _delta <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  _orientation <span class=\"k\">:</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">,</span>","    ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_out_1 <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_out_2 <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","    ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_clear <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>  ","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 behavior update</span>","<span class=\"c\"> *********************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _updateViewSize <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">,</span> i<span class=\"k\">,</span> state_id<span class=\"k\">,</span> state<span class=\"k\">,</span> transform<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>x <span class=\"k\">=</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>y <span class=\"k\">=</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">// define transformation for view before current one</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(-\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0,0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(0,-\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","    <span class=\"k\">{</span>","      state_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span>i<span class=\"k\">];</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state <span class=\"k\">||</span> <span class=\"k\">!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state <span class=\"k\">===</span> state_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"c\">// define transformation for view after current one</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0,0)\"</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(0,\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        ","        <span class=\"c\">// set no transformation for the current one</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","        setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> <span class=\"s\">\"translate3D(0,0,0)\"</span><span class=\"k\">);</span>","        <span class=\"k\">continue</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","      setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","    <span class=\"k\">}</span> ","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myController = new vs.fx.SlideController (this | myView);</span>","<span class=\"c\">   *  myController.init ();</span>","<span class=\"c\">   *  myController.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myController.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myController.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.SlideController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call","      <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>push <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">++;</span> ","","    <span class=\"c\">// first item</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">===</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>initialComponent <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","","      <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">);</span>","<span class=\"c\">//    this.addTransition </span>","<span class=\"c\">//      (state_id, this._initial_component, StackController.FIRST);</span>","    ","    <span class=\"c\">// create the second view </span>","    state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"Unknown error in vs.fx.StackController.push\"</span><span class=\"k\">);</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels<span class=\"k\">);</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNewComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> transform<span class=\"k\">,</span> size<span class=\"k\">;</span>","    size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">;</span>      ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0,0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(0,\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","    setElementTransform <span class=\"k\">(</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  handleEvent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> t_ok <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">,</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>size<span class=\"k\">,</span>","      duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_animation_duration<span class=\"k\">;</span>","          ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_START<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      event<span class=\"k\">.</span>preventDefault <span class=\"k\">();</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>  ","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_END<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">50</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToPreviousView <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"k\">-</span><span class=\"s\">50</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToNextView <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>t_ok<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          duration <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor <span class=\"k\">(</span>duration <span class=\"k\">*</span> <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">/</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> duration<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>","          duration <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor <span class=\"k\">(</span>duration <span class=\"k\">*</span> <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">/</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> duration<span class=\"k\">;</span>","        <span class=\"k\">}</span>","<span class=\"c\">//        this.__curent_comp.translate (0, 0);</span>","      <span class=\"k\">}</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  refresh<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>refresh<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">//   /**</span>","<span class=\"c\">//    * @protected</span>","<span class=\"c\">//    *</span>","<span class=\"c\">//    * @param {number} orientation = {0, 180, -90, 90}</span>","<span class=\"c\">//    */</span>","<span class=\"c\">//   orientationDidChange: function (orientation)</span>","<span class=\"c\">//   { </span>","<span class=\"c\">//     this.refresh ();</span>","<span class=\"c\">//   },</span>","","<span class=\"c\">//   /**</span>","<span class=\"c\">//    *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">//    *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">//    *  crossing a transition</span>","<span class=\"c\">//    *  @private</span>","<span class=\"c\">//    *</span>","<span class=\"c\">//    * @param {String} id_sate the id of target state.</span>","<span class=\"c\">//    * @param {String} output</span>","<span class=\"c\">//    * @param {Object} event the event</span>","<span class=\"c\">//    */</span>","<span class=\"c\">//   goTo : function (state_id, output, event)</span>","<span class=\"c\">//   {</span>","<span class=\"c\">//     var state_to, index = this._states_array.indexOf (state_id),</span>","<span class=\"c\">//       size = this.owner.size, callback, self = this,</span>","<span class=\"c\">//       duration = self._animation_duration, __delta = this.owner.__delta;</span>","<span class=\"c\">//     // manage output</span>","<span class=\"c\">//     // TODO WARNING</span>","<span class=\"c\">//     StackController.prototype.goTo.call (self, state_id, output, event);</span>","<span class=\"c\">//     if (!state_id) { return; }</span>","<span class=\"c\">// </span>","<span class=\"c\">//     state_to = self._list_of_state [self._current_state];</span>","<span class=\"c\">//     if (self._orientation === SlideController.HORIZONTAL)</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       self._delta = index * size [0];</span>","<span class=\"c\">//       self.owner._sub_view.style.width = (index + 1) * size [0] + 'px';</span>","<span class=\"c\">//       self.owner._sub_view.style.height = size [1] + 'px';</span>","<span class=\"c\">//     }</span>","<span class=\"c\">//     else</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       self._delta = index * size [1];</span>","<span class=\"c\">//       self.owner._sub_view.style.width = size [0] + 'px';</span>","<span class=\"c\">//       self.owner._sub_view.style.height = (index + 1) * size [1] + 'px';</span>","<span class=\"c\">//     }</span>","<span class=\"c\">//         </span>","<span class=\"c\">//     function initState (index)</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       var state_id = self._states_array [index],</span>","<span class=\"c\">//           state = self._list_of_state [state_id];</span>","<span class=\"c\">//       </span>","<span class=\"c\">//       if (!state) { return; }</span>","<span class=\"c\">// </span>","<span class=\"c\">//       if (!state.comp)</span>","<span class=\"c\">//       {</span>","<span class=\"c\">//         state.comp = self.owner.createAndAddComponent</span>","<span class=\"c\">//           (state.comp_name, state.init_data, state.extension);</span>","<span class=\"c\">//           </span>","<span class=\"c\">//         state.comp.configure (state.init_data);</span>","<span class=\"c\">//         if (state.comp &amp;&amp; state.comp.propertiesDidChange) </span>","<span class=\"c\">//         { </span>","<span class=\"c\">//           state.comp.propertiesDidChange ();</span>","<span class=\"c\">//         }</span>","<span class=\"c\">//         state.comp.propertyChange ();</span>","<span class=\"c\">//       }</span>","<span class=\"c\">//       state.comp.show ();  </span>","<span class=\"c\">//     }</span>","<span class=\"c\">//     </span>","<span class=\"c\">//     /// left/top component </span>","<span class=\"c\">//     if (index &gt; 0) { initState.call (self, index - 1); }</span>","<span class=\"c\">// </span>","<span class=\"c\">//     /// right/bottom component </span>","<span class=\"c\">//     if (index &lt; self._states_array.length - 1)</span>","<span class=\"c\">//     { initState.call (self, index + 1); }</span>","<span class=\"c\">//      </span>","<span class=\"c\">//     callback = function () </span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       if (self._delegate &amp;&amp; self._delegate.animationDidEnd)</span>","<span class=\"c\">//       { self._delegate.animationDidEnd (self); }</span>","<span class=\"c\">//     }</span>","<span class=\"c\">// </span>","<span class=\"c\">//     if (!util.isNumber (__delta)) { __delta = 0; }</span>","<span class=\"c\">//     else { __delta = Math.abs (__delta); }</span>","<span class=\"c\">//     if (self._orientation === SlideController.HORIZONTAL)</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       duration = Math.floor (duration * (size[0] - __delta) / size [0]);</span>","<span class=\"c\">//       self.owner.animationDuration = duration;</span>","<span class=\"c\">//       self.owner.insideTranslate (-self._delta, 0, callback);</span>","<span class=\"c\">//     }</span>","<span class=\"c\">//     else</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       duration = Math.floor (duration * (size[1] - __delta) / size [1]);</span>","<span class=\"c\">//       self.owner.animationDuration = duration;</span>","<span class=\"c\">//       self.owner.insideTranslate (0, -self._delta, callback);</span>","<span class=\"c\">//     }</span>","<span class=\"c\">// </span>","<span class=\"c\">//     if (output &amp;&amp; self._output_action [output])</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       var clb = self._output_action [output];</span>","<span class=\"c\">//       if (clb instanceof Function)</span>","<span class=\"c\">//       {</span>","<span class=\"c\">//         clb.call (self.owner, event);</span>","<span class=\"c\">//       }</span>","<span class=\"c\">//       else if (util.isString (clb))</span>","<span class=\"c\">//       {</span>","<span class=\"c\">//         self.owner [self._output_action [output]] (event);</span>","<span class=\"c\">//       }</span>","<span class=\"c\">//     }</span>","<span class=\"c\">//   }</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>SlideController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>SlideController<span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"s\">'orientation'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter for page slide orientation. It can take the value</span>","<span class=\"c\">     * vs.fx.SlideController.HORIZONTAL or vs.fx.SlideController.VERTICAL.</span>","<span class=\"c\">     * By default the slider is horizontal.</span>","<span class=\"c\">     * @name vs.fx.SlideController#orientation </span>","<span class=\"c\">     * @type String</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> state<span class=\"k\">,</span> state_id<span class=\"k\">,</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> pos <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>v <span class=\"k\">!==</span> SlideController<span class=\"k\">.</span>HORIZONTAL <span class=\"k\">&amp;&amp;</span>","          v <span class=\"k\">!==</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">=</span> v<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @return {String}</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_orientation<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'animationDuration'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Set the animation/transition temporisation (in millisecond)</span>","<span class=\"c\">     * @name vs.fx.SlideController#animationDuration </span>","<span class=\"c\">     * @type {number}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> v <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">}</span><span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">=</span> v<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>SlideController <span class=\"k\">=</span> SlideController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.NavigationController class implements a controller for navigating</span>","<span class=\"c\"> *  on hierarchical contents.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.Controller</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  The vs.fx.NavigationController class implements a controller for navigating</span>","<span class=\"c\"> *  on hierarchical contents.</span>","<span class=\"c\"> *  &lt;p/&gt;</span>","<span class=\"c\"> *  The controller shows a first view (the initialComponent) and allows to</span>","<span class=\"c\"> *  navigate from this first view to a second view and a third ... and back</span>","<span class=\"c\"> *  to the previous one til the first view.</span>","<span class=\"c\"> *  &lt;p/&gt;</span>","<span class=\"c\"> *  The next picture shows a example of hierarchical contents navigation.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre&gt;                 </span>","<span class=\"c\"> *                </span>","<span class=\"c\"> *   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;__&gt; &#226;&#142;&#162;      &#226;&#142;&#162;__&gt;&#226;&#142;&#159;      &#226;&#142;&#162; </span>","<span class=\"c\"> *   &#226;&#142;&#159;  (1) &#226;&#142;&#162;    &#226;&#142;&#162;  (2) &#226;&#142;&#162;   &#226;&#142;&#159;  (3) &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;&lt;__ &#226;&#142;&#162;      &#226;&#142;&#162;&lt;__&#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#163;______&#226;&#142;&#166;</span>","<span class=\"c\"> *        | |   </span>","<span class=\"c\"> *        | |    &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *        | &#226;&#142;&#163;__&gt;&#226;&#142;&#162;      &#226;&#142;&#162;--&gt;&#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        | |    &#226;&#142;&#162;  (4) &#226;&#142;&#162;   &#226;&#142;&#159;  (5) &#226;&#142;&#162; </span>","<span class=\"c\"> *        | |&lt;___&#226;&#142;&#162;      &#226;&#142;&#162;&lt;__&#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        |      &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#163;______</span>","<span class=\"c\"> *        |            |   </span>","<span class=\"c\"> *        |            |    &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *        |            &#226;&#142;&#163;__&gt;&#226;&#142;&#162;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        |            |    &#226;&#142;&#162;  (6) &#226;&#142;&#162;</span>","<span class=\"c\"> *        |            |&lt;___&#226;&#142;&#162;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        |                 &#226;&#142;&#163;______&#226;&#142;&#166;</span>","<span class=\"c\"> *        |   </span>","<span class=\"c\"> *        |    &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *        &#226;&#142;&#163;__&gt;&#226;&#142;&#162;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        |    &#226;&#142;&#162;  (7) &#226;&#142;&#162;</span>","<span class=\"c\"> *        |&lt;___&#226;&#142;&#162;      &#226;&#142;&#162;</span>","<span class=\"c\"> *             &#226;&#142;&#163;______&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  (1, ... ,7) : component's views managed by the SliderLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;/pre&gt;</span>","<span class=\"c\"> *  The controller can manage a navigation bar during the user navigates.</span>","<span class=\"c\"> *  For instance it can hides or shows components (button, label, ...) and/or</span>","<span class=\"c\"> *  reconfigurate them. (for instance change the text value of a label.</span>","<span class=\"c\"> *  &lt;p/&gt;</span>","<span class=\"c\"> *  Example:</span>","<span class=\"c\"> *  &lt;pre class='code'&gt;</span>","<span class=\"c\"> *  this.controller = new vs.fx.NavigationController (this, this.navBar);</span>","<span class=\"c\"> *  this.controller.init ();</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  // 1.1 put the first view into the controller</span>","<span class=\"c\"> *  this.controller.push (this.firstView);</span>","<span class=\"c\"> *  // 1.2 configure the navigation bar for the first view (nothing)</span>","<span class=\"c\"> *  this.controller.configureNavigationBarState (this.firstView.id, []);</span>","<span class=\"c\"> *  // 1.3 finally configure the first view as the initial component</span>","<span class=\"c\"> *  this.controller.initialComponent = this.firstView.id;</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  var backId = this.navBar.backButton.id;</span>","<span class=\"c\"> *  var titleId = this.navBar.title.id;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // 2.1 set the second view, with parameters</span>","<span class=\"c\"> *  var id = this.controller.push ('PanelOne', {position: [0, 44]});</span>","<span class=\"c\"> *  // 2.2 configure the navigation bar to show the back button, the title</span>","<span class=\"c\"> *  //  and set the text title</span>","<span class=\"c\"> *  this.controller.configureNavigationBarState</span>","<span class=\"c\"> *    (id, [{comp: backId}, </span>","<span class=\"c\"> *          {comp: titleId, properties: {text: 'Panel One'}}]);    </span>","<span class=\"c\"> *  // 2.3 configure the transition between the first and second view</span>","<span class=\"c\"> *  this.controller.configureTransition (this.firstView.id, id, 'goToOne');</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  // 3 set the third view</span>","<span class=\"c\"> *  id = this.controller.push ('PanelTwo', {position: [0, 44]});</span>","<span class=\"c\"> *  this.controller.configureNavigationBarState</span>","<span class=\"c\"> *    (id, [{comp: backId}, </span>","<span class=\"c\"> *          {comp: titleId, properties: {text: 'Panel Two'}}]);    </span>","<span class=\"c\"> *  this.controller.configureTransition (this.firstView.id, id, 'goToTwo');</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  // 3 set the last view</span>","<span class=\"c\"> *  id = this.controller.push ('PanelThree', {position: [0, 44]});</span>","<span class=\"c\"> *  this.controller.configureNavigationBarState</span>","<span class=\"c\"> *    (id, [{comp: backId}, </span>","<span class=\"c\"> *          {comp: titleId, properties: {text: 'Panel Three'}}]);    </span>","<span class=\"c\"> *  this.controller.configureTransition (this.firstView.id, id, 'goToThree');</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  &lt;/pre&gt;</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.NavigationController</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.NavigationController.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.ui.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> * @param {number} animationType Select the animation use during transition. </span>","<span class=\"c\"> *     [optional]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> NavigationController <span class=\"k\">(</span>owner<span class=\"k\">,</span> navBar<span class=\"k\">,</span> type<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Controller<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> NavigationController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(</span>type <span class=\"k\">==</span> NavigationController<span class=\"k\">.</span>NO_ANIMATION <span class=\"k\">||</span>","      type <span class=\"k\">==</span> NavigationController<span class=\"k\">.</span>CARD_ANIMATION <span class=\"k\">||</span>","      type <span class=\"k\">==</span> NavigationController<span class=\"k\">.</span>SLIDE_ANIMATION<span class=\"k\">)</span>","  <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_type <span class=\"k\">=</span> type<span class=\"k\">;</span> <span class=\"k\">}</span>","  ","  <span class=\"k\">else</span>","  <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_type <span class=\"k\">=</span> NavigationController<span class=\"k\">.</span>DEFAULT_ANIMATION<span class=\"k\">;</span> <span class=\"k\">}</span>","     ","  <span class=\"k\">this</span><span class=\"k\">.</span>setNavigationBar <span class=\"k\">(</span>navBar<span class=\"k\">);</span>","  ","  <span class=\"k\">this</span><span class=\"k\">.</span>__nav_bar_states <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  There is no animation during transition between two views.</span>","<span class=\"c\"> *  &lt;br /&gt;</span>","<span class=\"c\"> *  If the platform you are targeting does not support animations or</span>","<span class=\"c\"> *  does not support accelerated animations, you should use this</span>","<span class=\"c\"> *  configuration.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.NavigationController.NO_ANIMATION</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>NO_ANIMATION <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * There is card animation during transition between two views.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.NavigationController.CARD_ANIMATION</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>CARD_ANIMATION <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * There is slide animation during transition between two views.</span>","<span class=\"c\"> *  &lt;br /&gt;</span>","<span class=\"c\"> *  This is the default configuration</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.NavigationController.SLIDE_ANIMATION</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>SLIDE_ANIMATION <span class=\"k\">=</span> <span class=\"s\">2</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Select the default animation configuration (Slide animations)</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.NavigationController.DEFAULT_ANIMATION</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>DEFAULT_ANIMATION <span class=\"k\">=</span> ","  NavigationController<span class=\"k\">.</span>SLIDE_ANIMATION<span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>BACK <span class=\"k\">=</span> <span class=\"s\">'back'</span><span class=\"k\">;</span>","","NavigationController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _nav_bar <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  __nav_bar_states <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _animation_type <span class=\"k\">:</span> NavigationController<span class=\"k\">.</span>DEFAULT_ANIMATION<span class=\"k\">,</span>",""," <span class=\"c\">/**********************************************************************</span>","","<span class=\"c\">  *********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  destructor<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>destructor<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  initComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>initComponent<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","   ","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>size<span class=\"k\">;</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_left <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(-</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_left <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Defines the Navigation Bar</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#setNavigationBar</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.NavigationBar} navBar the ab bar</span>","<span class=\"c\">   */</span>","  setNavigationBar <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>navBar<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>navBar <span class=\"k\">||</span> <span class=\"k\">!</span>navBar <span class=\"k\">instanceof</span> ui<span class=\"k\">.</span>NavigationBar<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_nav_bar <span class=\"k\">=</span> navBar<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  refresh<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>refresh<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _updateViewSize <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">,</span> i<span class=\"k\">,</span> state_id<span class=\"k\">,</span> state<span class=\"k\">,</span> transform<span class=\"k\">;</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_left<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">.</span>x <span class=\"k\">=</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add the a child component to the Navigation Controller</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myComp = new MyComp (conf);</span>","<span class=\"c\">   *  myComp.controller = new vs.fx.NavigationController (myComp);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  // push a component name (the component will be instanciated when needs)</span>","<span class=\"c\">   *  myComp.controller.push ('AComponent1', {id: 'comp1'});</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  // instanciate a component and push it </span>","<span class=\"c\">   *  var comp2 = myComp.createAndAddComponent ('AComponent1', {id: 'comp2'});</span>","<span class=\"c\">   *  myComp.controller.push (comp2);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  // create a button object and push it</span>","<span class=\"c\">   *  var comp3 = new vs.ui.Button ({id: 'comp3', text: 'hello'});</span>","<span class=\"c\">   *  myComp.controller.push (comp3);</span>","<span class=\"c\">   *  myComp.controller.initComponent = comp2.id;</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String | vs.ui.View} comp The GUI component name to instanciate or </span>","<span class=\"c\">   *    the instance of the component  </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the </span>","<span class=\"c\">   *     component [optional]</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> size<span class=\"k\">,</span> state_id <span class=\"k\">=</span>","      Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> bindings<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} state The state (component id)  </span>","<span class=\"c\">   * @param {Array} configurations configuration parameters </span>","<span class=\"c\">   *     Structure have to follow : [{comp: vs.core.Object|String, properties:{prop_name: value}}</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#configureNavigationBarState</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNavigationBarState <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> configurations<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">],</span> comp<span class=\"k\">,</span> i<span class=\"k\">,</span> l<span class=\"k\">,</span> conf<span class=\"k\">,</span>","      components <span class=\"k\">=</span> <span class=\"k\">[],</span> state_conf <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state <span class=\"k\">||</span> <span class=\"k\">!</span>configurations<span class=\"k\">)</span>","    <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> l <span class=\"k\">=</span> configurations<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> l<span class=\"k\">;</span> i<span class=\"k\">++)</span>","    <span class=\"k\">{</span>","      conf <span class=\"k\">=</span> configurations <span class=\"k\">[</span>i<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>conf<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      comp <span class=\"k\">=</span> conf<span class=\"k\">.</span>comp<span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"c\">// component is specified by an id</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","      <span class=\"k\">{</span> comp <span class=\"k\">=</span> core<span class=\"k\">.</span>Object<span class=\"k\">.</span>_obs <span class=\"k\">[</span>comp<span class=\"k\">];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>comp <span class=\"k\">instanceof</span> vs<span class=\"k\">.</span>ui<span class=\"k\">.</span>View<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      components<span class=\"k\">.</span>push <span class=\"k\">(</span>comp<span class=\"k\">);</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>conf<span class=\"k\">.</span>properties<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state_conf <span class=\"k\">[</span>comp<span class=\"k\">.</span>id<span class=\"k\">]</span> <span class=\"k\">=</span> conf<span class=\"k\">.</span>properties<span class=\"k\">;</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>__nav_bar_states <span class=\"k\">[</span>state_id<span class=\"k\">]</span> <span class=\"k\">=</span> state_conf<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_nav_bar<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_nav_bar<span class=\"k\">.</span>setStateItems <span class=\"k\">(</span>state_id<span class=\"k\">,</span> components<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *   Add a new transition from the state \"from\" to the state \"to\".</span>","<span class=\"c\">   *   The states have to be already specified.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#configureTransition</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {string} from State from</span>","<span class=\"c\">   * @param {string} to State to</span>","<span class=\"c\">   * @param {string} on input lexem which cause the crossing of transition</span>","<span class=\"c\">   * @param {string} output optional ouput lexem that will be produce by the </span>","<span class=\"c\">   *                  transition</span>","<span class=\"c\">   * @param {string} anim optional animation name</span>","<span class=\"c\">   */</span>","  configureTransition <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>from <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>from<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>to <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>to<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>on<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existInput <span class=\"k\">(</span>on<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>on<span class=\"k\">);</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_animation_type <span class=\"k\">===</span> NavigationController<span class=\"k\">.</span>SLIDE_ANIMATION<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">,</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_left<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">);</span>","        ","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>to<span class=\"k\">,</span> from<span class=\"k\">,</span> NavigationController<span class=\"k\">.</span>BACK<span class=\"k\">,</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_left<span class=\"k\">);</span>","","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_left<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_left<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_animation_type <span class=\"k\">===</span> NavigationController<span class=\"k\">.</span>CARD_ANIMATION<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">,</span>","        <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">);</span>","                ","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>to<span class=\"k\">,</span> from<span class=\"k\">,</span> NavigationController<span class=\"k\">.</span>BACK<span class=\"k\">,</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">);</span>","","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"c\">// no animation</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">,</span>","        <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">);</span>","                ","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>to<span class=\"k\">,</span> from<span class=\"k\">,</span> NavigationController<span class=\"k\">.</span>BACK<span class=\"k\">,</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">);</span>","","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"0\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"0\"</span> ","    <span class=\"k\">}</span>"," <span class=\"k\">}</span><span class=\"k\">,</span>","  ","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 FSM management</span>","<span class=\"c\"> *********************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNewComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">;</span>","    ","    comp<span class=\"k\">.</span>translation <span class=\"k\">=</span> <span class=\"k\">[</span>size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> <span class=\"s\">0</span><span class=\"k\">];</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">   *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">   *  crossing a transition</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#goTo</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} id_sate the id of target state.</span>","<span class=\"c\">   * @param {String} output</span>","<span class=\"c\">   * @param {Object} event the event</span>","<span class=\"c\">   */</span>","  goTo <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> ok <span class=\"k\">=</span> ","      Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>goTo<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">,</span> instant<span class=\"k\">);</span>"," ","    <span class=\"k\">if</span> <span class=\"k\">(</span>ok <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_nav_bar<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_nav_bar<span class=\"k\">.</span>changeState","        <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>__nav_bar_states <span class=\"k\">[</span>state_id<span class=\"k\">]);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>NavigationController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>NavigationController<span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"s\">'viewSize'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","   <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter for view size.</span>","<span class=\"c\">     * @name vs.fx.NavigationController#viewSize </span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @type {Array.&lt;number&gt;}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span> ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>v<span class=\"k\">)</span> <span class=\"k\">||</span> v<span class=\"k\">.</span>length <span class=\"k\">!==</span> <span class=\"s\">2</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">||</span> <span class=\"k\">!</span>util<span class=\"k\">.</span>isNumber<span class=\"k\">(</span>v<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">=</span> <span class=\"k\">[];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">=</span> v <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">=</span> v <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/**</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @type {Array.&lt;number&gt;}</span>","<span class=\"c\">     */</span>","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>size<span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">.</span>slice <span class=\"k\">();</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'initialComponent'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     *  Define the initiale component</span>","<span class=\"c\">     *  Generate a exception if the component was not already registered</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @name vs.fx.NavigationController#initialComponent </span>","<span class=\"c\">     * @param {string} state_id the state</span>","<span class=\"c\">     */</span>","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp_id<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>comp_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>comp_id<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","  ","      <span class=\"c\">// set initial state and go to it   </span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> comp_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>initialState <span class=\"k\">=</span> comp_id<span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span>comp_id<span class=\"k\">);</span>","      <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>comp_id<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>translation <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    ","    <span class=\"c\">/**</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     */</span>","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>NavigationController <span class=\"k\">=</span> NavigationController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.CardController class &lt;br /&gt;</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  This layer manage a list of children using a card style animation.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  Children can be slided horizontally (right &lt;-&gt; left) or vertically </span>","<span class=\"c\"> *  (top &lt;-&gt; bottom) using a pointing device (mouse, touch screen, ...),</span>","<span class=\"c\"> *  or using methods goToNextView and goToPreviousView.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  By default the card slide to left out. You can change it using the </span>","<span class=\"c\"> *  property \"direction\". You can configure it with four directions:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li&gt;vs.fx.CardController.LEFT_OUT</span>","<span class=\"c\"> *    &lt;li&gt;vs.fx.CardController.RIGHT_OUT</span>","<span class=\"c\"> *    &lt;li&gt;vs.fx.CardController.TOP_OUT</span>","<span class=\"c\"> *    &lt;li&gt;vs.fx.CardController.BOTTOM_OUT</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  The following example shows a typical example with panels</span>","<span class=\"c\"> *  (components 1 to 3).</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre style=\"font-family:courier\"&gt;</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(1)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#161;(3)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#162;   &#226;&#142;&#163;_______&#226;&#142;&#166;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(3)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#161;(1)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#162;</span>","<span class=\"c\"> *     &#226;&#142;&#163;______&#226;&#142;&#166;  &#226;&#142;&#162;             &#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  (*) : device screen</span>","<span class=\"c\"> *  (1, ...,3) : components managed by the CardLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *   &lt;/pre&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller),</span>","<span class=\"c\"> *         Called when the view changed</span>","<span class=\"c\"> *    &lt;li/&gt;controllerAnimationDidEnd : function (from vs.ui.View, to vs.ui.View, controller), Called just after </span>","<span class=\"c\"> *         the animation ended</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  var myController = new vs.fx.CardController (myComp);</span>","<span class=\"c\"> *  myLayer.init ();</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  myController.push ('APanel', {id: '1', data: {...}});</span>","<span class=\"c\"> *  myController.push ('APanel', {id: '2', data: {...}});</span>","<span class=\"c\"> *  myController.push ('APanel', {id: '3', data: {...}});</span>","<span class=\"c\"> *  myController.push ('APanel', {id: '4', data: {...}});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.StackController</span>","<span class=\"c\"> * @name vs.fx.CardController</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.CardController.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.ui.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> CardController <span class=\"k\">(</span>owner<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> CardController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(</span>owner<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","  ","    <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> CardController<span class=\"k\">.</span>ANIMATION_DURATION<span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The duration of the animation between two views</span>","<span class=\"c\"> * @name vs.fx.CardController.ANIMATION_DURATION</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">500</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Left out card slide (defaut)</span>","<span class=\"c\"> * @name vs.fx.CardController.LEFT_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Right out card slide</span>","<span class=\"c\"> * @name vs.fx.CardController.RIGHT_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>RIGHT_OUT <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Top out card slide</span>","<span class=\"c\"> * @name vs.fx.CardController.TOP_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>TOP_OUT <span class=\"k\">=</span> <span class=\"s\">2</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Bottom out card slide</span>","<span class=\"c\"> * @name vs.fx.CardController.BOTTOM_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>BOTTOM_OUT <span class=\"k\">=</span> <span class=\"s\">3</span><span class=\"k\">;</span>","","CardController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  _direction <span class=\"k\">:</span> CardController<span class=\"k\">.</span>LEFT_OUT<span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_out <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_clear <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>  ","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                behavior update</span>","<span class=\"c\"> *********************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _updateViewSize <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>x <span class=\"k\">=</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>BOTTOM_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>y <span class=\"k\">=</span>  size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myController = new vs.fx.CardController (this | myView);</span>","<span class=\"c\">   *  myController.init ();</span>","<span class=\"c\">   *  myController.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myController.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myController.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.CardController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call","      <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>push <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">++;</span> ","","    <span class=\"c\">// first item</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">===</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>initialComponent <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","","      <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span>","      <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">);</span>","<span class=\"c\">//    this.addTransition </span>","<span class=\"c\">//      (state_id, this._initial_component, StackController.FIRST);</span>","    ","    <span class=\"c\">// create the second view </span>","    state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"Unknown error in vs.fx.StackController.push\"</span><span class=\"k\">);</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels<span class=\"k\">);</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNewComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> transform<span class=\"k\">,</span> size<span class=\"k\">;</span>","    size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d\"</span><span class=\"k\">;</span>","    <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate\"</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">+=</span> <span class=\"s\">\"(-\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">+=</span> <span class=\"s\">\"(\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>BOTTOM_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">+=</span> <span class=\"s\">\"(0,\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">+=</span> <span class=\"s\">\"(0,-\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span> transform <span class=\"k\">+=</span> <span class=\"s\">\",0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">else</span> transform <span class=\"k\">+=</span> <span class=\"s\">\")\"</span><span class=\"k\">;</span>","","    comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","    setElementTransform <span class=\"k\">(</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  handleEvent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> t_ok <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">,</span> state<span class=\"k\">,</span> state_before_id<span class=\"k\">,</span> state_before<span class=\"k\">,</span> transform<span class=\"k\">,</span> index<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_START<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      event<span class=\"k\">.</span>preventDefault <span class=\"k\">();</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state ","        <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf ","        <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> state_before_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      ","        <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","        <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      ","        <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","        <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>TOP_OUT<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state_before <span class=\"k\">=</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>  ","            state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state_before <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">)+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">)+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">)+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">)+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>  ","            state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_END<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state   ","        <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>TOP_OUT<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">50</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToPreviousView <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"k\">-</span><span class=\"s\">50</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToNextView <span class=\"k\">();</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">50</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToNextView <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"k\">-</span><span class=\"s\">50</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToPreviousView <span class=\"k\">();</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>t_ok<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span> state_before_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">];</span> <span class=\"k\">}</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">((</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>TOP_OUT<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0,0,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0,0)\"</span><span class=\"k\">;</span>","","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">((</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT <span class=\"k\">||</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>BOTTOM_OUT<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0,0,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0,0)\"</span><span class=\"k\">;</span>","","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state_before <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d\"</span><span class=\"k\">;</span>","            <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate\"</span><span class=\"k\">;</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> <span class=\"s\">\"(-\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0px\"</span><span class=\"k\">;</span> ","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> <span class=\"s\">\"(\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0px\"</span><span class=\"k\">;</span> ","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>BOTTOM_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> <span class=\"s\">\"(0px,\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span> ","            <span class=\"k\">}</span>","            <span class=\"k\">else</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> <span class=\"s\">\"(0px,-\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span> ","            <span class=\"k\">}</span>    ","            <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span> transform <span class=\"k\">+=</span> <span class=\"s\">\",0)\"</span><span class=\"k\">;</span>","            <span class=\"k\">else</span> transform <span class=\"k\">+=</span> <span class=\"s\">\")\"</span><span class=\"k\">;</span>","","            state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","              <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","            setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>CardController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>CardController<span class=\"k\">,</span> <span class=\"k\">{</span>","","  <span class=\"s\">'direction'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter Card slide direction </span>","<span class=\"c\">     * @name vs.fx.CardController#direction </span>","<span class=\"c\">     * @type String</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> state<span class=\"k\">,</span> state_id<span class=\"k\">,</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> pos <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> index<span class=\"k\">,</span> transform <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">,</span>","        size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>size<span class=\"k\">;</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>v <span class=\"k\">!==</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">&amp;&amp;</span>","          v <span class=\"k\">!==</span> CardController<span class=\"k\">.</span>RIGHT_OUT <span class=\"k\">&amp;&amp;</span>","          v <span class=\"k\">!==</span> CardController<span class=\"k\">.</span>BOTTOM_OUT <span class=\"k\">&amp;&amp;</span>","          v <span class=\"k\">!==</span> CardController<span class=\"k\">.</span>TOP_OUT<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">=</span> v<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @return {String}</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_direction<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'animationDuration'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Set the animation/transition temporisation (in millisecond)</span>","<span class=\"c\">     * @name vs.fx.CardController#animationDuration </span>","<span class=\"c\">     * @type {number}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> v <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">}</span><span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">=</span> v<span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">)</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">)</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>CardController <span class=\"k\">=</span> CardController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.CubicController class &lt;br /&gt;</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  This layer manage a list of children using a card layout.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  Children can be slided horizontally (right &lt;-&gt; left) or vertically </span>","<span class=\"c\"> *  (top &lt;-&gt; bottom) using a pointing device (mouse, touch screen, ...),</span>","<span class=\"c\"> *  or using methods goToNextView and goToPreviousView.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  By default the slider is horizontal, but you can change it using the </span>","<span class=\"c\"> *  property \"orientation\".</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  The following example shows a typical example with panels</span>","<span class=\"c\"> *  (components 1 to 3).</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre style=\"font-family:courier\"&gt;</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(1)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#161;(3)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#162;   &#226;&#142;&#163;_______&#226;&#142;&#166;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(3)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#161;(1)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#162;</span>","<span class=\"c\"> *     &#226;&#142;&#163;______&#226;&#142;&#166;  &#226;&#142;&#162;             &#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  (*) : device screen</span>","<span class=\"c\"> *  (1, ...,3) : components managed by the CardLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *   &lt;/pre&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller), Called when the view</span>","<span class=\"c\"> *        changed</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  theApplicatioin.layer = new vs.fx.CubicController (myComp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '1', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '2', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '3', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '4', data: {...}});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.StackController</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.ui.View.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.ui.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> CubicController <span class=\"k\">(</span>owner<span class=\"k\">,</span> extension<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">,</span> extension<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> CubicController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(</span>owner<span class=\"k\">)</span> owner<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'-webkit-transform-style'</span><span class=\"k\">,</span> <span class=\"s\">'preserve-3d'</span><span class=\"k\">);</span>","  ","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  setter and getter declarations</span>","<span class=\"c\">********************************************************************/</span>","<span class=\"k\">}</span>","","CubicController<span class=\"k\">.</span>_translate_animation <span class=\"k\">=</span> <span class=\"k\">new</span> RotateXYZAnimation <span class=\"k\">(-</span><span class=\"s\">90</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>init <span class=\"k\">();</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">'from'</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">50</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:-</span><span class=\"s\">92</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">70</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:-</span><span class=\"s\">84</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">80</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:-</span><span class=\"s\">90</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">95</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:-</span><span class=\"s\">88</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"s\">\"2s\"</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Horizontal slide (defaut)</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CubicController<span class=\"k\">.</span>HORIZONTAL <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Vertical slide</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CubicController<span class=\"k\">.</span>VERTICAL <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","","CubicController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  _orientation <span class=\"k\">:</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">,</span>","","<span class=\"c\">/********************************************************************</span>","","<span class=\"c\">********************************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myComp = new MyComp (conf);</span>","<span class=\"c\">   *  myComp.layer = new vs.fx.StackController (myComp, 'children');</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.CubicController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">;</span>","      comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call","      <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  handleEvent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> t_ok <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">,</span> state<span class=\"k\">,</span> state_before_id<span class=\"k\">,</span> state_before<span class=\"k\">,</span> transform<span class=\"k\">,</span> index<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_START<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      event<span class=\"k\">.</span>preventDefault <span class=\"k\">();</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span> state_before_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      ","        <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","        <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      ","        <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","        <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>  ","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state_before <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","              <span class=\"s\">\"translate(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","          <span class=\"k\">}</span>","          <span class=\"k\">else</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","              <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","          <span class=\"k\">}</span>  ","          state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_END<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">50</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>goToPreviousView <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"k\">-</span><span class=\"s\">50</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>goToNextView <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>t_ok<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span> state_before_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">];</span> <span class=\"k\">}</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0,0,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0,0)\"</span><span class=\"k\">;</span>","","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state_before <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(0px,-\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(0px,-\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>  ","            state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","              <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","            setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">   *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">   *  crossing a transition</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.CubicController#goTo</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} id_sate the id of target state.</span>","<span class=\"c\">   * @param {String} output</span>","<span class=\"c\">   * @param {Object} event the event</span>","<span class=\"c\">   */</span>","  goTo <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> state_to<span class=\"k\">,</span> index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span>state_id<span class=\"k\">),</span> ","      state_from <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    <span class=\"c\">// manage output</span>","    <span class=\"c\">// TODO WARNING</span>","        ","    StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>goTo<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration<span class=\"k\">;</span>","","    state_to <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>state_from <span class=\"k\">&amp;&amp;</span> state_to<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state_from<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'-webkit-transform'</span><span class=\"k\">,</span> <span class=\"s\">'scale3d(.835,.835,.835) translateZ(200px)'</span><span class=\"k\">);</span>","      ","      state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'-webkit-transform'</span><span class=\"k\">,</span> <span class=\"s\">'scale3d(.835,.835,.835) rotateX(90deg) translateZ(200px)'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> initState <span class=\"k\">(</span>index<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">],</span>","          state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> state<span class=\"k\">.</span>extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>style <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>view<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        __setPos <span class=\"k\">(</span>state<span class=\"k\">.</span>view<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">}</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>style <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">/// left/top component </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span> initState<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> index <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">);</span> <span class=\"k\">}</span>","","    <span class=\"c\">/// right/bottom component </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span> initState<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> index <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">);</span> <span class=\"k\">}</span>","     ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event <span class=\"k\">&amp;&amp;</span> event<span class=\"k\">.</span>on <span class=\"k\">===</span> StackController<span class=\"k\">.</span>NEXT <span class=\"k\">&amp;&amp;</span> state_from<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>process <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>process <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event <span class=\"k\">&amp;&amp;</span> event<span class=\"k\">.</span>on <span class=\"k\">===</span> StackController<span class=\"k\">.</span>PRED <span class=\"k\">&amp;&amp;</span> state_to<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>process <span class=\"k\">(</span>state_to<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>output <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">])</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> clb <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb <span class=\"k\">instanceof</span> Function<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        clb<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">,</span> event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>clb<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>owner <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">]]</span> <span class=\"k\">(</span>event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>CubicController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>CubicController <span class=\"k\">=</span> CubicController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.OpacityController class &lt;br /&gt;</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  This layer manage a list of children using a card layout.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  Children can be slided horizontally (right &lt;-&gt; left) or vertically </span>","<span class=\"c\"> *  (top &lt;-&gt; bottom) using a pointing device (mouse, touch screen, ...),</span>","<span class=\"c\"> *  or using methods goToNextView and goToPreviousView.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  By default the slider is horizontal, but you can change it using the </span>","<span class=\"c\"> *  property \"orientation\".</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  The following example shows a typical example with panels</span>","<span class=\"c\"> *  (components 1 to 3).</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre style=\"font-family:courier\"&gt;</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(1)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#161;(3)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#162;   &#226;&#142;&#163;_______&#226;&#142;&#166;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(3)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#161;(1)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#162;</span>","<span class=\"c\"> *     &#226;&#142;&#163;______&#226;&#142;&#166;  &#226;&#142;&#162;             &#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  (*) : device screen</span>","<span class=\"c\"> *  (1, ...,3) : components managed by the CardLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *   &lt;/pre&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller), Called when the view</span>","<span class=\"c\"> *        changed</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  theApplicatioin.layer = new vs.fx.OpacityController (myComp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '1', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '2', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '3', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '4', data: {...}});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.StackController</span>","<span class=\"c\"> * @name vs.fx.OpacityController</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.ui.View.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.ui.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> OpacityController <span class=\"k\">(</span>owner<span class=\"k\">,</span> extension<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">,</span> extension<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> OpacityController<span class=\"k\">;</span>","","  <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> OpacityController<span class=\"k\">.</span>ANIMATION_DURATION<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/** @private */</span>","OpacityController<span class=\"k\">.</span>_opacity_animation <span class=\"k\">=</span> <span class=\"k\">new</span> OpacityAnimation <span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span>","OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>init <span class=\"k\">();</span>","OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"s\">\"0.2s\"</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The duration of the animation between two views</span>","<span class=\"c\"> * @name vs.fx.OpacityController.ANIMATION_DURATION</span>","<span class=\"c\"> */</span>","OpacityController<span class=\"k\">.</span>ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">500</span><span class=\"k\">;</span>","","OpacityController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","","<span class=\"c\">/********************************************************************</span>","","<span class=\"c\">********************************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myComp = new MyComp (conf);</span>","<span class=\"c\">   *  myComp.layer = new vs.fx.StackController (myComp, 'children');</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.OpacityController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">;</span>","      comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">   *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">   *  crossing a transition</span>","<span class=\"c\">   * @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.OpacityController#goTo</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} id_sate the id of target state.</span>","<span class=\"c\">   * @param {String} output</span>","<span class=\"c\">   * @param {Object} event the event</span>","<span class=\"c\">   */</span>","  goTo <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> state_to<span class=\"k\">,</span> index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span>state_id<span class=\"k\">),</span> ","      state_from <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    <span class=\"c\">// manage output</span>","    <span class=\"c\">// TODO WARNING</span>","    StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>goTo<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","<span class=\"c\">//    this.owner.animationDuration = this._animation_duration;</span>","","    state_to <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","        ","    <span class=\"k\">function</span> initState <span class=\"k\">(</span>index<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">],</span>","          state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> state<span class=\"k\">.</span>extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>view<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        __setPos <span class=\"k\">(</span>state<span class=\"k\">.</span>view<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">}</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">/// left/top component </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span> initState<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> index <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">);</span> <span class=\"k\">}</span>","","    <span class=\"c\">/// right/bottom component </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span> initState<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> index <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">);</span> <span class=\"k\">}</span>","     ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event <span class=\"k\">&amp;&amp;</span> event<span class=\"k\">.</span>on <span class=\"k\">===</span> StackController<span class=\"k\">.</span>NEXT <span class=\"k\">&amp;&amp;</span> state_from<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>value <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>process <span class=\"k\">(</span>state_from<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event <span class=\"k\">&amp;&amp;</span> event<span class=\"k\">.</span>on <span class=\"k\">===</span> StackController<span class=\"k\">.</span>PRED <span class=\"k\">&amp;&amp;</span> state_to<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>value <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","      OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>process <span class=\"k\">(</span>state_to<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>output <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">])</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> clb <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb <span class=\"k\">instanceof</span> Function<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        clb<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">,</span> event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>clb<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>owner <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">]]</span> <span class=\"k\">(</span>event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>OpacityController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperty <span class=\"k\">(</span>OpacityController<span class=\"k\">,</span> <span class=\"s\">\"animationDuration\"</span><span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"c\">/** </span>","<span class=\"c\">   * Set the animation/transition temporisation (in millisecond)</span>","<span class=\"c\">   * @name vs.fx.OpacityController#animationDuration </span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span> ","  set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>time<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>time<span class=\"k\">)</span> <span class=\"k\">{</span> time <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>time<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">=</span> time<span class=\"k\">;</span>","    OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>durations <span class=\"k\">=</span> time <span class=\"k\">/</span> <span class=\"s\">1000</span> <span class=\"k\">+</span> <span class=\"s\">\"s\"</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>OpacityController <span class=\"k\">=</span> OpacityController<span class=\"k\">;</span>","","<span class=\"k\">}</span><span class=\"k\">)(</span>window<span class=\"k\">);</span>"];
_$jscoverage['js/vs_fx.js'][19]++;
(function (window, undefined) {
  _$jscoverage['js/vs_fx.js'][21]++;
  var document = window.document;
  _$jscoverage['js/vs_fx.js'][45]++;
  var vs = window.vs, util = vs.util, core = vs.core, ui = vs.ui, fx = vs.fx, setElementTransform = util.setElementTransform, getElementTransform = util.getElementTransform, SUPPORT_3D_TRANSFORM = vs.SUPPORT_3D_TRANSFORM;
  _$jscoverage['js/vs_fx.js'][71]++;
  if ((util.vsTestStyle.webkitTransform !== undefined)) {
    _$jscoverage['js/vs_fx.js'][73]++;
    var ANIMATION_DURATION = "-webkit-animation-duration";
    _$jscoverage['js/vs_fx.js'][74]++;
    var ANIMATION_DELAY = "-webkit-animation-delay";
    _$jscoverage['js/vs_fx.js'][75]++;
    var ANIMATION_NAME = "-webkit-animation-name";
    _$jscoverage['js/vs_fx.js'][76]++;
    var ANIMATION_END = "webkitAnimationEnd";
    _$jscoverage['js/vs_fx.js'][77]++;
    var ANIMATION_TIMING_FUNC = "-webkit-animation-timing-function";
    _$jscoverage['js/vs_fx.js'][79]++;
    var TRANSITION_DURATION = "-webkit-transition-duration";
    _$jscoverage['js/vs_fx.js'][80]++;
    var TRANSITION_DELAY = "-webkit-transition-delay";
    _$jscoverage['js/vs_fx.js'][81]++;
    var TRANSITION_END = "webkitTransitionEnd";
    _$jscoverage['js/vs_fx.js'][82]++;
    var TRANSITION_TIMING_FUNC = "-webkit-transition-timing-function";
    _$jscoverage['js/vs_fx.js'][83]++;
    var TRANSITION_PROPERTY = "-webkit-transition-property";
    _$jscoverage['js/vs_fx.js'][85]++;
    var TRANSFORM_ORIGIN = "-webkit-transform-origin";
    _$jscoverage['js/vs_fx.js'][86]++;
    var ITERATION_COUNT = "-webkit-animation-iteration-count";
    _$jscoverage['js/vs_fx.js'][87]++;
    var TRANSFORM = "-webkit-transform";
    _$jscoverage['js/vs_fx.js'][88]++;
    var KEY_FRAMES = "-webkit-keyframes";
  }
  else {
    _$jscoverage['js/vs_fx.js'][90]++;
    if ((util.vsTestStyle.msTransform !== undefined)) {
      _$jscoverage['js/vs_fx.js'][92]++;
      var ANIMATION_DURATION = "-ms-animation-duration";
      _$jscoverage['js/vs_fx.js'][93]++;
      var ANIMATION_DELAY = "-ms-animation-delay";
      _$jscoverage['js/vs_fx.js'][94]++;
      var ANIMATION_NAME = "-ms-animation-name";
      _$jscoverage['js/vs_fx.js'][95]++;
      var ANIMATION_END = "msAnimationEnd";
      _$jscoverage['js/vs_fx.js'][96]++;
      var ANIMATION_TIMING_FUNC = "-ms-animation-timing-function";
      _$jscoverage['js/vs_fx.js'][98]++;
      var TRANSITION_DURATION = "-ms-transition-duration";
      _$jscoverage['js/vs_fx.js'][99]++;
      var TRANSITION_DELAY = "-ms-transition-delay";
      _$jscoverage['js/vs_fx.js'][100]++;
      var TRANSITION_END = "msTransitionEnd";
      _$jscoverage['js/vs_fx.js'][101]++;
      var TRANSITION_TIMING_FUNC = "-ms-transition-timing-function";
      _$jscoverage['js/vs_fx.js'][102]++;
      var TRANSITION_PROPERTY = "-ms-transition-property";
      _$jscoverage['js/vs_fx.js'][104]++;
      var TRANSFORM_ORIGIN = "-ms-transform-origin";
      _$jscoverage['js/vs_fx.js'][105]++;
      var ITERATION_COUNT = "-ms-animation-iteration-count";
      _$jscoverage['js/vs_fx.js'][106]++;
      var TRANSFORM = "-ms-transform";
      _$jscoverage['js/vs_fx.js'][107]++;
      var KEY_FRAMES = "-ms-keyframes";
    }
    else {
      _$jscoverage['js/vs_fx.js'][111]++;
      var ANIMATION_DURATION = "animation-duration";
      _$jscoverage['js/vs_fx.js'][112]++;
      var ANIMATION_DELAY = "animation-delay";
      _$jscoverage['js/vs_fx.js'][113]++;
      var ANIMATION_NAME = "animation-name";
      _$jscoverage['js/vs_fx.js'][114]++;
      var ANIMATION_END = "animationEnd";
      _$jscoverage['js/vs_fx.js'][115]++;
      var ANIMATION_TIMING_FUNC = "animation-timing-function";
      _$jscoverage['js/vs_fx.js'][117]++;
      var TRANSITION_DURATION = "transition-duration";
      _$jscoverage['js/vs_fx.js'][118]++;
      var TRANSITION_DELAY = "transition-delay";
      _$jscoverage['js/vs_fx.js'][119]++;
      var TRANSITION_END = "transitionEnd";
      _$jscoverage['js/vs_fx.js'][120]++;
      var TRANSITION_TIMING_FUNC = "transition-timing-function";
      _$jscoverage['js/vs_fx.js'][121]++;
      var TRANSITION_PROPERTY = "transition-property";
      _$jscoverage['js/vs_fx.js'][123]++;
      var TRANSFORM_ORIGIN = "transform-origin";
      _$jscoverage['js/vs_fx.js'][124]++;
      var ITERATION_COUNT = "animation-iteration-count";
      _$jscoverage['js/vs_fx.js'][125]++;
      var TRANSFORM = "transform";
      _$jscoverage['js/vs_fx.js'][126]++;
      var KEY_FRAMES = "keyframes";
    }
  }
  _$jscoverage['js/vs_fx.js'][133]++;
  var AnimationWidthRegExp = new RegExp(/\$width/g);
  _$jscoverage['js/vs_fx.js'][138]++;
  var AnimationHeightRegExp = new RegExp(/\$height/g);
  _$jscoverage['js/vs_fx.js'][143]++;
  var AnimationXRegExp = new RegExp(/\$x/g);
  _$jscoverage['js/vs_fx.js'][148]++;
  var AnimationYRegExp = new RegExp(/\$y/g);
  _$jscoverage['js/vs_fx.js'][153]++;
  var AnimationVariableRegExp = new RegExp(/\$\{([\w]+)\}/g);
  _$jscoverage['js/vs_fx.js'][160]++;
  function cancelAnimation(anim_id) {
    _$jscoverage['js/vs_fx.js'][162]++;
    if ((! anim_id)) {
      _$jscoverage['js/vs_fx.js'][162]++;
      return false;
    }
    _$jscoverage['js/vs_fx.js'][163]++;
    var anim_name, cssAnimation, anim_id = anim_id, data;
    _$jscoverage['js/vs_fx.js'][165]++;
    data = Animation.__css_animations[anim_id];
    _$jscoverage['js/vs_fx.js'][166]++;
    if ((data && (data.length === 2))) {
      _$jscoverage['js/vs_fx.js'][168]++;
      if (((! data[1]) || (! data[1].getStyle) || (! data[0]))) {
        _$jscoverage['js/vs_fx.js'][168]++;
        return false;
      }
      _$jscoverage['js/vs_fx.js'][170]++;
      anim_name = data[1].getStyle(ANIMATION_NAME);
      _$jscoverage['js/vs_fx.js'][171]++;
      if ((! anim_name)) {
        _$jscoverage['js/vs_fx.js'][171]++;
        return false;
      }
      _$jscoverage['js/vs_fx.js'][173]++;
      anim_name = anim_name.replace(anim_id, "");
      _$jscoverage['js/vs_fx.js'][174]++;
      data[1].setStyle(ANIMATION_NAME, anim_name);
      _$jscoverage['js/vs_fx.js'][176]++;
      try {
        _$jscoverage['js/vs_fx.js'][177]++;
        document.getElementsByTagName("head")[0].removeChild(data[0]);
      }
      catch (e) {
        _$jscoverage['js/vs_fx.js'][181]++;
        console.error(e);
        _$jscoverage['js/vs_fx.js'][182]++;
        return false;
      }
      _$jscoverage['js/vs_fx.js'][184]++;
      (delete Animation.__css_animations[anim_id]);
    }
    else {
      _$jscoverage['js/vs_fx.js'][186]++;
      return false;
    }
    _$jscoverage['js/vs_fx.js'][188]++;
    return true;
}
  _$jscoverage['js/vs_fx.js'][201]++;
  var procesAnimation = (function (comp, animation, clb, ctx) {
  _$jscoverage['js/vs_fx.js'][203]++;
  if (((! animation) || (! comp) || (! comp.view))) {
    _$jscoverage['js/vs_fx.js'][205]++;
    console.error("procesAnimation: invalid component parameter!");
    _$jscoverage['js/vs_fx.js'][206]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][209]++;
  function isComplexAnimation() {
    _$jscoverage['js/vs_fx.js'][211]++;
    if (animation.keyFrames["0%"]) {
      _$jscoverage['js/vs_fx.js'][211]++;
      return true;
    }
    _$jscoverage['js/vs_fx.js'][212]++;
    return false;
}
  _$jscoverage['js/vs_fx.js'][215]++;
  var initWithParameters, parseValue, applySimpleAnimation, applyStyleTo, runComplexAnimation, applyComplexAnimation, cssAnimation, anim_id = core.createId(), isComplex = isComplexAnimation();
  _$jscoverage['js/vs_fx.js'][220]++;
  initWithParameters = (function () {
  _$jscoverage['js/vs_fx.js'][222]++;
  var property;
  _$jscoverage['js/vs_fx.js'][223]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][224]++;
    property = ANIMATION_DURATION;
  }
  else {
    _$jscoverage['js/vs_fx.js'][225]++;
    property = TRANSITION_DURATION;
  }
  _$jscoverage['js/vs_fx.js'][227]++;
  if ((util.isArray(animation.origin) && (animation.origin.length === 2))) {
    _$jscoverage['js/vs_fx.js'][229]++;
    var value = (animation.origin[0] + "% " + animation.origin[1] + "%");
    _$jscoverage['js/vs_fx.js'][230]++;
    comp.setStyle(TRANSFORM_ORIGIN, value);
  }
  _$jscoverage['js/vs_fx.js'][233]++;
  if (util.isString(animation.durations)) {
    _$jscoverage['js/vs_fx.js'][235]++;
    comp.setStyle(property, animation.durations);
  }
  else {
    _$jscoverage['js/vs_fx.js'][237]++;
    if (util.isArray(animation.durations)) {
      _$jscoverage['js/vs_fx.js'][239]++;
      comp.setStyle(property, animation.durations.join(", "));
    }
    else {
      _$jscoverage['js/vs_fx.js'][243]++;
      comp.setStyle(property, Animation.DEFAULT_DURATION);
    }
  }
  _$jscoverage['js/vs_fx.js'][246]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][246]++;
    property = ANIMATION_DELAY;
  }
  else {
    _$jscoverage['js/vs_fx.js'][247]++;
    property = TRANSITION_DELAY;
  }
  _$jscoverage['js/vs_fx.js'][249]++;
  if (util.isNumber(animation.delay)) {
    _$jscoverage['js/vs_fx.js'][251]++;
    comp.setStyle(property, (animation.delay + "ms"));
  }
  else {
    _$jscoverage['js/vs_fx.js'][254]++;
    comp.setStyle(property, "0");
  }
  _$jscoverage['js/vs_fx.js'][256]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][256]++;
    property = ANIMATION_TIMING_FUNC;
  }
  else {
    _$jscoverage['js/vs_fx.js'][257]++;
    property = TRANSITION_TIMING_FUNC;
  }
  _$jscoverage['js/vs_fx.js'][259]++;
  if (util.isString(animation.timings)) {
    _$jscoverage['js/vs_fx.js'][261]++;
    comp.setStyle(property, animation.timings);
  }
  else {
    _$jscoverage['js/vs_fx.js'][263]++;
    if (util.isArray(animation.timings)) {
      _$jscoverage['js/vs_fx.js'][265]++;
      comp.setStyle(property, animation.timings.join(", "));
    }
    else {
      _$jscoverage['js/vs_fx.js'][269]++;
      comp.setStyle(property, Animation.EASE);
    }
  }
  _$jscoverage['js/vs_fx.js'][272]++;
  if ((animation.iterationCount === "infinite")) {
    _$jscoverage['js/vs_fx.js'][274]++;
    comp.setStyle(ITERATION_COUNT, "infinite");
  }
  else {
    _$jscoverage['js/vs_fx.js'][276]++;
    if (((! animation.iterationCount) || (! util.isNumber(animation.iterationCount)))) {
      _$jscoverage['js/vs_fx.js'][279]++;
      comp.setStyle(ITERATION_COUNT, "1");
    }
    else {
      _$jscoverage['js/vs_fx.js'][283]++;
      comp.setStyle(ITERATION_COUNT, animation.iterationCount);
    }
  }
});
  _$jscoverage['js/vs_fx.js'][287]++;
  parseValue = (function (v, data) {
  _$jscoverage['js/vs_fx.js'][289]++;
  var matches, i, props = [], prop;
  _$jscoverage['js/vs_fx.js'][291]++;
  if (util.isNumber(v)) {
    _$jscoverage['js/vs_fx.js'][291]++;
    return v;
  }
  _$jscoverage['js/vs_fx.js'][293]++;
  if (util.isString(v)) {
    _$jscoverage['js/vs_fx.js'][295]++;
    v = v.replace(AnimationWidthRegExp, (comp.size[0] + "px"));
    _$jscoverage['js/vs_fx.js'][296]++;
    v = v.replace(AnimationHeightRegExp, (comp.size[1] + "px"));
    _$jscoverage['js/vs_fx.js'][297]++;
    v = v.replace(AnimationXRegExp, (comp.position[0] + "px"));
    _$jscoverage['js/vs_fx.js'][298]++;
    v = v.replace(AnimationYRegExp, (comp.position[1] + "px"));
    _$jscoverage['js/vs_fx.js'][300]++;
    var matches = AnimationVariableRegExp.exec(v);
    _$jscoverage['js/vs_fx.js'][301]++;
    while ((matches && (matches.length === 2))) {
      _$jscoverage['js/vs_fx.js'][303]++;
      props.push(matches[1]);
      _$jscoverage['js/vs_fx.js'][304]++;
      matches = AnimationVariableRegExp.exec(v);
}
    _$jscoverage['js/vs_fx.js'][306]++;
    for (var i = 0; (i < props.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][308]++;
      prop = props[i];
      _$jscoverage['js/vs_fx.js'][309]++;
      if (((typeof data[prop]) !== "undefined")) {
        _$jscoverage['js/vs_fx.js'][310]++;
        v = v.replace(("${" + prop + "}"), data[prop]);
      }
      else {
        _$jscoverage['js/vs_fx.js'][311]++;
        if (((typeof animation[prop]) !== "undefined")) {
          _$jscoverage['js/vs_fx.js'][312]++;
          v = v.replace(("${" + prop + "}"), animation[prop]);
        }
      }
}
    _$jscoverage['js/vs_fx.js'][315]++;
    return v;
  }
  _$jscoverage['js/vs_fx.js'][318]++;
  console.warn(("vs.fx.Animation._parseValue. Unknown value's type: " + v));
  _$jscoverage['js/vs_fx.js'][320]++;
  return 0;
});
  _$jscoverage['js/vs_fx.js'][323]++;
  applySimpleAnimation = (function () {
  _$jscoverage['js/vs_fx.js'][325]++;
  initWithParameters();
  _$jscoverage['js/vs_fx.js'][326]++;
  var callback, i, self = this;
  _$jscoverage['js/vs_fx.js'][328]++;
  callback = (function (event) {
  _$jscoverage['js/vs_fx.js'][331]++;
  if ((event.currentTarget !== comp.view)) {
    _$jscoverage['js/vs_fx.js'][331]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][333]++;
  comp.view.removeEventListener(TRANSITION_END, callback, false);
  _$jscoverage['js/vs_fx.js'][336]++;
  comp.view.style.removeProperty(TRANSITION_DURATION);
  _$jscoverage['js/vs_fx.js'][337]++;
  comp.view.style.removeProperty(TRANSITION_DELAY);
  _$jscoverage['js/vs_fx.js'][339]++;
  if ((animation.delegate && animation.delegate.taskDidEnd)) {
    _$jscoverage['js/vs_fx.js'][340]++;
    animation.delegate.taskDidEnd(animation);
  }
  _$jscoverage['js/vs_fx.js'][342]++;
  if (clb) {
    _$jscoverage['js/vs_fx.js'][342]++;
    clb.call((ctx? ctx: self));
  }
});
  _$jscoverage['js/vs_fx.js'][345]++;
  comp.view.addEventListener(TRANSITION_END, callback, false);
  _$jscoverage['js/vs_fx.js'][347]++;
  applyStyleTo();
});
  _$jscoverage['js/vs_fx.js'][350]++;
  applyStyleTo = (function () {
  _$jscoverage['js/vs_fx.js'][352]++;
  var data = (animation.keyFrames["100%"]? animation.keyFrames["100%"]: animation), transform = "", property, properties = [], value;
  _$jscoverage['js/vs_fx.js'][356]++;
  if (data) {
    _$jscoverage['js/vs_fx.js'][356]++;
    for (i = 0; (i < animation.properties.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][358]++;
      property = animation.properties[i];
      _$jscoverage['js/vs_fx.js'][359]++;
      value = parseValue(animation.values[i], data);
      _$jscoverage['js/vs_fx.js'][360]++;
      if ((property === "rotate")) {
        _$jscoverage['js/vs_fx.js'][361]++;
        transform += ("rotate(" + value + ") ");
        _$jscoverage['js/vs_fx.js'][361]++;
        property = TRANSFORM;
      }
      else {
        _$jscoverage['js/vs_fx.js'][362]++;
        if ((property === "skew")) {
          _$jscoverage['js/vs_fx.js'][363]++;
          transform += ("skew(" + value + ") ");
          _$jscoverage['js/vs_fx.js'][363]++;
          property = TRANSFORM;
        }
        else {
          _$jscoverage['js/vs_fx.js'][364]++;
          if ((SUPPORT_3D_TRANSFORM && (property === "translate"))) {
            _$jscoverage['js/vs_fx.js'][365]++;
            transform += ("translate3d(" + value + ") ");
            _$jscoverage['js/vs_fx.js'][365]++;
            property = TRANSFORM;
          }
          else {
            _$jscoverage['js/vs_fx.js'][366]++;
            if ((property === "translate")) {
              _$jscoverage['js/vs_fx.js'][367]++;
              transform += ("translate(" + value + ") ");
              _$jscoverage['js/vs_fx.js'][367]++;
              property = TRANSFORM;
            }
            else {
              _$jscoverage['js/vs_fx.js'][368]++;
              if ((property === "translateX")) {
                _$jscoverage['js/vs_fx.js'][369]++;
                transform += ("translateX(" + value + ") ");
                _$jscoverage['js/vs_fx.js'][369]++;
                property = TRANSFORM;
              }
              else {
                _$jscoverage['js/vs_fx.js'][370]++;
                if ((property === "translateY")) {
                  _$jscoverage['js/vs_fx.js'][371]++;
                  transform += ("translateY(" + value + ") ");
                  _$jscoverage['js/vs_fx.js'][371]++;
                  property = TRANSFORM;
                }
                else {
                  _$jscoverage['js/vs_fx.js'][372]++;
                  if ((property === "rotateX")) {
                    _$jscoverage['js/vs_fx.js'][373]++;
                    transform += ("rotateX(" + value + ") ");
                    _$jscoverage['js/vs_fx.js'][373]++;
                    property = TRANSFORM;
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][374]++;
                    if ((property === "rotateY")) {
                      _$jscoverage['js/vs_fx.js'][375]++;
                      transform += ("rotateY(" + value + ") ");
                      _$jscoverage['js/vs_fx.js'][375]++;
                      property = TRANSFORM;
                    }
                    else {
                      _$jscoverage['js/vs_fx.js'][376]++;
                      if ((property === "scale")) {
                        _$jscoverage['js/vs_fx.js'][377]++;
                        transform += ("scale(" + value + ") ");
                        _$jscoverage['js/vs_fx.js'][377]++;
                        property = TRANSFORM;
                      }
                      else {
                        _$jscoverage['js/vs_fx.js'][379]++;
                        comp.setStyle(property, value);
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      _$jscoverage['js/vs_fx.js'][381]++;
      if ((properties.indexOf(property) == -1)) {
        _$jscoverage['js/vs_fx.js'][381]++;
        properties.push(property);
      }
}
  }
  _$jscoverage['js/vs_fx.js'][383]++;
  if (transform) {
    _$jscoverage['js/vs_fx.js'][385]++;
    setElementTransform(comp.view, transform);
  }
  _$jscoverage['js/vs_fx.js'][387]++;
  comp.setStyle(TRANSITION_PROPERTY, properties.join(","));
});
  _$jscoverage['js/vs_fx.js'][390]++;
  runComplexAnimation = (function () {
  _$jscoverage['js/vs_fx.js'][392]++;
  initWithParameters();
  _$jscoverage['js/vs_fx.js'][394]++;
  var i, callback, value, anim_name, callback = (function (event) {
  _$jscoverage['js/vs_fx.js'][399]++;
  if ((event.currentTarget !== comp.view)) {
    _$jscoverage['js/vs_fx.js'][399]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][401]++;
  comp.view.removeEventListener(ANIMATION_END, callback, false);
  _$jscoverage['js/vs_fx.js'][404]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][404]++;
    applyStyleTo();
  }
  _$jscoverage['js/vs_fx.js'][407]++;
  comp.view.style.removeProperty(ANIMATION_DURATION);
  _$jscoverage['js/vs_fx.js'][408]++;
  comp.view.style.removeProperty(ANIMATION_DELAY);
  _$jscoverage['js/vs_fx.js'][411]++;
  anim_name = comp.getStyle(ANIMATION_NAME);
  _$jscoverage['js/vs_fx.js'][412]++;
  if (anim_name) {
    _$jscoverage['js/vs_fx.js'][414]++;
    anim_name = anim_name.replace(anim_id, "");
    _$jscoverage['js/vs_fx.js'][415]++;
    comp.setStyle(ANIMATION_NAME, anim_name);
  }
  _$jscoverage['js/vs_fx.js'][418]++;
  try {
    _$jscoverage['js/vs_fx.js'][420]++;
    data = Animation.__css_animations[anim_id];
    _$jscoverage['js/vs_fx.js'][421]++;
    if ((data && (data.length === 2))) {
      _$jscoverage['js/vs_fx.js'][423]++;
      document.getElementsByTagName("head")[0].removeChild(data[0]);
      _$jscoverage['js/vs_fx.js'][424]++;
      (delete Animation.__css_animations[anim_id]);
    }
  }
  catch (e) {
    _$jscoverage['js/vs_fx.js'][429]++;
    console.error(e);
    _$jscoverage['js/vs_fx.js'][430]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][433]++;
  if ((animation.delegate && animation.delegate.taskDidStop)) {
    _$jscoverage['js/vs_fx.js'][434]++;
    animation.delegate.taskDidEnd(animation);
  }
  _$jscoverage['js/vs_fx.js'][436]++;
  if (clb) {
    _$jscoverage['js/vs_fx.js'][436]++;
    clb.call((ctx? ctx: self));
  }
});
  _$jscoverage['js/vs_fx.js'][439]++;
  comp.view.addEventListener(ANIMATION_END, callback, false);
  _$jscoverage['js/vs_fx.js'][440]++;
  anim_name = comp.getStyle(ANIMATION_NAME);
  _$jscoverage['js/vs_fx.js'][442]++;
  if ((! anim_name)) {
    _$jscoverage['js/vs_fx.js'][442]++;
    anim_name = anim_id;
  }
  else {
    _$jscoverage['js/vs_fx.js'][443]++;
    anim_name += (", " + anim_id);
  }
  _$jscoverage['js/vs_fx.js'][445]++;
  comp.setStyle(ANIMATION_NAME, anim_name);
});
  _$jscoverage['js/vs_fx.js'][448]++;
  applyComplexAnimation = (function () {
  _$jscoverage['js/vs_fx.js'][450]++;
  var data, key, style, i, property, transform, value, cssAnimation = document.createElement("style");
  _$jscoverage['js/vs_fx.js'][452]++;
  cssAnimation.type = "text/css";
  _$jscoverage['js/vs_fx.js'][454]++;
  var rules_str = "";
  _$jscoverage['js/vs_fx.js'][455]++;
  for (key in animation.keyFrames) {
    _$jscoverage['js/vs_fx.js'][457]++;
    transform = "";
    _$jscoverage['js/vs_fx.js'][458]++;
    data = animation.keyFrames[key];
    _$jscoverage['js/vs_fx.js'][459]++;
    style = "";
    _$jscoverage['js/vs_fx.js'][460]++;
    if (util.isArray(data)) {
      _$jscoverage['js/vs_fx.js'][462]++;
      for (var i = 0; (i < data.length); (i++)) {
        _$jscoverage['js/vs_fx.js'][464]++;
        value = data[i];
        _$jscoverage['js/vs_fx.js'][465]++;
        if (((value == null) || ((typeof value) == "undefined"))) {
          _$jscoverage['js/vs_fx.js'][465]++;
          continue;
        }
        _$jscoverage['js/vs_fx.js'][466]++;
        value = parseValue(value, animation);
        _$jscoverage['js/vs_fx.js'][467]++;
        property = animation.properties[i];
        _$jscoverage['js/vs_fx.js'][468]++;
        if ((! property)) {
          _$jscoverage['js/vs_fx.js'][468]++;
          continue;
        }
        _$jscoverage['js/vs_fx.js'][469]++;
        if ((property === "rotate")) {
          _$jscoverage['js/vs_fx.js'][470]++;
          transform += ("rotate(" + value + ") ");
        }
        else {
          _$jscoverage['js/vs_fx.js'][471]++;
          if ((property === "skew")) {
            _$jscoverage['js/vs_fx.js'][472]++;
            transform += ("skew(" + value + ") ");
          }
          else {
            _$jscoverage['js/vs_fx.js'][473]++;
            if ((SUPPORT_3D_TRANSFORM && (property === "translate"))) {
              _$jscoverage['js/vs_fx.js'][474]++;
              transform += ("translate3d(" + value + ") ");
            }
            else {
              _$jscoverage['js/vs_fx.js'][475]++;
              if ((property === "translate")) {
                _$jscoverage['js/vs_fx.js'][476]++;
                transform += ("translate(" + value + ") ");
              }
              else {
                _$jscoverage['js/vs_fx.js'][477]++;
                if ((property === "translateX")) {
                  _$jscoverage['js/vs_fx.js'][478]++;
                  transform += ("translateX(" + value + ") ");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][479]++;
                  if ((property === "translateY")) {
                    _$jscoverage['js/vs_fx.js'][480]++;
                    transform += ("translateY(" + value + ") ");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][481]++;
                    if ((property === "rotateX")) {
                      _$jscoverage['js/vs_fx.js'][482]++;
                      transform += ("rotateX(" + value + ") ");
                    }
                    else {
                      _$jscoverage['js/vs_fx.js'][483]++;
                      if ((property === "rotateY")) {
                        _$jscoverage['js/vs_fx.js'][484]++;
                        transform += ("rotateY(" + value + ") ");
                      }
                      else {
                        _$jscoverage['js/vs_fx.js'][485]++;
                        if ((property === "scale")) {
                          _$jscoverage['js/vs_fx.js'][486]++;
                          transform += ("scale(" + value + ") ");
                        }
                        else {
                          _$jscoverage['js/vs_fx.js'][487]++;
                          if ((property === "perspective")) {
                            _$jscoverage['js/vs_fx.js'][488]++;
                            transform += ("perspective(" + value + ") ");
                          }
                          else {
                            _$jscoverage['js/vs_fx.js'][490]++;
                            style += (property + ":" + value + ";");
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
}
    }
    else {
      _$jscoverage['js/vs_fx.js'][495]++;
      for (i = 0; (i < animation.properties.length); (i++)) {
        _$jscoverage['js/vs_fx.js'][497]++;
        value = parseValue(animation.values[i], data);
        _$jscoverage['js/vs_fx.js'][498]++;
        property = animation.properties[i];
        _$jscoverage['js/vs_fx.js'][499]++;
        if ((! property)) {
          _$jscoverage['js/vs_fx.js'][499]++;
          continue;
        }
        _$jscoverage['js/vs_fx.js'][500]++;
        if ((property === "rotate")) {
          _$jscoverage['js/vs_fx.js'][501]++;
          transform += ("rotate(" + value + ") ");
        }
        else {
          _$jscoverage['js/vs_fx.js'][502]++;
          if ((property === "skew")) {
            _$jscoverage['js/vs_fx.js'][503]++;
            transform += ("skew(" + value + ") ");
          }
          else {
            _$jscoverage['js/vs_fx.js'][504]++;
            if ((SUPPORT_3D_TRANSFORM && (property === "translate"))) {
              _$jscoverage['js/vs_fx.js'][505]++;
              transform += ("translate3d(" + value + ") ");
            }
            else {
              _$jscoverage['js/vs_fx.js'][506]++;
              if ((property === "translate")) {
                _$jscoverage['js/vs_fx.js'][507]++;
                transform += ("translate(" + value + ") ");
              }
              else {
                _$jscoverage['js/vs_fx.js'][508]++;
                if ((property === "translateX")) {
                  _$jscoverage['js/vs_fx.js'][509]++;
                  transform += ("translateX(" + value + ") ");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][510]++;
                  if ((property === "translateY")) {
                    _$jscoverage['js/vs_fx.js'][511]++;
                    transform += ("translateY(" + value + ") ");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][512]++;
                    if ((property === "rotateX")) {
                      _$jscoverage['js/vs_fx.js'][513]++;
                      transform += ("rotateX(" + value + ") ");
                    }
                    else {
                      _$jscoverage['js/vs_fx.js'][514]++;
                      if ((property === "rotateY")) {
                        _$jscoverage['js/vs_fx.js'][515]++;
                        transform += ("rotateY(" + value + ") ");
                      }
                      else {
                        _$jscoverage['js/vs_fx.js'][516]++;
                        if ((property === "scale")) {
                          _$jscoverage['js/vs_fx.js'][517]++;
                          transform += ("scale(" + value + ") ");
                        }
                        else {
                          _$jscoverage['js/vs_fx.js'][518]++;
                          if ((property === "perspective")) {
                            _$jscoverage['js/vs_fx.js'][519]++;
                            transform += ("perspective(" + value + ") ");
                          }
                          else {
                            _$jscoverage['js/vs_fx.js'][521]++;
                            style += (property + ":" + value + ";");
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
}
    }
    _$jscoverage['js/vs_fx.js'][524]++;
    if (transform) {
      _$jscoverage['js/vs_fx.js'][526]++;
      style += (TRANSFORM + ": " + transform + ";");
    }
    _$jscoverage['js/vs_fx.js'][529]++;
    rules_str += (key + " { " + style + " } ");
}
  _$jscoverage['js/vs_fx.js'][532]++;
  var rules = document.createTextNode(("@" + KEY_FRAMES + " " + anim_id + " { " + rules_str + " }"));
  _$jscoverage['js/vs_fx.js'][535]++;
  cssAnimation.appendChild(rules);
  _$jscoverage['js/vs_fx.js'][536]++;
  document.getElementsByTagName("head")[0].appendChild(cssAnimation);
  _$jscoverage['js/vs_fx.js'][538]++;
  Animation.__css_animations[anim_id] = [cssAnimation, comp];
  _$jscoverage['js/vs_fx.js'][540]++;
  runComplexAnimation();
});
  _$jscoverage['js/vs_fx.js'][543]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][543]++;
    applyComplexAnimation();
  }
  else {
    _$jscoverage['js/vs_fx.js'][544]++;
    applySimpleAnimation();
  }
  _$jscoverage['js/vs_fx.js'][546]++;
  return anim_id;
});
  _$jscoverage['js/vs_fx.js'][612]++;
  function Animation(animations) {
    _$jscoverage['js/vs_fx.js'][614]++;
    this.parent = core.Task;
    _$jscoverage['js/vs_fx.js'][615]++;
    this.parent();
    _$jscoverage['js/vs_fx.js'][616]++;
    this.constructor = Animation;
    _$jscoverage['js/vs_fx.js'][618]++;
    if (arguments.length) {
      _$jscoverage['js/vs_fx.js'][620]++;
      this.setAnimations(arguments);
      _$jscoverage['js/vs_fx.js'][621]++;
      this.keyFrames["100%"] = this;
    }
}
  _$jscoverage['js/vs_fx.js'][623]++;
  ;
  _$jscoverage['js/vs_fx.js'][628]++;
  Animation.__css_animations = {};
  _$jscoverage['js/vs_fx.js'][630]++;
  Animation.DEFAULT_DURATION = "0.3s";
  _$jscoverage['js/vs_fx.js'][631]++;
  Animation.DEFAULT_TIMING = Animation.EASE;
  _$jscoverage['js/vs_fx.js'][633]++;
  Animation.prototype = {properties: null, values: null, durations: null, timings: null, origin: null, iterationCount: 1, delay: 0, keyFrames: null, setAnimations: (function (animations) {
  _$jscoverage['js/vs_fx.js'][736]++;
  var i, prop, value, option;
  _$jscoverage['js/vs_fx.js'][738]++;
  this.properties = [];
  _$jscoverage['js/vs_fx.js'][739]++;
  this.values = [];
  _$jscoverage['js/vs_fx.js'][740]++;
  this.timings = [];
  _$jscoverage['js/vs_fx.js'][741]++;
  this.keyFrames = {};
  _$jscoverage['js/vs_fx.js'][742]++;
  this.origin = null;
  _$jscoverage['js/vs_fx.js'][743]++;
  this.durations = null;
  _$jscoverage['js/vs_fx.js'][744]++;
  this.timings = null;
  _$jscoverage['js/vs_fx.js'][746]++;
  for (i = 0; (i < animations.length); (i++)) {
    _$jscoverage['js/vs_fx.js'][748]++;
    option = animations[i];
    _$jscoverage['js/vs_fx.js'][749]++;
    if (((! util.isArray(option)) || (option.length !== 2))) {
      _$jscoverage['js/vs_fx.js'][751]++;
      console.warn("vs.fx.Animation, invalid animations");
      _$jscoverage['js/vs_fx.js'][752]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][754]++;
    prop = option[0];
    _$jscoverage['js/vs_fx.js'][754]++;
    value = option[1];
    _$jscoverage['js/vs_fx.js'][755]++;
    if (((! util.isString(prop)) || (! util.isString(value)))) {
      _$jscoverage['js/vs_fx.js'][757]++;
      console.warn(("vs.fx.Animation, invalid constructor argument option: [" + prop + ", " + value + "]"));
      _$jscoverage['js/vs_fx.js'][759]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][762]++;
    this.properties.push(prop);
    _$jscoverage['js/vs_fx.js'][763]++;
    this.values.push(value);
}
}), addKeyFrame: (function (pos, values) {
  _$jscoverage['js/vs_fx.js'][797]++;
  if ((! values)) {
    _$jscoverage['js/vs_fx.js'][797]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][798]++;
  if ((pos === "from")) {
    _$jscoverage['js/vs_fx.js'][800]++;
    this.keyFrames["0%"] = values;
    _$jscoverage['js/vs_fx.js'][801]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][803]++;
  if ((pos === "to")) {
    _$jscoverage['js/vs_fx.js'][805]++;
    this.keyFrames["100%"] = values;
    _$jscoverage['js/vs_fx.js'][806]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][808]++;
  if (((! util.isNumber(pos)) || (pos < 0) || (pos > 100))) {
    _$jscoverage['js/vs_fx.js'][808]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][810]++;
  this.keyFrames[(pos + "%")] = values;
}), process: (function (comp, clb, ctx) {
  _$jscoverage['js/vs_fx.js'][840]++;
  return procesAnimation(comp, this, clb, ctx);
}), clone: (function () {
  _$jscoverage['js/vs_fx.js'][856]++;
  var anim = new Animation(), key, data;
  _$jscoverage['js/vs_fx.js'][857]++;
  anim.keyFrames = {};
  _$jscoverage['js/vs_fx.js'][858]++;
  anim.keyFrames["100%"] = anim;
  _$jscoverage['js/vs_fx.js'][860]++;
  if (this.properties) {
    _$jscoverage['js/vs_fx.js'][861]++;
    anim.properties = this.properties.slice();
  }
  else {
    _$jscoverage['js/vs_fx.js'][862]++;
    anim.properties = [];
  }
  _$jscoverage['js/vs_fx.js'][863]++;
  if (this.values) {
    _$jscoverage['js/vs_fx.js'][864]++;
    anim.values = this.values.slice();
  }
  else {
    _$jscoverage['js/vs_fx.js'][865]++;
    anim.values = [];
  }
  _$jscoverage['js/vs_fx.js'][866]++;
  if (this.durations) {
    _$jscoverage['js/vs_fx.js'][867]++;
    anim.durations = this.durations;
  }
  _$jscoverage['js/vs_fx.js'][868]++;
  if (this.timings) {
    _$jscoverage['js/vs_fx.js'][869]++;
    anim.timings = this.timings.slice();
  }
  else {
    _$jscoverage['js/vs_fx.js'][870]++;
    anim.timings = [];
  }
  _$jscoverage['js/vs_fx.js'][871]++;
  if (this.origin) {
    _$jscoverage['js/vs_fx.js'][872]++;
    anim.origin = this.origin.slice();
  }
  _$jscoverage['js/vs_fx.js'][873]++;
  if (this.keyFrames) {
    _$jscoverage['js/vs_fx.js'][875]++;
    for (key in this.keyFrames) {
      _$jscoverage['js/vs_fx.js'][877]++;
      if ((key === "100%")) {
        _$jscoverage['js/vs_fx.js'][877]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][878]++;
      data = this.keyFrames[key];
      _$jscoverage['js/vs_fx.js'][879]++;
      if (util.isArray(data)) {
        _$jscoverage['js/vs_fx.js'][879]++;
        anim.keyFrames[key] = data.slice();
      }
      else {
        _$jscoverage['js/vs_fx.js'][880]++;
        anim.keyFrames[key] = vs.util.clone(data);
      }
}
  }
  _$jscoverage['js/vs_fx.js'][884]++;
  anim.iterationCount = this.iterationCount;
  _$jscoverage['js/vs_fx.js'][885]++;
  anim.delay = this.delay;
  _$jscoverage['js/vs_fx.js'][887]++;
  return anim;
}), start: (function (param) {
  _$jscoverage['js/vs_fx.js'][903]++;
  this.process(param);
})};
  _$jscoverage['js/vs_fx.js'][906]++;
  util.extendClass(Animation, core.Task);
  _$jscoverage['js/vs_fx.js'][912]++;
  util.defineClassProperties(Animation, {"duration": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][922]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][922]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][924]++;
  this.durations = [v];
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][932]++;
  if ((this.durations && this.durations.length)) {
    _$jscoverage['js/vs_fx.js'][933]++;
    return this.durations[0];
  }
  else {
    _$jscoverage['js/vs_fx.js'][935]++;
    return Animation.DEFAULT_DURATION;
  }
})}, "timing": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][947]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][947]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][949]++;
  this.timings = [v];
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][957]++;
  if ((this.timings && this.timings.length)) {
    _$jscoverage['js/vs_fx.js'][958]++;
    return this.timings[0];
  }
  else {
    _$jscoverage['js/vs_fx.js'][960]++;
    return Animation.EASE;
  }
})}});
  _$jscoverage['js/vs_fx.js'][975]++;
  Animation.EASE = "ease";
  _$jscoverage['js/vs_fx.js'][983]++;
  Animation.LINEAR = "linear";
  _$jscoverage['js/vs_fx.js'][991]++;
  Animation.EASE_IN = "ease-in";
  _$jscoverage['js/vs_fx.js'][999]++;
  Animation.EASE_OUT = "ease-out";
  _$jscoverage['js/vs_fx.js'][1007]++;
  Animation.EASE_IN_OUT = "ease-in-out";
  _$jscoverage['js/vs_fx.js'][1039]++;
  TranslateAnimation = (function (x, y, z) {
  _$jscoverage['js/vs_fx.js'][1041]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1042]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1044]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1048]++;
    if (SUPPORT_3D_TRANSFORM) {
      _$jscoverage['js/vs_fx.js'][1049]++;
      this.parent(["translate", "${x}px,${y}px,${z}px"]);
    }
    else {
      _$jscoverage['js/vs_fx.js'][1051]++;
      this.parent(["translate", "${x}px,${y}px"]);
    }
    _$jscoverage['js/vs_fx.js'][1053]++;
    if (util.isNumber(x)) {
      _$jscoverage['js/vs_fx.js'][1053]++;
      this.x = x;
    }
    _$jscoverage['js/vs_fx.js'][1054]++;
    if (util.isNumber(y)) {
      _$jscoverage['js/vs_fx.js'][1054]++;
      this.y = y;
    }
    _$jscoverage['js/vs_fx.js'][1055]++;
    if (util.isNumber(z)) {
      _$jscoverage['js/vs_fx.js'][1055]++;
      this.z = z;
    }
  }
  _$jscoverage['js/vs_fx.js'][1057]++;
  this.constructor = TranslateAnimation;
});
  _$jscoverage['js/vs_fx.js'][1060]++;
  TranslateAnimation.prototype = {x: 0, y: 0, z: 0};
  _$jscoverage['js/vs_fx.js'][1086]++;
  util.extendClass(TranslateAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1111]++;
  RotateAnimation = (function (deg) {
  _$jscoverage['js/vs_fx.js'][1113]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1114]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1116]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1120]++;
    this.parent(["rotate", "${deg}deg"]);
    _$jscoverage['js/vs_fx.js'][1122]++;
    if (util.isNumber(deg)) {
      _$jscoverage['js/vs_fx.js'][1122]++;
      this.deg = deg;
    }
  }
  _$jscoverage['js/vs_fx.js'][1124]++;
  this.constructor = RotateAnimation;
});
  _$jscoverage['js/vs_fx.js'][1127]++;
  RotateAnimation.prototype = {deg: 0};
  _$jscoverage['js/vs_fx.js'][1137]++;
  util.extendClass(RotateAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1160]++;
  RotateXYZAnimation = (function (degX, degY, degZ) {
  _$jscoverage['js/vs_fx.js'][1162]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1163]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1165]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1169]++;
    this.parent(["rotateX", "${degX}deg"], ["rotateY", "${degY}deg"], ["rotate", "${degZ}deg"]);
    _$jscoverage['js/vs_fx.js'][1172]++;
    if (util.isNumber(degX)) {
      _$jscoverage['js/vs_fx.js'][1172]++;
      this.degX = degX;
    }
    _$jscoverage['js/vs_fx.js'][1173]++;
    if (util.isNumber(degY)) {
      _$jscoverage['js/vs_fx.js'][1173]++;
      this.degY = degY;
    }
    _$jscoverage['js/vs_fx.js'][1174]++;
    if (util.isNumber(degZ)) {
      _$jscoverage['js/vs_fx.js'][1174]++;
      this.degZ = degZ;
    }
  }
  _$jscoverage['js/vs_fx.js'][1176]++;
  this.constructor = RotateXYZAnimation;
});
  _$jscoverage['js/vs_fx.js'][1179]++;
  RotateXYZAnimation.prototype = {degX: 0, degY: 0, degZ: 0};
  _$jscoverage['js/vs_fx.js'][1205]++;
  util.extendClass(RotateXYZAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1229]++;
  ScaleAnimation = (function (sx, sy) {
  _$jscoverage['js/vs_fx.js'][1231]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1232]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1234]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1238]++;
    this.parent(["scale", "${sx},${sy}"]);
    _$jscoverage['js/vs_fx.js'][1240]++;
    if (util.isNumber(sx)) {
      _$jscoverage['js/vs_fx.js'][1240]++;
      this.sx = sx;
    }
    _$jscoverage['js/vs_fx.js'][1241]++;
    if (util.isNumber(sy)) {
      _$jscoverage['js/vs_fx.js'][1241]++;
      this.sy = sy;
    }
    _$jscoverage['js/vs_fx.js'][1242]++;
    if ((! util.isNumber(sy))) {
      _$jscoverage['js/vs_fx.js'][1242]++;
      this.sy = this.sx;
    }
  }
  _$jscoverage['js/vs_fx.js'][1244]++;
  this.constructor = ScaleAnimation;
});
  _$jscoverage['js/vs_fx.js'][1247]++;
  ScaleAnimation.prototype = {sx: 1, sy: 1};
  _$jscoverage['js/vs_fx.js'][1265]++;
  util.extendClass(ScaleAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1290]++;
  SkewAnimation = (function (ax, ay) {
  _$jscoverage['js/vs_fx.js'][1292]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1293]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1295]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1299]++;
    this.parent(["skew", "${ax}deg,${ay}deg"]);
    _$jscoverage['js/vs_fx.js'][1301]++;
    if (util.isNumber(ax)) {
      _$jscoverage['js/vs_fx.js'][1301]++;
      this.ax = ax;
    }
    _$jscoverage['js/vs_fx.js'][1302]++;
    if (util.isNumber(ay)) {
      _$jscoverage['js/vs_fx.js'][1302]++;
      this.ay = ay;
    }
  }
  _$jscoverage['js/vs_fx.js'][1304]++;
  this.constructor = SkewAnimation;
});
  _$jscoverage['js/vs_fx.js'][1307]++;
  SkewAnimation.prototype = {ax: 0, ay: 0};
  _$jscoverage['js/vs_fx.js'][1325]++;
  util.extendClass(SkewAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1354]++;
  OpacityAnimation = (function (value) {
  _$jscoverage['js/vs_fx.js'][1356]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1357]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1359]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1363]++;
    this.parent(["opacity", "${value}"]);
    _$jscoverage['js/vs_fx.js'][1365]++;
    if (util.isNumber(value)) {
      _$jscoverage['js/vs_fx.js'][1365]++;
      this.value = value;
    }
  }
  _$jscoverage['js/vs_fx.js'][1367]++;
  this.constructor = OpacityAnimation;
});
  _$jscoverage['js/vs_fx.js'][1370]++;
  OpacityAnimation.prototype = {value: 1};
  _$jscoverage['js/vs_fx.js'][1380]++;
  util.extendClass(OpacityAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1391]++;
  Animation.SlideOutRight = new Animation(["translateX", "$width"]);
  _$jscoverage['js/vs_fx.js'][1392]++;
  Animation.SlideOutRight.addKeyFrame(0, ["0px"]);
  _$jscoverage['js/vs_fx.js'][1398]++;
  Animation.SlideOutLeft = new Animation(["translateX", "-$width"]);
  _$jscoverage['js/vs_fx.js'][1399]++;
  Animation.SlideOutLeft.addKeyFrame(0, ["0px"]);
  _$jscoverage['js/vs_fx.js'][1406]++;
  Animation.SlideOutTop = new Animation(["translateY", "-$height"]);
  _$jscoverage['js/vs_fx.js'][1407]++;
  Animation.SlideOutTop.addKeyFrame(0, ["0px"]);
  _$jscoverage['js/vs_fx.js'][1414]++;
  Animation.SlideOutBottom = new Animation(["translateY", "$height"]);
  _$jscoverage['js/vs_fx.js'][1415]++;
  Animation.SlideOutBottom.addKeyFrame(0, ["0px"]);
  _$jscoverage['js/vs_fx.js'][1422]++;
  Animation.SlideInRight = new Animation(["translateX", "0px"]);
  _$jscoverage['js/vs_fx.js'][1423]++;
  Animation.SlideInRight.addKeyFrame(0, ["$width"]);
  _$jscoverage['js/vs_fx.js'][1430]++;
  Animation.SlideInLeft = new Animation(["translateX", "0px"]);
  _$jscoverage['js/vs_fx.js'][1431]++;
  Animation.SlideInLeft.addKeyFrame(0, ["-$width"]);
  _$jscoverage['js/vs_fx.js'][1438]++;
  Animation.SlideInTop = new Animation(["translateY", "0px"]);
  _$jscoverage['js/vs_fx.js'][1439]++;
  Animation.SlideInTop.addKeyFrame(0, ["-$height"]);
  _$jscoverage['js/vs_fx.js'][1446]++;
  Animation.SlideInBottom = new Animation(["translateY", "0px"]);
  _$jscoverage['js/vs_fx.js'][1447]++;
  Animation.SlideInBottom.addKeyFrame(0, ["$height"]);
  _$jscoverage['js/vs_fx.js'][1454]++;
  Animation.FadeIn = new Animation(["opacity", "1"]);
  _$jscoverage['js/vs_fx.js'][1455]++;
  Animation.FadeIn.addKeyFrame(0, ["0"]);
  _$jscoverage['js/vs_fx.js'][1462]++;
  Animation.FadeOut = new Animation(["opacity", "0"]);
  _$jscoverage['js/vs_fx.js'][1463]++;
  Animation.FadeOut.addKeyFrame(0, ["1"]);
  _$jscoverage['js/vs_fx.js'][1469]++;
  fx.Animation = Animation;
  _$jscoverage['js/vs_fx.js'][1470]++;
  fx.cancelAnimation = cancelAnimation;
  _$jscoverage['js/vs_fx.js'][1471]++;
  fx.TranslateAnimation = TranslateAnimation;
  _$jscoverage['js/vs_fx.js'][1472]++;
  fx.RotateAnimation = RotateAnimation;
  _$jscoverage['js/vs_fx.js'][1473]++;
  fx.RotateXYZAnimation = RotateXYZAnimation;
  _$jscoverage['js/vs_fx.js'][1474]++;
  fx.ScaleAnimation = ScaleAnimation;
  _$jscoverage['js/vs_fx.js'][1475]++;
  fx.SkewAnimation = SkewAnimation;
  _$jscoverage['js/vs_fx.js'][1476]++;
  fx.OpacityAnimation = OpacityAnimation;
  _$jscoverage['js/vs_fx.js'][1575]++;
  function Controller(owner) {
    _$jscoverage['js/vs_fx.js'][1577]++;
    this.parent = core.EventSource;
    _$jscoverage['js/vs_fx.js'][1578]++;
    this.parent();
    _$jscoverage['js/vs_fx.js'][1579]++;
    this.constructor = Controller;
    _$jscoverage['js/vs_fx.js'][1581]++;
    if (owner) {
      _$jscoverage['js/vs_fx.js'][1583]++;
      this._fsm = new (core.Fsm)(this);
      _$jscoverage['js/vs_fx.js'][1586]++;
      this._fsm.goTo = this.goTo;
      _$jscoverage['js/vs_fx.js'][1587]++;
      this._owner = owner;
    }
}
  _$jscoverage['js/vs_fx.js'][1591]++;
  Controller.prototype = {_delegate: null, _owner: null, _fsm: null, _initial_component: null, destructor: (function () {
  _$jscoverage['js/vs_fx.js'][1627]++;
  if (this._owner) {
    _$jscoverage['js/vs_fx.js'][1629]++;
    this._owner.__controller__ = undefined;
    _$jscoverage['js/vs_fx.js'][1631]++;
    this._owner.remove = this._owner._ab_controller_remove;
    _$jscoverage['js/vs_fx.js'][1632]++;
    this._owner._ab_controller_remove = undefined;
  }
  _$jscoverage['js/vs_fx.js'][1635]++;
  this._delegate = undefined;
  _$jscoverage['js/vs_fx.js'][1637]++;
  util.free(this._fsm);
  _$jscoverage['js/vs_fx.js'][1638]++;
  core.EventSource.prototype.destructor.call(this);
}), initComponent: (function () {
  _$jscoverage['js/vs_fx.js'][1647]++;
  core.EventSource.prototype.initComponent.call(this);
  _$jscoverage['js/vs_fx.js'][1649]++;
  if (this._fsm) {
    _$jscoverage['js/vs_fx.js'][1649]++;
    this._fsm.init();
  }
  _$jscoverage['js/vs_fx.js'][1651]++;
  if ((! this._owner)) {
    _$jscoverage['js/vs_fx.js'][1653]++;
    console.error(("Invalid vs.fx.Controller, owner is null vs.fx.Controller.id = '" + this._id + "'"));
    _$jscoverage['js/vs_fx.js'][1654]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1656]++;
  if (this._owner.__controller__) {
    _$jscoverage['js/vs_fx.js'][1658]++;
    console.error("The owner already use a controller");
    _$jscoverage['js/vs_fx.js'][1659]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1661]++;
  this._owner.__controller__ = this;
  _$jscoverage['js/vs_fx.js'][1663]++;
  this._owner._ab_controller_remove = this._owner.remove;
  _$jscoverage['js/vs_fx.js'][1664]++;
  this._owner.remove = this.ab_controller_remove;
}), ab_controller_remove: (function (child) {
  _$jscoverage['js/vs_fx.js'][1678]++;
  if ((! child)) {
    _$jscoverage['js/vs_fx.js'][1678]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1680]++;
  state = this.__controller__._fsm._list_of_state[child.id];
  _$jscoverage['js/vs_fx.js'][1681]++;
  if (state) {
    _$jscoverage['js/vs_fx.js'][1683]++;
    this.__controller__.remove(child);
  }
  else {
    _$jscoverage['js/vs_fx.js'][1687]++;
    this._ab_controller_remove(child);
  }
}), isStateExit: (function (id) {
  _$jscoverage['js/vs_fx.js'][1706]++;
  if ((! this._fsm)) {
    _$jscoverage['js/vs_fx.js'][1706]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][1708]++;
  if (this._fsm._list_of_state[id]) {
    _$jscoverage['js/vs_fx.js'][1709]++;
    return true;
  }
  _$jscoverage['js/vs_fx.js'][1711]++;
  return false;
}), add: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][1721]++;
  console.warn("vs.fx.Controller.add is deprecated. Use vs.fx.Controller.push");
  _$jscoverage['js/vs_fx.js'][1722]++;
  return this.push(comp, data, extension, bindings);
}), push: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][1753]++;
  if (((! comp) || (! this._fsm))) {
    _$jscoverage['js/vs_fx.js'][1753]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1754]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][1754]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][1756]++;
  var state_id = null, binding, i, state;
  _$jscoverage['js/vs_fx.js'][1757]++;
  if ((util.isString(comp) && data.id)) {
    _$jscoverage['js/vs_fx.js'][1758]++;
    state_id = data.id;
  }
  else {
    _$jscoverage['js/vs_fx.js'][1759]++;
    if (((! util.isString(comp)) && comp.id)) {
      _$jscoverage['js/vs_fx.js'][1760]++;
      state_id = comp.id;
    }
    else {
      _$jscoverage['js/vs_fx.js'][1761]++;
      state_id = core.createId();
    }
  }
  _$jscoverage['js/vs_fx.js'][1763]++;
  if (this.isStateExit(state_id)) {
    _$jscoverage['js/vs_fx.js'][1764]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1766]++;
  this._fsm.addState(state_id);
  _$jscoverage['js/vs_fx.js'][1767]++;
  state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][1768]++;
  state.bindings = {};
  _$jscoverage['js/vs_fx.js'][1770]++;
  if ((bindings && bindings.length)) {
    _$jscoverage['js/vs_fx.js'][1772]++;
    for (i = 0; (i < bindings.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][1774]++;
      binding = bindings[i];
      _$jscoverage['js/vs_fx.js'][1775]++;
      if (((! binding) || (binding.length !== 3))) {
        _$jscoverage['js/vs_fx.js'][1777]++;
        console.warn("vs.fx.Controller.push: invalid binding information");
        _$jscoverage['js/vs_fx.js'][1778]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][1780]++;
      this.componentBind(state_id, binding[0], binding[1], binding[2]);
}
  }
  _$jscoverage['js/vs_fx.js'][1784]++;
  this.setStateComponentInformation(state_id, comp, extension, data);
  _$jscoverage['js/vs_fx.js'][1786]++;
  return state_id;
}), remove: (function (comp) {
  _$jscoverage['js/vs_fx.js'][1805]++;
  if (((! comp) || (! this._owner) || (! this._fsm))) {
    _$jscoverage['js/vs_fx.js'][1805]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1807]++;
  var state_id = null;
  _$jscoverage['js/vs_fx.js'][1808]++;
  if (util.isString(comp)) {
    _$jscoverage['js/vs_fx.js'][1809]++;
    state_id = comp;
  }
  else {
    _$jscoverage['js/vs_fx.js'][1810]++;
    if ((! util.isString(comp))) {
      _$jscoverage['js/vs_fx.js'][1811]++;
      state_id = comp.id;
    }
  }
  _$jscoverage['js/vs_fx.js'][1813]++;
  var state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][1814]++;
  if ((state && state.comp)) {
    _$jscoverage['js/vs_fx.js'][1816]++;
    this._owner._ab_controller_remove(state.comp);
  }
  _$jscoverage['js/vs_fx.js'][1818]++;
  this._fsm.removeState(state_id);
}), setStateComponentInformation: (function (state_id, comp, extension, init_data) {
  _$jscoverage['js/vs_fx.js'][1837]++;
  if (((! state_id) || (! this._fsm) || (! this._fsm.existState(state_id)))) {
    _$jscoverage['js/vs_fx.js'][1837]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1838]++;
  if (((! comp) || (! this._owner))) {
    _$jscoverage['js/vs_fx.js'][1838]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1840]++;
  if ((! init_data)) {
    _$jscoverage['js/vs_fx.js'][1840]++;
    init_data = {};
  }
  else {
    _$jscoverage['js/vs_fx.js'][1841]++;
    init_data = util.clone(init_data);
  }
  _$jscoverage['js/vs_fx.js'][1843]++;
  var state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][1844]++;
  state.init_data = init_data;
  _$jscoverage['js/vs_fx.js'][1846]++;
  if (util.isString(comp)) {
    _$jscoverage['js/vs_fx.js'][1848]++;
    state.comp_name = comp;
    _$jscoverage['js/vs_fx.js'][1849]++;
    state.comp = undefined;
  }
  else {
    _$jscoverage['js/vs_fx.js'][1853]++;
    state.comp_name = "";
    _$jscoverage['js/vs_fx.js'][1854]++;
    state.comp = comp;
    _$jscoverage['js/vs_fx.js'][1855]++;
    if ((! this._owner.isChild(comp))) {
      _$jscoverage['js/vs_fx.js'][1857]++;
      this._owner.add(comp, extension);
    }
  }
}), addTransition: (function (from, to, on, animation_out, animation_in) {
  _$jscoverage['js/vs_fx.js'][1883]++;
  var key, t;
  _$jscoverage['js/vs_fx.js'][1885]++;
  if (((! from) || (! this._fsm) || (! this._fsm.existState(from)))) {
    _$jscoverage['js/vs_fx.js'][1885]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1886]++;
  if (((! to) || (! this._fsm.existState(to)))) {
    _$jscoverage['js/vs_fx.js'][1886]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1887]++;
  if ((! on)) {
    _$jscoverage['js/vs_fx.js'][1887]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1889]++;
  if ((! this._fsm.existInput(on))) {
    _$jscoverage['js/vs_fx.js'][1891]++;
    this._fsm.addInput(on);
  }
  _$jscoverage['js/vs_fx.js'][1894]++;
  this._fsm.addTransition(from, to, on);
  _$jscoverage['js/vs_fx.js'][1896]++;
  for (key in this._fsm._list_of_state[from].transitionEvents) {
    _$jscoverage['js/vs_fx.js'][1898]++;
    t = this._fsm._list_of_state[from].transitionEvents[key];
    _$jscoverage['js/vs_fx.js'][1899]++;
    if ((t.to !== to)) {
      _$jscoverage['js/vs_fx.js'][1899]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][1901]++;
    t.animation_out = animation_out;
    _$jscoverage['js/vs_fx.js'][1902]++;
    t.animation_in = animation_in;
}
}), _animateComponents: (function (fromComp, toComp, animationOut, animationIn, animation_clb, instant) {
  _$jscoverage['js/vs_fx.js'][1912]++;
  var self = this, runAnimation, callback = (function () {
  _$jscoverage['js/vs_fx.js'][1914]++;
  try {
    _$jscoverage['js/vs_fx.js'][1916]++;
    if (animation_clb) {
      _$jscoverage['js/vs_fx.js'][1918]++;
      animation_clb.call(self._owner);
    }
    _$jscoverage['js/vs_fx.js'][1920]++;
    if ((self._delegate && self._delegate.animationDidEnd)) {
      _$jscoverage['js/vs_fx.js'][1922]++;
      console.warn("animationDidEnd is deprecated. Please use 'controllerAnimationDidEnd'.");
      _$jscoverage['js/vs_fx.js'][1923]++;
      self._delegate.animationDidEnd(self);
    }
    _$jscoverage['js/vs_fx.js'][1925]++;
    if ((self._delegate && self._delegate.controllerAnimationDidEnd)) {
      _$jscoverage['js/vs_fx.js'][1927]++;
      self._delegate.controllerAnimationDidEnd(fromComp, toComp, self);
    }
  }
  catch (e) {
    _$jscoverage['js/vs_fx.js'][1929]++;
    console.error(e);
  }
});
  _$jscoverage['js/vs_fx.js'][1931]++;
  runAnimation = (function () {
  _$jscoverage['js/vs_fx.js'][1933]++;
  try {
    _$jscoverage['js/vs_fx.js'][1935]++;
    toComp.show();
    _$jscoverage['js/vs_fx.js'][1936]++;
    if (((! animationIn) && (! animationOut))) {
      _$jscoverage['js/vs_fx.js'][1938]++;
      callback.call(self);
      _$jscoverage['js/vs_fx.js'][1939]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][1941]++;
    if (instant) {
      _$jscoverage['js/vs_fx.js'][1943]++;
      if (animationIn) {
        _$jscoverage['js/vs_fx.js'][1945]++;
        var inDurations = animationIn.durations;
        _$jscoverage['js/vs_fx.js'][1946]++;
        animationIn.durations = "0s";
      }
      _$jscoverage['js/vs_fx.js'][1948]++;
      if (animationOut) {
        _$jscoverage['js/vs_fx.js'][1950]++;
        var outDurations = animationOut.durations;
        _$jscoverage['js/vs_fx.js'][1951]++;
        animationOut.durations = "0s";
      }
    }
    _$jscoverage['js/vs_fx.js'][1954]++;
    if ((animationIn && (! animationOut))) {
      _$jscoverage['js/vs_fx.js'][1956]++;
      animationIn.process(toComp, callback, self);
    }
    else {
      _$jscoverage['js/vs_fx.js'][1958]++;
      if (((! animationIn) && animationOut)) {
        _$jscoverage['js/vs_fx.js'][1960]++;
        animationOut.process(fromComp, callback, self);
      }
      else {
        _$jscoverage['js/vs_fx.js'][1964]++;
        if (animationIn) {
          _$jscoverage['js/vs_fx.js'][1964]++;
          animationIn.process(toComp, callback, self);
        }
        _$jscoverage['js/vs_fx.js'][1965]++;
        if (animationOut) {
          _$jscoverage['js/vs_fx.js'][1965]++;
          animationOut.process(fromComp);
        }
      }
    }
    _$jscoverage['js/vs_fx.js'][1967]++;
    if (instant) {
      _$jscoverage['js/vs_fx.js'][1969]++;
      if (animationIn) {
        _$jscoverage['js/vs_fx.js'][1969]++;
        animationIn.durations = inDurations;
      }
      _$jscoverage['js/vs_fx.js'][1970]++;
      if (animationOut) {
        _$jscoverage['js/vs_fx.js'][1970]++;
        animationOut.durations = outDurations;
      }
    }
  }
  catch (e) {
    _$jscoverage['js/vs_fx.js'][1973]++;
    console.error(e);
  }
});
  _$jscoverage['js/vs_fx.js'][1975]++;
  window.setTimeout((function () {
  _$jscoverage['js/vs_fx.js'][1975]++;
  runAnimation();
}), 0);
}), componentBind: (function (comp_id, event, obj, func) {
  _$jscoverage['js/vs_fx.js'][2001]++;
  if ((! this._fsm)) {
    _$jscoverage['js/vs_fx.js'][2001]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2003]++;
  var state = this._fsm._list_of_state[comp_id], a;
  _$jscoverage['js/vs_fx.js'][2005]++;
  if ((! state)) {
    _$jscoverage['js/vs_fx.js'][2005]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2007]++;
  a = state.bindings[event];
  _$jscoverage['js/vs_fx.js'][2008]++;
  if ((! a)) {
    _$jscoverage['js/vs_fx.js'][2010]++;
    a = [];
    _$jscoverage['js/vs_fx.js'][2011]++;
    state.bindings[event] = a;
  }
  _$jscoverage['js/vs_fx.js'][2014]++;
  a.push([obj, func]);
  _$jscoverage['js/vs_fx.js'][2015]++;
  if ((comp_id === this._current_state)) {
    _$jscoverage['js/vs_fx.js'][2017]++;
    state.comp.bind(event, obj, func);
  }
}), refresh: (function () {
}), getCurrentState: (function () {
  _$jscoverage['js/vs_fx.js'][2043]++;
  if ((! this._fsm)) {
    _$jscoverage['js/vs_fx.js'][2043]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2045]++;
  return this._fsm._current_state;
}), configureNewComponent: (function (comp) {
}), _beforeStateEnter: (function (state, data) {
  _$jscoverage['js/vs_fx.js'][2062]++;
  if (((! state) || (! (state.comp_name || state.comp)))) {
    _$jscoverage['js/vs_fx.js'][2062]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2064]++;
  var spec, events, i, key, e, new_data;
  _$jscoverage['js/vs_fx.js'][2068]++;
  if ((! state.comp)) {
    _$jscoverage['js/vs_fx.js'][2070]++;
    state.comp = this._owner.createAndAddComponent(state.comp_name, state.init_data, state.extension);
    _$jscoverage['js/vs_fx.js'][2073]++;
    state.comp.configure(state.init_data);
    _$jscoverage['js/vs_fx.js'][2074]++;
    if ((state.comp && state.comp.propertiesDidChange)) {
      _$jscoverage['js/vs_fx.js'][2076]++;
      state.comp.propertiesDidChange();
    }
    _$jscoverage['js/vs_fx.js'][2078]++;
    state.comp.propertyChange();
    _$jscoverage['js/vs_fx.js'][2079]++;
    this.configureNewComponent(state.comp);
  }
  _$jscoverage['js/vs_fx.js'][2084]++;
  new_data = data;
  _$jscoverage['js/vs_fx.js'][2086]++;
  if (state.data_adaptation_func) {
    _$jscoverage['js/vs_fx.js'][2088]++;
    new_data = state.data_adaptation_func(data);
  }
  _$jscoverage['js/vs_fx.js'][2091]++;
  if (new_data) {
    _$jscoverage['js/vs_fx.js'][2094]++;
    for (key in new_data) {
      _$jscoverage['js/vs_fx.js'][2096]++;
      if (((! state.comp.__lookupSetter__(key)) && (! state.comp.hasOwnProperty(key)))) {
        _$jscoverage['js/vs_fx.js'][2099]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2101]++;
      state.comp[key] = new_data[key];
}
    _$jscoverage['js/vs_fx.js'][2105]++;
    state.comp.propertyChange();
  }
  _$jscoverage['js/vs_fx.js'][2110]++;
  for (spec in state.bindings) {
    _$jscoverage['js/vs_fx.js'][2112]++;
    events = state.bindings[spec];
    _$jscoverage['js/vs_fx.js'][2113]++;
    if ((! events)) {
      _$jscoverage['js/vs_fx.js'][2113]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][2115]++;
    for (i = 0; (i < events.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][2117]++;
      e = events[i];
      _$jscoverage['js/vs_fx.js'][2118]++;
      if ((! e)) {
        _$jscoverage['js/vs_fx.js'][2118]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2119]++;
      if (e[1]) {
        _$jscoverage['js/vs_fx.js'][2119]++;
        state.comp.bind(spec, e[0], e[1]);
      }
      else {
        _$jscoverage['js/vs_fx.js'][2120]++;
        state.comp.bind(spec, e[0]);
      }
}
}
}), _beforeStateExit: (function (state) {
  _$jscoverage['js/vs_fx.js'][2131]++;
  if (((! state) || (! state.comp))) {
    _$jscoverage['js/vs_fx.js'][2131]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2133]++;
  var spec, events, i, e;
  _$jscoverage['js/vs_fx.js'][2137]++;
  for (spec in state.bindings) {
    _$jscoverage['js/vs_fx.js'][2139]++;
    events = state.bindings[spec];
    _$jscoverage['js/vs_fx.js'][2140]++;
    if ((! events)) {
      _$jscoverage['js/vs_fx.js'][2140]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][2142]++;
    for (i = 0; (i < events.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][2144]++;
      e = events[i];
      _$jscoverage['js/vs_fx.js'][2145]++;
      if ((! e)) {
        _$jscoverage['js/vs_fx.js'][2145]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2146]++;
      if (e[1]) {
        _$jscoverage['js/vs_fx.js'][2146]++;
        state.comp.unbind(spec, e[0], e[1]);
      }
      else {
        _$jscoverage['js/vs_fx.js'][2147]++;
        state.comp.bind(spec, e[0]);
      }
}
}
}), goTo: (function (state_id, output, event, instant) {
  _$jscoverage['js/vs_fx.js'][2171]++;
  var state_from, state_to, transition = null;
  _$jscoverage['js/vs_fx.js'][2173]++;
  if (((! state_id) || (! this._list_of_state[state_id]))) {
    _$jscoverage['js/vs_fx.js'][2175]++;
    console.warn(("vs.fx.Controller.goTo unknown State id:" + state_id));
    _$jscoverage['js/vs_fx.js'][2176]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][2180]++;
  if (this._current_state) {
    _$jscoverage['js/vs_fx.js'][2182]++;
    if (event) {
      _$jscoverage['js/vs_fx.js'][2184]++;
      transition = this._list_of_state[this._current_state].transitionEvents[event.on];
    }
    _$jscoverage['js/vs_fx.js'][2187]++;
    state_from = this._list_of_state[this._current_state];
    _$jscoverage['js/vs_fx.js'][2188]++;
    this.owner._beforeStateExit(state_from);
  }
  _$jscoverage['js/vs_fx.js'][2192]++;
  this._current_state = state_id;
  _$jscoverage['js/vs_fx.js'][2195]++;
  state_to = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][2196]++;
  this.owner._beforeStateEnter(state_to, (event? event.data: null));
  _$jscoverage['js/vs_fx.js'][2198]++;
  if ((state_from && state_from.comp && state_from.comp.viewWillDisappear)) {
    _$jscoverage['js/vs_fx.js'][2200]++;
    state_from.comp.viewWillDisappear();
  }
  _$jscoverage['js/vs_fx.js'][2202]++;
  if (state_to.comp.viewWillAppear) {
    _$jscoverage['js/vs_fx.js'][2204]++;
    state_to.comp.viewWillAppear();
  }
  _$jscoverage['js/vs_fx.js'][2206]++;
  if ((this.owner._delegate && this.owner._delegate.controllerViewWillChange)) {
    _$jscoverage['js/vs_fx.js'][2208]++;
    if (state_from) {
      _$jscoverage['js/vs_fx.js'][2210]++;
      this.owner._delegate.controllerViewWillChange(state_from.comp, state_to.comp, this.owner);
    }
    else {
      _$jscoverage['js/vs_fx.js'][2215]++;
      this.owner._delegate.controllerViewWillChange(null, state_to.comp, this.owner);
    }
  }
  _$jscoverage['js/vs_fx.js'][2220]++;
  if (transition) {
    _$jscoverage['js/vs_fx.js'][2222]++;
    this.owner._animateComponents(state_from.comp, state_to.comp, transition.animation_out, transition.animation_in, null, instant);
  }
  else {
    _$jscoverage['js/vs_fx.js'][2229]++;
    state_to.comp.show();
  }
  _$jscoverage['js/vs_fx.js'][2232]++;
  if ((output && this._output_action[output])) {
    _$jscoverage['js/vs_fx.js'][2234]++;
    var clb = this._output_action[output];
    _$jscoverage['js/vs_fx.js'][2235]++;
    if ((clb instanceof Function)) {
      _$jscoverage['js/vs_fx.js'][2237]++;
      clb.call(this._owner, event);
    }
    else {
      _$jscoverage['js/vs_fx.js'][2239]++;
      if (util.isString(clb)) {
        _$jscoverage['js/vs_fx.js'][2241]++;
        (this._owner[this._output_action[output]])(event);
      }
    }
  }
  _$jscoverage['js/vs_fx.js'][2245]++;
  return true;
}), notify: (function (event, instant) {
  _$jscoverage['js/vs_fx.js'][2254]++;
  if (((! this._fsm) || (! event) || (! event.type))) {
    _$jscoverage['js/vs_fx.js'][2254]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2255]++;
  this._fsm.fsmNotify(event.type, event.data, instant);
}), clear: (function () {
  _$jscoverage['js/vs_fx.js'][2271]++;
  if ((! this._fsm)) {
    _$jscoverage['js/vs_fx.js'][2271]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2273]++;
  this._fsm.clear();
})};
  _$jscoverage['js/vs_fx.js'][2276]++;
  util.extendClass(Controller, core.EventSource);
  _$jscoverage['js/vs_fx.js'][2282]++;
  util.defineClassProperties(Controller, {"initialComponent": {set: (function (comp_id) {
  _$jscoverage['js/vs_fx.js'][2297]++;
  if (((! this._fsm) || (! comp_id))) {
    _$jscoverage['js/vs_fx.js'][2299]++;
    this._initial_component = undefined;
    _$jscoverage['js/vs_fx.js'][2300]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2303]++;
  if ((! this._fsm.existState(comp_id))) {
    _$jscoverage['js/vs_fx.js'][2303]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2306]++;
  this._initial_component = comp_id;
  _$jscoverage['js/vs_fx.js'][2307]++;
  this._fsm.initialState = comp_id;
  _$jscoverage['js/vs_fx.js'][2309]++;
  this._fsm.goTo(comp_id);
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][2317]++;
  return this._initial_component;
})}, "delegate": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][2339]++;
  this._delegate = v;
})}});
  _$jscoverage['js/vs_fx.js'][2347]++;
  fx.Controller = Controller;
  _$jscoverage['js/vs_fx.js'][2389]++;
  function StackController(owner) {
    _$jscoverage['js/vs_fx.js'][2391]++;
    this.parent = Controller;
    _$jscoverage['js/vs_fx.js'][2392]++;
    this.parent(owner);
    _$jscoverage['js/vs_fx.js'][2393]++;
    this.constructor = StackController;
    _$jscoverage['js/vs_fx.js'][2395]++;
    if ((! arguments.length)) {
      _$jscoverage['js/vs_fx.js'][2395]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][2397]++;
    this._fsm.addInput(StackController.NEXT);
    _$jscoverage['js/vs_fx.js'][2398]++;
    this._fsm.addInput(StackController.PRED);
    _$jscoverage['js/vs_fx.js'][2399]++;
    this._fsm.addInput(StackController.FIRST);
    _$jscoverage['js/vs_fx.js'][2401]++;
    this._states_array = new Array();
}
  _$jscoverage['js/vs_fx.js'][2408]++;
  StackController.ANIMATION_DURATION = 350;
  _$jscoverage['js/vs_fx.js'][2415]++;
  StackController.NEXT = "next";
  _$jscoverage['js/vs_fx.js'][2422]++;
  StackController.PRED = "pred";
  _$jscoverage['js/vs_fx.js'][2429]++;
  StackController.FIRST = "first";
  _$jscoverage['js/vs_fx.js'][2431]++;
  StackController.prototype = {_is_tactile: false, _owner_handler_event_extended: false, _owner_handler_event: null, _animation_duration: StackController.ANIMATION_DURATION, _last_comp_id: null, _states_array: null, __nb_panels: 0, _view_size: null, destructor: (function () {
  _$jscoverage['js/vs_fx.js'][2496]++;
  (delete this._states_array);
  _$jscoverage['js/vs_fx.js'][2498]++;
  Controller.prototype.destructor.call(this);
}), initComponent: (function () {
  _$jscoverage['js/vs_fx.js'][2507]++;
  Controller.prototype.initComponent.call(this);
  _$jscoverage['js/vs_fx.js'][2509]++;
  this.isTactile = this._is_tactile;
  _$jscoverage['js/vs_fx.js'][2510]++;
  this._updateViewSize();
}), push: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][2545]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][2545]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2546]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][2546]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][2548]++;
  var state_id = Controller.prototype.push.call(this, comp, data, extension, bindings);
  _$jscoverage['js/vs_fx.js'][2550]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][2550]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2552]++;
  this._states_array.push(state_id);
  _$jscoverage['js/vs_fx.js'][2553]++;
  (this.__nb_panels++);
  _$jscoverage['js/vs_fx.js'][2556]++;
  if ((this.__nb_panels === 1)) {
    _$jscoverage['js/vs_fx.js'][2558]++;
    this.initialComponent = state_id;
    _$jscoverage['js/vs_fx.js'][2559]++;
    this._last_comp_id = state_id;
    _$jscoverage['js/vs_fx.js'][2561]++;
    return state_id;
  }
  _$jscoverage['js/vs_fx.js'][2564]++;
  this.addTransition(this._last_comp_id, state_id, StackController.NEXT);
  _$jscoverage['js/vs_fx.js'][2565]++;
  this.addTransition(state_id, this._last_comp_id, StackController.PRED);
  _$jscoverage['js/vs_fx.js'][2566]++;
  this.addTransition(state_id, this._initial_component, StackController.FIRST);
  _$jscoverage['js/vs_fx.js'][2570]++;
  if ((this._last_comp_id === this._initial_state)) {
    _$jscoverage['js/vs_fx.js'][2572]++;
    state = this._fsm._list_of_state[state_id];
    _$jscoverage['js/vs_fx.js'][2573]++;
    if ((! state)) {
      _$jscoverage['js/vs_fx.js'][2575]++;
      console.error("Unknown error in vs.fx.StackController.push");
      _$jscoverage['js/vs_fx.js'][2576]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][2578]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][2580]++;
      state.comp = this._owner.createAndAddComponent(state.comp_name, state.init_data, extension);
      _$jscoverage['js/vs_fx.js'][2583]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][2584]++;
      state.comp.setStyle("position", "absolute");
      _$jscoverage['js/vs_fx.js'][2585]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][2587]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][2589]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][2592]++;
    state.comp.show();
  }
  _$jscoverage['js/vs_fx.js'][2595]++;
  this._last_comp_id = state_id;
  _$jscoverage['js/vs_fx.js'][2596]++;
  return state_id;
}), _updateViewSize: (function () {
}), remove: (function (comp) {
  _$jscoverage['js/vs_fx.js'][2622]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][2622]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2624]++;
  var state_id = null;
  _$jscoverage['js/vs_fx.js'][2625]++;
  if (util.isString(comp)) {
    _$jscoverage['js/vs_fx.js'][2626]++;
    state_id = comp;
  }
  else {
    _$jscoverage['js/vs_fx.js'][2627]++;
    if ((! util.isString(comp))) {
      _$jscoverage['js/vs_fx.js'][2628]++;
      state_id = comp.id;
    }
  }
  _$jscoverage['js/vs_fx.js'][2630]++;
  var pos = this._states_array.findItem(state_id);
  _$jscoverage['js/vs_fx.js'][2631]++;
  if ((pos === -1)) {
    _$jscoverage['js/vs_fx.js'][2631]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2633]++;
  this._fsm.removeTransitionTo(state_id, StackController.NEXT);
  _$jscoverage['js/vs_fx.js'][2634]++;
  this._fsm.removeTransitionFrom(state_id, StackController.PRED);
  _$jscoverage['js/vs_fx.js'][2635]++;
  this._fsm.removeTransitionFrom(state_id, StackController.FIRST);
  _$jscoverage['js/vs_fx.js'][2637]++;
  this._states_array.remove(pos);
  _$jscoverage['js/vs_fx.js'][2639]++;
  (this.__nb_panels--);
  _$jscoverage['js/vs_fx.js'][2640]++;
  var state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][2642]++;
  if (((pos === 0) && (this.__nb_panels > 0))) {
    _$jscoverage['js/vs_fx.js'][2644]++;
    this._initial_component = this._states_array[0];
    _$jscoverage['js/vs_fx.js'][2647]++;
    for (var state_id_temp in this._states_array) {
      _$jscoverage['js/vs_fx.js'][2649]++;
      if ((state_id_temp === state_id)) {
        _$jscoverage['js/vs_fx.js'][2649]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2650]++;
      if ((state_id_temp === this._initial_component)) {
        _$jscoverage['js/vs_fx.js'][2650]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2652]++;
      this._fsm.removeTransitionFrom(state_id_temp, StackController.FIRST);
      _$jscoverage['js/vs_fx.js'][2653]++;
      this.addTransition(state_id_temp, this._initial_component, StackController.FIRST);
}
  }
  _$jscoverage['js/vs_fx.js'][2657]++;
  if ((this.__nb_panels === 0)) {
    _$jscoverage['js/vs_fx.js'][2659]++;
    this._initial_component = undefined;
    _$jscoverage['js/vs_fx.js'][2660]++;
    this._fsm._current_state = undefined;
  }
  _$jscoverage['js/vs_fx.js'][2663]++;
  if (this._initial_component) {
    _$jscoverage['js/vs_fx.js'][2665]++;
    if ((this._fsm._current_state === state_id)) {
      _$jscoverage['js/vs_fx.js'][2667]++;
      if ((pos === 0)) {
        _$jscoverage['js/vs_fx.js'][2669]++;
        this._fsm.goTo(this._initial_component);
      }
      else {
        _$jscoverage['js/vs_fx.js'][2673]++;
        if ((pos === this._states_array.length)) {
          _$jscoverage['js/vs_fx.js'][2673]++;
          (pos--);
        }
        _$jscoverage['js/vs_fx.js'][2674]++;
        this._fsm.goTo(this._states_array[pos]);
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][2679]++;
      this._fsm.goTo(this._fsm._current_state);
    }
  }
  _$jscoverage['js/vs_fx.js'][2682]++;
  Controller.prototype.remove.call(this, comp);
}), orientationDidChange: (function (orientation) {
  _$jscoverage['js/vs_fx.js'][2693]++;
  this._updateViewSize();
}), goToViewId: (function (id, instant) {
  _$jscoverage['js/vs_fx.js'][2710]++;
  var pos = this._states_array.findItem(id);
  _$jscoverage['js/vs_fx.js'][2711]++;
  if ((pos === -1)) {
    _$jscoverage['js/vs_fx.js'][2711]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][2713]++;
  this.goToViewAt(pos, instant);
}), goToViewAt: (function (pos, instant) {
  _$jscoverage['js/vs_fx.js'][2726]++;
  if ((pos < 0)) {
    _$jscoverage['js/vs_fx.js'][2726]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][2727]++;
  if ((pos > this._states_array.length)) {
    _$jscoverage['js/vs_fx.js'][2727]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][2729]++;
  var current_pos = this._states_array.findItem(this._fsm._current_state);
  _$jscoverage['js/vs_fx.js'][2730]++;
  if ((current_pos === pos)) {
    _$jscoverage['js/vs_fx.js'][2730]++;
    return true;
  }
  _$jscoverage['js/vs_fx.js'][2732]++;
  if ((pos > current_pos)) {
    _$jscoverage['js/vs_fx.js'][2734]++;
    while ((current_pos < (pos - 1))) {
      _$jscoverage['js/vs_fx.js'][2736]++;
      this._fsm.fsmNotify(StackController.NEXT, null, true);
      _$jscoverage['js/vs_fx.js'][2737]++;
      (current_pos++);
}
    _$jscoverage['js/vs_fx.js'][2739]++;
    return this._fsm.fsmNotify(StackController.NEXT, instant);
  }
  else {
    _$jscoverage['js/vs_fx.js'][2743]++;
    while (((pos + 1) < current_pos)) {
      _$jscoverage['js/vs_fx.js'][2745]++;
      this._fsm.fsmNotify(StackController.PRED, null, true);
      _$jscoverage['js/vs_fx.js'][2746]++;
      (current_pos--);
}
    _$jscoverage['js/vs_fx.js'][2748]++;
    return this._fsm.fsmNotify(StackController.PRED, instant);
  }
}), goToNextView: (function (instant) {
  _$jscoverage['js/vs_fx.js'][2762]++;
  return this._fsm.fsmNotify(StackController.NEXT, null, instant);
}), goToPreviousView: (function (instant) {
  _$jscoverage['js/vs_fx.js'][2775]++;
  return this._fsm.fsmNotify(StackController.PRED, null, instant);
}), goToFirstView: (function (instant) {
  _$jscoverage['js/vs_fx.js'][2788]++;
  return this._fsm.fsmNotify(StackController.FIRST, instant);
}), handleEvent: (function (event) {
})};
  _$jscoverage['js/vs_fx.js'][2798]++;
  util.extendClass(StackController, Controller);
  _$jscoverage['js/vs_fx.js'][2804]++;
  util.defineClassProperties(StackController, {"viewSize": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][2815]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][2815]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2816]++;
  if (((! util.isArray(v)) || (v.length !== 2))) {
    _$jscoverage['js/vs_fx.js'][2816]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2817]++;
  if (((! util.isNumber(v[0])) || (! util.isNumber(v[1])))) {
    _$jscoverage['js/vs_fx.js'][2817]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2819]++;
  if ((! this._view_size)) {
    _$jscoverage['js/vs_fx.js'][2820]++;
    this._view_size = [];
  }
  _$jscoverage['js/vs_fx.js'][2822]++;
  this._view_size[0] = v[0];
  _$jscoverage['js/vs_fx.js'][2823]++;
  this._view_size[1] = v[1];
  _$jscoverage['js/vs_fx.js'][2825]++;
  this._updateViewSize();
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][2834]++;
  if ((! this._view_size)) {
    _$jscoverage['js/vs_fx.js'][2836]++;
    return this._owner.size;
  }
  _$jscoverage['js/vs_fx.js'][2838]++;
  return this._view_size.slice();
})}, "isTactile": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][2849]++;
  if (v) {
    _$jscoverage['js/vs_fx.js'][2851]++;
    this._is_tactile = true;
    _$jscoverage['js/vs_fx.js'][2852]++;
    if (((! this._owner) || (! this._owner.view))) {
      _$jscoverage['js/vs_fx.js'][2852]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][2854]++;
    if ((! this._owner_handler_event_extended)) {
      _$jscoverage['js/vs_fx.js'][2856]++;
      this._owner.view.addEventListener(core.POINTER_START, this._owner, false);
      _$jscoverage['js/vs_fx.js'][2857]++;
      this._owner_handler_event = this._owner.handleEvent;
      _$jscoverage['js/vs_fx.js'][2858]++;
      this._owner.handleEvent = this.handleEvent;
    }
    _$jscoverage['js/vs_fx.js'][2860]++;
    this._owner_handler_event_extended = true;
  }
  else {
    _$jscoverage['js/vs_fx.js'][2864]++;
    this._is_tactile = false;
    _$jscoverage['js/vs_fx.js'][2865]++;
    if (((! this._owner) || (! this._owner.view))) {
      _$jscoverage['js/vs_fx.js'][2865]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][2867]++;
    if (this._owner_handler_event_extended) {
      _$jscoverage['js/vs_fx.js'][2869]++;
      this._owner.view.removeEventListener(core.POINTER_START, this._owner, false);
      _$jscoverage['js/vs_fx.js'][2870]++;
      this._owner.handleEvent = this._owner_handler_event;
      _$jscoverage['js/vs_fx.js'][2872]++;
      this._owner_handler_event_extended = false;
    }
  }
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][2883]++;
  return this._is_tactile;
})}, "animationDuration": {set: (function (time) {
  _$jscoverage['js/vs_fx.js'][2894]++;
  if ((! time)) {
    _$jscoverage['js/vs_fx.js'][2894]++;
    time = 0;
  }
  _$jscoverage['js/vs_fx.js'][2895]++;
  if ((! util.isNumber(time))) {
    _$jscoverage['js/vs_fx.js'][2895]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2895]++;
  ;
  _$jscoverage['js/vs_fx.js'][2897]++;
  this._animation_duration = time;
})}});
  _$jscoverage['js/vs_fx.js'][2905]++;
  fx.StackController = StackController;
  _$jscoverage['js/vs_fx.js'][2982]++;
  function SlideController(owner) {
    _$jscoverage['js/vs_fx.js'][2984]++;
    this.parent = StackController;
    _$jscoverage['js/vs_fx.js'][2985]++;
    this.parent(owner);
    _$jscoverage['js/vs_fx.js'][2986]++;
    this.constructor = SlideController;
    _$jscoverage['js/vs_fx.js'][2988]++;
    if ((! arguments.length)) {
      _$jscoverage['js/vs_fx.js'][2988]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][2990]++;
    this._transition_out_1 = new TranslateAnimation(0, 0, 0);
    _$jscoverage['js/vs_fx.js'][2991]++;
    this._transition_out_2 = new TranslateAnimation(0, 0, 0);
    _$jscoverage['js/vs_fx.js'][2992]++;
    this._transition_clear = new TranslateAnimation(0, 0, 0);
    _$jscoverage['js/vs_fx.js'][2994]++;
    this.animationDuration = SlideController.ANIMATION_DURATION;
}
  _$jscoverage['js/vs_fx.js'][3002]++;
  SlideController.ANIMATION_DURATION = 500;
  _$jscoverage['js/vs_fx.js'][3010]++;
  SlideController.HORIZONTAL = 0;
  _$jscoverage['js/vs_fx.js'][3018]++;
  SlideController.VERTICAL = 1;
  _$jscoverage['js/vs_fx.js'][3020]++;
  SlideController.prototype = {_delta: 0, _orientation: SlideController.HORIZONTAL, _transition_out_1: null, _transition_out_2: null, _transition_clear: null, _updateViewSize: (function () {
  _$jscoverage['js/vs_fx.js'][3069]++;
  var size = this.viewSize, i, state_id, state, transform;
  _$jscoverage['js/vs_fx.js'][3070]++;
  if ((this._orientation === SlideController.HORIZONTAL)) {
    _$jscoverage['js/vs_fx.js'][3072]++;
    this._transition_out_1.x = (- size[0]);
    _$jscoverage['js/vs_fx.js'][3073]++;
    this._transition_out_1.y = 0;
    _$jscoverage['js/vs_fx.js'][3074]++;
    this._transition_out_2.x = size[0];
    _$jscoverage['js/vs_fx.js'][3075]++;
    this._transition_out_2.y = 0;
  }
  else {
    _$jscoverage['js/vs_fx.js'][3077]++;
    if ((this._orientation === SlideController.VERTICAL)) {
      _$jscoverage['js/vs_fx.js'][3079]++;
      this._transition_out_1.x = 0;
      _$jscoverage['js/vs_fx.js'][3080]++;
      this._transition_out_1.y = (- size[1]);
      _$jscoverage['js/vs_fx.js'][3081]++;
      this._transition_out_2.x = 0;
      _$jscoverage['js/vs_fx.js'][3082]++;
      this._transition_out_2.y = size[1];
    }
  }
  _$jscoverage['js/vs_fx.js'][3086]++;
  if ((this._orientation === SlideController.HORIZONTAL)) {
    _$jscoverage['js/vs_fx.js'][3088]++;
    transform = ("translate3D(-" + size[0] + "px,0,0)");
  }
  else {
    _$jscoverage['js/vs_fx.js'][3090]++;
    if ((this._orientation === SlideController.VERTICAL)) {
      _$jscoverage['js/vs_fx.js'][3092]++;
      transform = ("translate3D(0,-" + size[1] + "px,0)");
    }
  }
  _$jscoverage['js/vs_fx.js'][3095]++;
  for (i = 0; (i < this._states_array.length); (i++)) {
    _$jscoverage['js/vs_fx.js'][3097]++;
    state_id = this._states_array[i];
    _$jscoverage['js/vs_fx.js'][3098]++;
    state = this._fsm._list_of_state[state_id];
    _$jscoverage['js/vs_fx.js'][3100]++;
    if (((! state) || (! state.comp))) {
      _$jscoverage['js/vs_fx.js'][3100]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3102]++;
    if ((this._fsm._current_state === state_id)) {
      _$jscoverage['js/vs_fx.js'][3105]++;
      if ((this._orientation === SlideController.HORIZONTAL)) {
        _$jscoverage['js/vs_fx.js'][3107]++;
        transform = ("translate3D(" + size[0] + "px,0,0)");
      }
      else {
        _$jscoverage['js/vs_fx.js'][3109]++;
        if ((this._orientation === SlideController.VERTICAL)) {
          _$jscoverage['js/vs_fx.js'][3111]++;
          transform = ("translate3D(0," + size[1] + "px,0)");
        }
      }
      _$jscoverage['js/vs_fx.js'][3115]++;
      state.comp.view.style.webkitTransitionDuration = "0";
      _$jscoverage['js/vs_fx.js'][3116]++;
      setElementTransform(state.comp.view, "translate3D(0,0,0)");
      _$jscoverage['js/vs_fx.js'][3117]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3120]++;
    state.comp.view.style.webkitTransitionDuration = "0";
    _$jscoverage['js/vs_fx.js'][3121]++;
    setElementTransform(state.comp.view, transform);
}
}), push: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][3152]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][3152]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3153]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][3153]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][3155]++;
  var state_id = Controller.prototype.push.call(this, comp, data, extension, bindings);
  _$jscoverage['js/vs_fx.js'][3157]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][3157]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3159]++;
  this._states_array.push(state_id);
  _$jscoverage['js/vs_fx.js'][3160]++;
  (this.__nb_panels++);
  _$jscoverage['js/vs_fx.js'][3163]++;
  if ((this.__nb_panels === 1)) {
    _$jscoverage['js/vs_fx.js'][3165]++;
    this.initialComponent = state_id;
    _$jscoverage['js/vs_fx.js'][3166]++;
    this._last_comp_id = state_id;
    _$jscoverage['js/vs_fx.js'][3168]++;
    return state_id;
  }
  _$jscoverage['js/vs_fx.js'][3171]++;
  this.addTransition(this._last_comp_id, state_id, StackController.NEXT, this._transition_out_1, this._transition_clear);
  _$jscoverage['js/vs_fx.js'][3173]++;
  this.addTransition(state_id, this._last_comp_id, StackController.PRED, this._transition_out_2, this._transition_clear);
  _$jscoverage['js/vs_fx.js'][3179]++;
  state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][3180]++;
  if ((! state)) {
    _$jscoverage['js/vs_fx.js'][3182]++;
    console.error("Unknown error in vs.fx.StackController.push");
    _$jscoverage['js/vs_fx.js'][3183]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3185]++;
  if ((this._last_comp_id === this._initial_component)) {
    _$jscoverage['js/vs_fx.js'][3187]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][3189]++;
      state.comp = this._owner.createAndAddComponent(state.comp_name, state.init_data, extension);
      _$jscoverage['js/vs_fx.js'][3192]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][3193]++;
      state.comp.setStyle("position", "absolute");
      _$jscoverage['js/vs_fx.js'][3194]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][3196]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][3198]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][3201]++;
    state.comp.show();
    _$jscoverage['js/vs_fx.js'][3202]++;
    state.comp.setStyle("z-index", this.__nb_panels);
    _$jscoverage['js/vs_fx.js'][3203]++;
    this.configureNewComponent(state.comp);
  }
  else {
    _$jscoverage['js/vs_fx.js'][3207]++;
    if (state.comp) {
      _$jscoverage['js/vs_fx.js'][3209]++;
      state.comp.setStyle("z-index", this.__nb_panels);
      _$jscoverage['js/vs_fx.js'][3210]++;
      this.configureNewComponent(state.comp);
    }
  }
  _$jscoverage['js/vs_fx.js'][3214]++;
  this._last_comp_id = state_id;
  _$jscoverage['js/vs_fx.js'][3215]++;
  return state_id;
}), configureNewComponent: (function (comp) {
  _$jscoverage['js/vs_fx.js'][3224]++;
  var transform, size;
  _$jscoverage['js/vs_fx.js'][3225]++;
  size = this.viewSize;
  _$jscoverage['js/vs_fx.js'][3226]++;
  if ((this._orientation === SlideController.HORIZONTAL)) {
    _$jscoverage['js/vs_fx.js'][3228]++;
    transform = ("translate3D(" + size[0] + "px,0,0)");
  }
  else {
    _$jscoverage['js/vs_fx.js'][3230]++;
    if ((this._orientation === SlideController.VERTICAL)) {
      _$jscoverage['js/vs_fx.js'][3232]++;
      transform = ("translate3D(0," + size[1] + "px,0)");
    }
  }
  _$jscoverage['js/vs_fx.js'][3235]++;
  comp.view.style.webkitTransitionDuration = "0";
  _$jscoverage['js/vs_fx.js'][3236]++;
  setElementTransform(comp.view, transform);
}), handleEvent: (function (event) {
  _$jscoverage['js/vs_fx.js'][3248]++;
  var t_ok = false, size = this.size, duration = this.__controller__._animation_duration;
  _$jscoverage['js/vs_fx.js'][3251]++;
  if ((event.type === core.POINTER_START)) {
    _$jscoverage['js/vs_fx.js'][3253]++;
    if ((this.__controller__._orientation === SlideController.HORIZONTAL)) {
      _$jscoverage['js/vs_fx.js'][3255]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][3256]++;
        this.__pos = event.changedTouches[0].clientX;
      }
      else {
        _$jscoverage['js/vs_fx.js'][3258]++;
        this.__pos = event.clientX;
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][3262]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][3263]++;
        this.__pos = event.changedTouches[0].clientY;
      }
      else {
        _$jscoverage['js/vs_fx.js'][3265]++;
        this.__pos = event.clientY;
      }
    }
    _$jscoverage['js/vs_fx.js'][3268]++;
    document.addEventListener(core.POINTER_END, this, true);
    _$jscoverage['js/vs_fx.js'][3269]++;
    document.addEventListener(core.POINTER_MOVE, this, true);
    _$jscoverage['js/vs_fx.js'][3271]++;
    this.animationDuration = 0;
    _$jscoverage['js/vs_fx.js'][3272]++;
    this.__delta = 0;
  }
  else {
    _$jscoverage['js/vs_fx.js'][3274]++;
    if ((event.type === core.POINTER_MOVE)) {
      _$jscoverage['js/vs_fx.js'][3276]++;
      event.preventDefault();
      _$jscoverage['js/vs_fx.js'][3277]++;
      if ((this.__controller__._orientation === SlideController.HORIZONTAL)) {
        _$jscoverage['js/vs_fx.js'][3279]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][3280]++;
          this.__delta = (event.changedTouches[0].clientX - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][3282]++;
          this.__delta = (event.clientX - this.__pos);
        }
      }
      else {
        _$jscoverage['js/vs_fx.js'][3286]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][3287]++;
          this.__delta = (event.changedTouches[0].clientY - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][3289]++;
          this.__delta = (event.clientY - this.__pos);
        }
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][3292]++;
      if ((event.type === core.POINTER_END)) {
        _$jscoverage['js/vs_fx.js'][3294]++;
        if ((this.__delta > 50)) {
          _$jscoverage['js/vs_fx.js'][3296]++;
          t_ok = this.__controller__.goToPreviousView();
        }
        else {
          _$jscoverage['js/vs_fx.js'][3298]++;
          if ((this.__delta < -50)) {
            _$jscoverage['js/vs_fx.js'][3300]++;
            t_ok = this.__controller__.goToNextView();
          }
        }
        _$jscoverage['js/vs_fx.js'][3302]++;
        if ((! t_ok)) {
          _$jscoverage['js/vs_fx.js'][3304]++;
          if ((this.__controller__._orientation === SlideController.HORIZONTAL)) {
            _$jscoverage['js/vs_fx.js'][3306]++;
            duration = Math.floor(((duration * this.__delta) / size[0]));
            _$jscoverage['js/vs_fx.js'][3307]++;
            this.animationDuration = duration;
          }
          else {
            _$jscoverage['js/vs_fx.js'][3311]++;
            duration = Math.floor(((duration * this.__delta) / size[1]));
            _$jscoverage['js/vs_fx.js'][3312]++;
            this.animationDuration = duration;
          }
        }
        _$jscoverage['js/vs_fx.js'][3316]++;
        document.removeEventListener(core.POINTER_END, this, true);
        _$jscoverage['js/vs_fx.js'][3317]++;
        document.removeEventListener(core.POINTER_MOVE, this, true);
      }
    }
  }
}), refresh: (function () {
  _$jscoverage['js/vs_fx.js'][3327]++;
  StackController.prototype.refresh.call(this);
  _$jscoverage['js/vs_fx.js'][3328]++;
  this._updateViewSize();
})};
  _$jscoverage['js/vs_fx.js'][3439]++;
  util.extendClass(SlideController, StackController);
  _$jscoverage['js/vs_fx.js'][3445]++;
  util.defineClassProperties(SlideController, {"orientation": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][3456]++;
  var state, state_id, i = 0, pos = 0;
  _$jscoverage['js/vs_fx.js'][3458]++;
  if (((v !== SlideController.HORIZONTAL) && (v !== SlideController.VERTICAL))) {
    _$jscoverage['js/vs_fx.js'][3459]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3461]++;
  this._orientation = v;
  _$jscoverage['js/vs_fx.js'][3462]++;
  this._updateViewSize();
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][3471]++;
  return this._orientation;
})}, "animationDuration": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][3482]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][3482]++;
    v = 0;
  }
  _$jscoverage['js/vs_fx.js'][3483]++;
  if ((! util.isNumber(v))) {
    _$jscoverage['js/vs_fx.js'][3483]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3483]++;
  ;
  _$jscoverage['js/vs_fx.js'][3485]++;
  this._animation_duration = v;
  _$jscoverage['js/vs_fx.js'][3486]++;
  this._transition_out_1.duration = (this._animation_duration + "ms");
  _$jscoverage['js/vs_fx.js'][3487]++;
  this._transition_out_2.duration = (this._animation_duration + "ms");
  _$jscoverage['js/vs_fx.js'][3488]++;
  this._transition_clear.duration = (this._animation_duration + "ms");
})}});
  _$jscoverage['js/vs_fx.js'][3496]++;
  fx.SlideController = SlideController;
  _$jscoverage['js/vs_fx.js'][3618]++;
  function NavigationController(owner, navBar, type) {
    _$jscoverage['js/vs_fx.js'][3620]++;
    this.parent = Controller;
    _$jscoverage['js/vs_fx.js'][3621]++;
    this.parent(owner);
    _$jscoverage['js/vs_fx.js'][3622]++;
    this.constructor = NavigationController;
    _$jscoverage['js/vs_fx.js'][3624]++;
    if ((! arguments.length)) {
      _$jscoverage['js/vs_fx.js'][3624]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][3626]++;
    if (((type == NavigationController.NO_ANIMATION) || (type == NavigationController.CARD_ANIMATION) || (type == NavigationController.SLIDE_ANIMATION))) {
      _$jscoverage['js/vs_fx.js'][3629]++;
      this._animation_type = type;
    }
    else {
      _$jscoverage['js/vs_fx.js'][3632]++;
      this._animation_type = NavigationController.DEFAULT_ANIMATION;
    }
    _$jscoverage['js/vs_fx.js'][3634]++;
    this.setNavigationBar(navBar);
    _$jscoverage['js/vs_fx.js'][3636]++;
    this.__nav_bar_states = {};
}
  _$jscoverage['js/vs_fx.js'][3648]++;
  NavigationController.NO_ANIMATION = 0;
  _$jscoverage['js/vs_fx.js'][3655]++;
  NavigationController.CARD_ANIMATION = 1;
  _$jscoverage['js/vs_fx.js'][3664]++;
  NavigationController.SLIDE_ANIMATION = 2;
  _$jscoverage['js/vs_fx.js'][3671]++;
  NavigationController.DEFAULT_ANIMATION = NavigationController.SLIDE_ANIMATION;
  _$jscoverage['js/vs_fx.js'][3677]++;
  NavigationController.BACK = "back";
  _$jscoverage['js/vs_fx.js'][3679]++;
  NavigationController.prototype = {_nav_bar: null, __nav_bar_states: null, _animation_type: NavigationController.DEFAULT_ANIMATION, destructor: (function () {
  _$jscoverage['js/vs_fx.js'][3709]++;
  Controller.prototype.destructor.call(this);
}), initComponent: (function () {
  _$jscoverage['js/vs_fx.js'][3718]++;
  Controller.prototype.initComponent.call(this);
  _$jscoverage['js/vs_fx.js'][3720]++;
  var size = this._owner.size;
  _$jscoverage['js/vs_fx.js'][3722]++;
  this.__translate_in_right = new TranslateAnimation(0);
  _$jscoverage['js/vs_fx.js'][3723]++;
  this.__translate_out_right = new TranslateAnimation(size[0]);
  _$jscoverage['js/vs_fx.js'][3724]++;
  this.__translate_out_left = new TranslateAnimation((- size[0]));
  _$jscoverage['js/vs_fx.js'][3725]++;
  this.__translate_in_left = new TranslateAnimation(0);
}), setNavigationBar: (function (navBar) {
  _$jscoverage['js/vs_fx.js'][3738]++;
  if (((! navBar) || ((! navBar) instanceof ui.NavigationBar))) {
    _$jscoverage['js/vs_fx.js'][3738]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3740]++;
  this._nav_bar = navBar;
}), refresh: (function () {
  _$jscoverage['js/vs_fx.js'][3749]++;
  Controller.prototype.refresh.call(this);
  _$jscoverage['js/vs_fx.js'][3750]++;
  this._updateViewSize();
}), _updateViewSize: (function () {
  _$jscoverage['js/vs_fx.js'][3759]++;
  var size = this.viewSize, i, state_id, state, transform;
  _$jscoverage['js/vs_fx.js'][3761]++;
  this.__translate_out_left.x = (- size[0]);
  _$jscoverage['js/vs_fx.js'][3762]++;
  this.__translate_out_right.x = size[0];
}), push: (function (comp, data, bindings) {
  _$jscoverage['js/vs_fx.js'][3802]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][3802]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3803]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][3803]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][3805]++;
  var size, state_id = Controller.prototype.push.call(this, comp, data, null, bindings);
  _$jscoverage['js/vs_fx.js'][3807]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][3807]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3809]++;
  var state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][3810]++;
  if ((state && state.comp)) {
    _$jscoverage['js/vs_fx.js'][3812]++;
    this.configureNewComponent(state.comp);
  }
  _$jscoverage['js/vs_fx.js'][3815]++;
  return state_id;
}), configureNavigationBarState: (function (state_id, configurations) {
  _$jscoverage['js/vs_fx.js'][3829]++;
  var state = this._fsm._list_of_state[state_id], comp, i, l, conf, components = [], state_conf = {};
  _$jscoverage['js/vs_fx.js'][3831]++;
  if (((! state) || (! configurations))) {
    _$jscoverage['js/vs_fx.js'][3832]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3834]++;
  for (((i = 0), (l = configurations.length)); (i < l); (i++)) {
    _$jscoverage['js/vs_fx.js'][3836]++;
    conf = configurations[i];
    _$jscoverage['js/vs_fx.js'][3837]++;
    if ((! conf)) {
      _$jscoverage['js/vs_fx.js'][3837]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3839]++;
    comp = conf.comp;
    _$jscoverage['js/vs_fx.js'][3840]++;
    if ((! comp)) {
      _$jscoverage['js/vs_fx.js'][3840]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3843]++;
    if (util.isString(comp)) {
      _$jscoverage['js/vs_fx.js'][3844]++;
      comp = core.Object._obs[comp];
    }
    _$jscoverage['js/vs_fx.js'][3846]++;
    if (((! comp) instanceof vs.ui.View)) {
      _$jscoverage['js/vs_fx.js'][3847]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3849]++;
    components.push(comp);
    _$jscoverage['js/vs_fx.js'][3850]++;
    if (conf.properties) {
      _$jscoverage['js/vs_fx.js'][3852]++;
      state_conf[comp.id] = conf.properties;
    }
}
  _$jscoverage['js/vs_fx.js'][3856]++;
  this.__nav_bar_states[state_id] = state_conf;
  _$jscoverage['js/vs_fx.js'][3857]++;
  if (this._nav_bar) {
    _$jscoverage['js/vs_fx.js'][3859]++;
    this._nav_bar.setStateItems(state_id, components);
  }
}), configureTransition: (function (from, to, on) {
  _$jscoverage['js/vs_fx.js'][3879]++;
  if (((! from) || (! this._fsm.existState(from)))) {
    _$jscoverage['js/vs_fx.js'][3879]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3880]++;
  if (((! to) || (! this._fsm.existState(to)))) {
    _$jscoverage['js/vs_fx.js'][3880]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3881]++;
  if ((! on)) {
    _$jscoverage['js/vs_fx.js'][3881]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3883]++;
  if ((! this._fsm.existInput(on))) {
    _$jscoverage['js/vs_fx.js'][3883]++;
    this._fsm.addInput(on);
  }
  _$jscoverage['js/vs_fx.js'][3885]++;
  if ((this._animation_type === NavigationController.SLIDE_ANIMATION)) {
    _$jscoverage['js/vs_fx.js'][3887]++;
    this.addTransition(from, to, on, this.__translate_out_left, this.__translate_in_right);
    _$jscoverage['js/vs_fx.js'][3890]++;
    this.addTransition(to, from, NavigationController.BACK, this.__translate_out_right, this.__translate_in_left);
    _$jscoverage['js/vs_fx.js'][3893]++;
    this.__translate_in_left.duration = "300ms";
    _$jscoverage['js/vs_fx.js'][3894]++;
    this.__translate_out_left.duration = "300ms";
    _$jscoverage['js/vs_fx.js'][3895]++;
    this.__translate_in_right.duration = "300ms";
    _$jscoverage['js/vs_fx.js'][3896]++;
    this.__translate_out_right.duration = "300ms";
  }
  else {
    _$jscoverage['js/vs_fx.js'][3898]++;
    if ((this._animation_type === NavigationController.CARD_ANIMATION)) {
      _$jscoverage['js/vs_fx.js'][3900]++;
      this.addTransition(from, to, on, null, this.__translate_in_right);
      _$jscoverage['js/vs_fx.js'][3903]++;
      this.addTransition(to, from, NavigationController.BACK, this.__translate_out_right, null);
      _$jscoverage['js/vs_fx.js'][3906]++;
      this.__translate_in_right.duration = "300ms";
      _$jscoverage['js/vs_fx.js'][3907]++;
      this.__translate_out_right.duration = "300ms";
    }
    else {
      _$jscoverage['js/vs_fx.js'][3911]++;
      this.addTransition(from, to, on, null, this.__translate_in_right);
      _$jscoverage['js/vs_fx.js'][3914]++;
      this.addTransition(to, from, NavigationController.BACK, this.__translate_out_right, null);
      _$jscoverage['js/vs_fx.js'][3917]++;
      this.__translate_in_right.duration = "0";
      _$jscoverage['js/vs_fx.js'][3918]++;
      this.__translate_out_right.duration = "0";
    }
  }
}), configureNewComponent: (function (comp) {
  _$jscoverage['js/vs_fx.js'][3933]++;
  var size = this.viewSize;
  _$jscoverage['js/vs_fx.js'][3935]++;
  comp.translation = [size[0], 0];
}), goTo: (function (state_id, output, event, instant) {
  _$jscoverage['js/vs_fx.js'][3953]++;
  var ok = Controller.prototype.goTo.call(this, state_id, output, event, instant);
  _$jscoverage['js/vs_fx.js'][3956]++;
  if ((ok && this.owner._nav_bar)) {
    _$jscoverage['js/vs_fx.js'][3958]++;
    this.owner._nav_bar.changeState(state_id, this.owner.__nav_bar_states[state_id]);
  }
})};
  _$jscoverage['js/vs_fx.js'][3963]++;
  util.extendClass(NavigationController, StackController);
  _$jscoverage['js/vs_fx.js'][3969]++;
  util.defineClassProperties(NavigationController, {"viewSize": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][3979]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][3979]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3980]++;
  if (((! util.isArray(v)) || (v.length !== 2))) {
    _$jscoverage['js/vs_fx.js'][3980]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3981]++;
  if (((! util.isNumber(v[0])) || (! util.isNumber(v[1])))) {
    _$jscoverage['js/vs_fx.js'][3981]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3983]++;
  if ((! this._view_size)) {
    _$jscoverage['js/vs_fx.js'][3984]++;
    this._view_size = [];
  }
  _$jscoverage['js/vs_fx.js'][3986]++;
  this._view_size[0] = v[0];
  _$jscoverage['js/vs_fx.js'][3987]++;
  this._view_size[1] = v[1];
  _$jscoverage['js/vs_fx.js'][3989]++;
  this._updateViewSize();
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][3998]++;
  if ((! this._view_size)) {
    _$jscoverage['js/vs_fx.js'][4000]++;
    return this._owner.size;
  }
  _$jscoverage['js/vs_fx.js'][4002]++;
  return this._view_size.slice();
})}, "initialComponent": {set: (function (comp_id) {
  _$jscoverage['js/vs_fx.js'][4015]++;
  if ((! comp_id)) {
    _$jscoverage['js/vs_fx.js'][4017]++;
    this._initial_component = undefined;
    _$jscoverage['js/vs_fx.js'][4018]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4021]++;
  if ((! this._fsm.existState(comp_id))) {
    _$jscoverage['js/vs_fx.js'][4021]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4024]++;
  this._initial_component = comp_id;
  _$jscoverage['js/vs_fx.js'][4025]++;
  this._fsm.initialState = comp_id;
  _$jscoverage['js/vs_fx.js'][4027]++;
  this._fsm.goTo(comp_id);
  _$jscoverage['js/vs_fx.js'][4028]++;
  var state = this._fsm._list_of_state[comp_id];
  _$jscoverage['js/vs_fx.js'][4029]++;
  if ((state && state.comp)) {
    _$jscoverage['js/vs_fx.js'][4031]++;
    state.comp.translation = [0, 0];
  }
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][4040]++;
  return this._initial_component;
})}});
  _$jscoverage['js/vs_fx.js'][4048]++;
  fx.NavigationController = NavigationController;
  _$jscoverage['js/vs_fx.js'][4145]++;
  function CardController(owner) {
    _$jscoverage['js/vs_fx.js'][4147]++;
    this.parent = StackController;
    _$jscoverage['js/vs_fx.js'][4148]++;
    this.parent(owner);
    _$jscoverage['js/vs_fx.js'][4149]++;
    this.constructor = CardController;
    _$jscoverage['js/vs_fx.js'][4151]++;
    if (owner) {
      _$jscoverage['js/vs_fx.js'][4153]++;
      this._transition_out = new TranslateAnimation(0, 0, 0);
      _$jscoverage['js/vs_fx.js'][4154]++;
      this._transition_clear = new TranslateAnimation(0, 0, 0);
      _$jscoverage['js/vs_fx.js'][4156]++;
      this.animationDuration = CardController.ANIMATION_DURATION;
    }
}
  _$jscoverage['js/vs_fx.js'][4164]++;
  CardController.ANIMATION_DURATION = 500;
  _$jscoverage['js/vs_fx.js'][4171]++;
  CardController.LEFT_OUT = 0;
  _$jscoverage['js/vs_fx.js'][4178]++;
  CardController.RIGHT_OUT = 1;
  _$jscoverage['js/vs_fx.js'][4185]++;
  CardController.TOP_OUT = 2;
  _$jscoverage['js/vs_fx.js'][4192]++;
  CardController.BOTTOM_OUT = 3;
  _$jscoverage['js/vs_fx.js'][4194]++;
  CardController.prototype = {_direction: CardController.LEFT_OUT, _transition_out: null, _transition_clear: null, _updateViewSize: (function () {
  _$jscoverage['js/vs_fx.js'][4231]++;
  var size = this.viewSize;
  _$jscoverage['js/vs_fx.js'][4232]++;
  if ((! this._transition_out)) {
    _$jscoverage['js/vs_fx.js'][4232]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4234]++;
  if ((this._direction === CardController.LEFT_OUT)) {
    _$jscoverage['js/vs_fx.js'][4236]++;
    this._transition_out.x = (- size[0]);
    _$jscoverage['js/vs_fx.js'][4237]++;
    this._transition_out.y = 0;
  }
  else {
    _$jscoverage['js/vs_fx.js'][4239]++;
    if ((this._direction === CardController.RIGHT_OUT)) {
      _$jscoverage['js/vs_fx.js'][4241]++;
      this._transition_out.x = size[0];
      _$jscoverage['js/vs_fx.js'][4242]++;
      this._transition_out.y = 0;
    }
    else {
      _$jscoverage['js/vs_fx.js'][4244]++;
      if ((this._direction === CardController.BOTTOM_OUT)) {
        _$jscoverage['js/vs_fx.js'][4246]++;
        this._transition_out.x = 0;
        _$jscoverage['js/vs_fx.js'][4247]++;
        this._transition_out.y = size[1];
      }
      else {
        _$jscoverage['js/vs_fx.js'][4251]++;
        this._transition_out.x = 0;
        _$jscoverage['js/vs_fx.js'][4252]++;
        this._transition_out.y = (- size[1]);
      }
    }
  }
}), push: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][4287]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][4287]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4288]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][4288]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][4290]++;
  var state_id = Controller.prototype.push.call(this, comp, data, extension, bindings);
  _$jscoverage['js/vs_fx.js'][4292]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][4292]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4294]++;
  this._states_array.push(state_id);
  _$jscoverage['js/vs_fx.js'][4295]++;
  (this.__nb_panels++);
  _$jscoverage['js/vs_fx.js'][4298]++;
  if ((this.__nb_panels === 1)) {
    _$jscoverage['js/vs_fx.js'][4300]++;
    this.initialComponent = state_id;
    _$jscoverage['js/vs_fx.js'][4301]++;
    this._last_comp_id = state_id;
    _$jscoverage['js/vs_fx.js'][4303]++;
    return state_id;
  }
  _$jscoverage['js/vs_fx.js'][4306]++;
  this.addTransition(this._last_comp_id, state_id, StackController.NEXT, null, this._transition_clear);
  _$jscoverage['js/vs_fx.js'][4308]++;
  this.addTransition(state_id, this._last_comp_id, StackController.PRED, this._transition_out, null);
  _$jscoverage['js/vs_fx.js'][4314]++;
  state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][4315]++;
  if ((! state)) {
    _$jscoverage['js/vs_fx.js'][4317]++;
    console.error("Unknown error in vs.fx.StackController.push");
    _$jscoverage['js/vs_fx.js'][4318]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4320]++;
  if ((this._last_comp_id === this._initial_component)) {
    _$jscoverage['js/vs_fx.js'][4322]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][4324]++;
      state.comp = this._owner.createAndAddComponent(state.comp_name, state.init_data, extension);
      _$jscoverage['js/vs_fx.js'][4327]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][4328]++;
      state.comp.setStyle("position", "absolute");
      _$jscoverage['js/vs_fx.js'][4329]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][4331]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][4333]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][4336]++;
    state.comp.show();
    _$jscoverage['js/vs_fx.js'][4337]++;
    state.comp.setStyle("z-index", this.__nb_panels);
    _$jscoverage['js/vs_fx.js'][4338]++;
    this.configureNewComponent(state.comp);
  }
  else {
    _$jscoverage['js/vs_fx.js'][4342]++;
    if (state.comp) {
      _$jscoverage['js/vs_fx.js'][4344]++;
      state.comp.setStyle("z-index", this.__nb_panels);
      _$jscoverage['js/vs_fx.js'][4345]++;
      this.configureNewComponent(state.comp);
    }
  }
  _$jscoverage['js/vs_fx.js'][4349]++;
  this._last_comp_id = state_id;
  _$jscoverage['js/vs_fx.js'][4350]++;
  return state_id;
}), configureNewComponent: (function (comp) {
  _$jscoverage['js/vs_fx.js'][4359]++;
  var transform, size;
  _$jscoverage['js/vs_fx.js'][4360]++;
  size = this.viewSize;
  _$jscoverage['js/vs_fx.js'][4361]++;
  if (SUPPORT_3D_TRANSFORM) {
    _$jscoverage['js/vs_fx.js'][4361]++;
    transform = "translate3d";
  }
  else {
    _$jscoverage['js/vs_fx.js'][4362]++;
    transform = "translate";
  }
  _$jscoverage['js/vs_fx.js'][4363]++;
  if ((this._direction === CardController.LEFT_OUT)) {
    _$jscoverage['js/vs_fx.js'][4365]++;
    transform += ("(-" + size[0] + "px,0");
  }
  else {
    _$jscoverage['js/vs_fx.js'][4367]++;
    if ((this._direction === CardController.RIGHT_OUT)) {
      _$jscoverage['js/vs_fx.js'][4369]++;
      transform += ("(" + size[0] + "px,0");
    }
    else {
      _$jscoverage['js/vs_fx.js'][4371]++;
      if ((this._direction === CardController.BOTTOM_OUT)) {
        _$jscoverage['js/vs_fx.js'][4373]++;
        transform += ("(0," + size[1] + "px");
      }
      else {
        _$jscoverage['js/vs_fx.js'][4377]++;
        transform += ("(0,-" + size[1] + "px");
      }
    }
  }
  _$jscoverage['js/vs_fx.js'][4379]++;
  if (SUPPORT_3D_TRANSFORM) {
    _$jscoverage['js/vs_fx.js'][4379]++;
    transform += ",0)";
  }
  else {
    _$jscoverage['js/vs_fx.js'][4380]++;
    transform += ")";
  }
  _$jscoverage['js/vs_fx.js'][4382]++;
  comp.view.style.webkitTransitionDuration = "0";
  _$jscoverage['js/vs_fx.js'][4383]++;
  setElementTransform(comp.view, transform);
}), handleEvent: (function (event) {
  _$jscoverage['js/vs_fx.js'][4392]++;
  var t_ok = false, state, state_before_id, state_before, transform, index;
  _$jscoverage['js/vs_fx.js'][4394]++;
  if ((event.type === core.POINTER_START)) {
    _$jscoverage['js/vs_fx.js'][4396]++;
    if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.RIGHT_OUT))) {
      _$jscoverage['js/vs_fx.js'][4399]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][4400]++;
        this.__pos = event.changedTouches[0].clientX;
      }
      else {
        _$jscoverage['js/vs_fx.js'][4402]++;
        this.__pos = event.clientX;
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][4406]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][4407]++;
        this.__pos = event.changedTouches[0].clientY;
      }
      else {
        _$jscoverage['js/vs_fx.js'][4409]++;
        this.__pos = event.clientY;
      }
    }
    _$jscoverage['js/vs_fx.js'][4412]++;
    document.addEventListener(core.POINTER_END, this, true);
    _$jscoverage['js/vs_fx.js'][4413]++;
    document.addEventListener(core.POINTER_MOVE, this, true);
  }
  else {
    _$jscoverage['js/vs_fx.js'][4415]++;
    if ((event.type === core.POINTER_MOVE)) {
      _$jscoverage['js/vs_fx.js'][4417]++;
      event.preventDefault();
      _$jscoverage['js/vs_fx.js'][4418]++;
      state = this.__controller__._fsm._list_of_state[this.__controller__._fsm._current_state];
      _$jscoverage['js/vs_fx.js'][4420]++;
      index = this.__controller__._states_array.indexOf(this.__controller__._fsm._current_state);
      _$jscoverage['js/vs_fx.js'][4423]++;
      if ((index > 0)) {
        _$jscoverage['js/vs_fx.js'][4424]++;
        state_before_id = this.__controller__._states_array[(index - 1)];
      }
      _$jscoverage['js/vs_fx.js'][4426]++;
      if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.RIGHT_OUT))) {
        _$jscoverage['js/vs_fx.js'][4429]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][4430]++;
          this.__delta = (event.changedTouches[0].clientX - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4432]++;
          this.__delta = (event.clientX - this.__pos);
        }
        _$jscoverage['js/vs_fx.js'][4434]++;
        if (SUPPORT_3D_TRANSFORM) {
          _$jscoverage['js/vs_fx.js'][4435]++;
          transform = ("translate3d(" + this.__delta + "px,0px,0)");
        }
        else {
          _$jscoverage['js/vs_fx.js'][4436]++;
          transform = ("translate(" + this.__delta + "px,0px)");
        }
      }
      else {
        _$jscoverage['js/vs_fx.js'][4440]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][4441]++;
          this.__delta = (event.changedTouches[0].clientY - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4443]++;
          this.__delta = (event.clientY - this.__pos);
        }
        _$jscoverage['js/vs_fx.js'][4445]++;
        if (SUPPORT_3D_TRANSFORM) {
          _$jscoverage['js/vs_fx.js'][4446]++;
          transform = ("translate3d(0px," + this.__delta + "px,0)");
        }
        else {
          _$jscoverage['js/vs_fx.js'][4447]++;
          transform = ("translate(0px," + this.__delta + "px)");
        }
      }
      _$jscoverage['js/vs_fx.js'][4449]++;
      if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.TOP_OUT))) {
        _$jscoverage['js/vs_fx.js'][4452]++;
        if ((this.__delta < 0)) {
          _$jscoverage['js/vs_fx.js'][4454]++;
          state.comp.view.style.webkitTransitionDuration = 0;
          _$jscoverage['js/vs_fx.js'][4455]++;
          setElementTransform(state.comp.view, transform);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4457]++;
          if (state_before_id) {
            _$jscoverage['js/vs_fx.js'][4459]++;
            state_before = this.__controller__._fsm._list_of_state[state_before_id];
            _$jscoverage['js/vs_fx.js'][4461]++;
            if ((state_before && state_before.comp)) {
              _$jscoverage['js/vs_fx.js'][4463]++;
              if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.RIGHT_OUT))) {
                _$jscoverage['js/vs_fx.js'][4466]++;
                if (SUPPORT_3D_TRANSFORM) {
                  _$jscoverage['js/vs_fx.js'][4468]++;
                  transform = ("translate3d(" + (this.__delta - this._size[0]) + "px,0px,0)");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][4471]++;
                  transform = ("translate(" + (this.__delta - this._size[0]) + "px,0px)");
                }
              }
              else {
                _$jscoverage['js/vs_fx.js'][4476]++;
                if (SUPPORT_3D_TRANSFORM) {
                  _$jscoverage['js/vs_fx.js'][4478]++;
                  transform = ("translate3d(0px," + (this.__delta - this._size[1]) + "px,0)");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][4481]++;
                  transform = ("translate(0px," + (this.__delta - this._size[1]) + "px)");
                }
              }
              _$jscoverage['js/vs_fx.js'][4484]++;
              state_before.comp.view.style.webkitTransitionDuration = 0;
              _$jscoverage['js/vs_fx.js'][4485]++;
              setElementTransform(state_before.comp.view, transform);
            }
          }
        }
      }
      else {
        _$jscoverage['js/vs_fx.js'][4491]++;
        if ((this.__delta > 0)) {
          _$jscoverage['js/vs_fx.js'][4493]++;
          state.comp.view.style.webkitTransitionDuration = 0;
          _$jscoverage['js/vs_fx.js'][4494]++;
          setElementTransform(state.comp.view, transform);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4496]++;
          if (state_before_id) {
            _$jscoverage['js/vs_fx.js'][4498]++;
            state_before = this.__controller__._fsm._list_of_state[state_before_id];
            _$jscoverage['js/vs_fx.js'][4499]++;
            if ((state_before && state_before.comp)) {
              _$jscoverage['js/vs_fx.js'][4501]++;
              if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.RIGHT_OUT))) {
                _$jscoverage['js/vs_fx.js'][4504]++;
                if (SUPPORT_3D_TRANSFORM) {
                  _$jscoverage['js/vs_fx.js'][4506]++;
                  transform = ("translate3d(" + (this._size[0] + this.__delta) + "px,0px,0)");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][4509]++;
                  transform = ("translate(" + (this._size[0] + this.__delta) + "px,0px)");
                }
              }
              else {
                _$jscoverage['js/vs_fx.js'][4514]++;
                if (SUPPORT_3D_TRANSFORM) {
                  _$jscoverage['js/vs_fx.js'][4516]++;
                  transform = ("translate3d(0px," + (this._size[1] + this.__delta) + "px,0)");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][4519]++;
                  transform = ("translate(0px," + (this._size[1] + this.__delta) + "px)");
                }
              }
              _$jscoverage['js/vs_fx.js'][4522]++;
              state_before.comp.view.style.webkitTransitionDuration = 0;
              _$jscoverage['js/vs_fx.js'][4523]++;
              setElementTransform(state_before.comp.view, transform);
            }
          }
        }
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][4528]++;
      if ((event.type === core.POINTER_END)) {
        _$jscoverage['js/vs_fx.js'][4530]++;
        state = this.__controller__._fsm._list_of_state[this.__controller__._fsm._current_state];
        _$jscoverage['js/vs_fx.js'][4532]++;
        if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.TOP_OUT))) {
          _$jscoverage['js/vs_fx.js'][4535]++;
          if ((this.__delta > 50)) {
            _$jscoverage['js/vs_fx.js'][4537]++;
            t_ok = this.__controller__.goToPreviousView();
          }
          else {
            _$jscoverage['js/vs_fx.js'][4539]++;
            if ((this.__delta < -50)) {
              _$jscoverage['js/vs_fx.js'][4541]++;
              t_ok = this.__controller__.goToNextView();
            }
          }
        }
        else {
          _$jscoverage['js/vs_fx.js'][4546]++;
          if ((this.__delta > 50)) {
            _$jscoverage['js/vs_fx.js'][4548]++;
            t_ok = this.__controller__.goToNextView();
          }
          else {
            _$jscoverage['js/vs_fx.js'][4550]++;
            if ((this.__delta < -50)) {
              _$jscoverage['js/vs_fx.js'][4552]++;
              t_ok = this.__controller__.goToPreviousView();
            }
          }
        }
        _$jscoverage['js/vs_fx.js'][4555]++;
        if ((! t_ok)) {
          _$jscoverage['js/vs_fx.js'][4557]++;
          index = this.__controller__._states_array.indexOf(this.__controller__._fsm._current_state);
          _$jscoverage['js/vs_fx.js'][4559]++;
          if ((index > 0)) {
            _$jscoverage['js/vs_fx.js'][4560]++;
            state_before_id = this.__controller__._states_array[(index - 1)];
          }
          _$jscoverage['js/vs_fx.js'][4562]++;
          if ((((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.TOP_OUT)) && (this.__delta < 0))) {
            _$jscoverage['js/vs_fx.js'][4566]++;
            if (SUPPORT_3D_TRANSFORM) {
              _$jscoverage['js/vs_fx.js'][4567]++;
              transform = "translate3d(0,0,0)";
            }
            else {
              _$jscoverage['js/vs_fx.js'][4568]++;
              transform = "translate(0,0)";
            }
            _$jscoverage['js/vs_fx.js'][4570]++;
            state.comp.view.style.webkitTransitionDuration = (this.__controller__._animation_duration + "ms");
            _$jscoverage['js/vs_fx.js'][4572]++;
            setElementTransform(state.comp.view, transform);
          }
          else {
            _$jscoverage['js/vs_fx.js'][4574]++;
            if ((((this.__controller__._direction === CardController.RIGHT_OUT) || (this.__controller__._direction === CardController.BOTTOM_OUT)) && (this.__delta > 0))) {
              _$jscoverage['js/vs_fx.js'][4578]++;
              if (SUPPORT_3D_TRANSFORM) {
                _$jscoverage['js/vs_fx.js'][4579]++;
                transform = "translate3d(0,0,0)";
              }
              else {
                _$jscoverage['js/vs_fx.js'][4580]++;
                transform = "translate(0,0)";
              }
              _$jscoverage['js/vs_fx.js'][4582]++;
              state.comp.view.style.webkitTransitionDuration = (this.__controller__._animation_duration + "ms");
              _$jscoverage['js/vs_fx.js'][4584]++;
              setElementTransform(state.comp.view, transform);
            }
            else {
              _$jscoverage['js/vs_fx.js'][4586]++;
              if (state_before_id) {
                _$jscoverage['js/vs_fx.js'][4588]++;
                state_before = this.__controller__._fsm._list_of_state[state_before_id];
                _$jscoverage['js/vs_fx.js'][4589]++;
                if ((state_before && state_before.comp)) {
                  _$jscoverage['js/vs_fx.js'][4591]++;
                  if (SUPPORT_3D_TRANSFORM) {
                    _$jscoverage['js/vs_fx.js'][4591]++;
                    transform = "translate3d";
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][4592]++;
                    transform = "translate";
                  }
                  _$jscoverage['js/vs_fx.js'][4594]++;
                  if ((this.__controller__._direction === CardController.LEFT_OUT)) {
                    _$jscoverage['js/vs_fx.js'][4596]++;
                    transform = ("(-" + this._size[0] + "px,0px");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][4598]++;
                    if ((this.__controller__._direction === CardController.RIGHT_OUT)) {
                      _$jscoverage['js/vs_fx.js'][4600]++;
                      transform = ("(" + this._size[0] + "px,0px");
                    }
                    else {
                      _$jscoverage['js/vs_fx.js'][4602]++;
                      if ((this.__controller__._direction === CardController.BOTTOM_OUT)) {
                        _$jscoverage['js/vs_fx.js'][4604]++;
                        transform = ("(0px," + this._size[1] + "px");
                      }
                      else {
                        _$jscoverage['js/vs_fx.js'][4608]++;
                        transform = ("(0px,-" + this._size[1] + "px");
                      }
                    }
                  }
                  _$jscoverage['js/vs_fx.js'][4610]++;
                  if (SUPPORT_3D_TRANSFORM) {
                    _$jscoverage['js/vs_fx.js'][4610]++;
                    transform += ",0)";
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][4611]++;
                    transform += ")";
                  }
                  _$jscoverage['js/vs_fx.js'][4613]++;
                  state_before.comp.view.style.webkitTransitionDuration = (this.__controller__._animation_duration + "ms");
                  _$jscoverage['js/vs_fx.js'][4615]++;
                  setElementTransform(state_before.comp.view, transform);
                }
              }
            }
          }
        }
        _$jscoverage['js/vs_fx.js'][4619]++;
        document.removeEventListener(core.POINTER_END, this, true);
        _$jscoverage['js/vs_fx.js'][4620]++;
        document.removeEventListener(core.POINTER_MOVE, this, true);
      }
    }
  }
})};
  _$jscoverage['js/vs_fx.js'][4624]++;
  util.extendClass(CardController, StackController);
  _$jscoverage['js/vs_fx.js'][4630]++;
  util.defineClassProperties(CardController, {"direction": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][4640]++;
  var state, state_id, i = 0, pos = 0, index, transform = "", size = this._owner.size;
  _$jscoverage['js/vs_fx.js'][4643]++;
  if (((v !== CardController.LEFT_OUT) && (v !== CardController.RIGHT_OUT) && (v !== CardController.BOTTOM_OUT) && (v !== CardController.TOP_OUT))) {
    _$jscoverage['js/vs_fx.js'][4646]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4648]++;
  this._direction = v;
  _$jscoverage['js/vs_fx.js'][4649]++;
  this._updateViewSize();
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][4658]++;
  return this._direction;
})}, "animationDuration": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][4669]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][4669]++;
    v = 0;
  }
  _$jscoverage['js/vs_fx.js'][4670]++;
  if ((! util.isNumber(v))) {
    _$jscoverage['js/vs_fx.js'][4670]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4670]++;
  ;
  _$jscoverage['js/vs_fx.js'][4672]++;
  this._animation_duration = v;
  _$jscoverage['js/vs_fx.js'][4673]++;
  if (this._transition_out) {
    _$jscoverage['js/vs_fx.js'][4674]++;
    this._transition_out.duration = (this._animation_duration + "ms");
  }
  _$jscoverage['js/vs_fx.js'][4675]++;
  if (this._transition_clear) {
    _$jscoverage['js/vs_fx.js'][4676]++;
    this._transition_clear.duration = (this._animation_duration + "ms");
  }
})}});
  _$jscoverage['js/vs_fx.js'][4686]++;
  fx.CardController = CardController;
  _$jscoverage['js/vs_fx.js'][4773]++;
  function CubicController(owner, extension) {
    _$jscoverage['js/vs_fx.js'][4775]++;
    this.parent = StackController;
    _$jscoverage['js/vs_fx.js'][4776]++;
    this.parent(owner, extension);
    _$jscoverage['js/vs_fx.js'][4777]++;
    this.constructor = CubicController;
    _$jscoverage['js/vs_fx.js'][4779]++;
    if (owner) {
      _$jscoverage['js/vs_fx.js'][4779]++;
      owner.setStyle("-webkit-transform-style", "preserve-3d");
    }
}
  _$jscoverage['js/vs_fx.js'][4786]++;
  CubicController._translate_animation = new RotateXYZAnimation(-90, 0, 0);
  _$jscoverage['js/vs_fx.js'][4787]++;
  CubicController._translate_animation.init();
  _$jscoverage['js/vs_fx.js'][4788]++;
  CubicController._translate_animation.addKeyFrame("from", {degX: 0});
  _$jscoverage['js/vs_fx.js'][4789]++;
  CubicController._translate_animation.addKeyFrame(50, {degX: -92});
  _$jscoverage['js/vs_fx.js'][4790]++;
  CubicController._translate_animation.addKeyFrame(70, {degX: -84});
  _$jscoverage['js/vs_fx.js'][4791]++;
  CubicController._translate_animation.addKeyFrame(80, {degX: -90});
  _$jscoverage['js/vs_fx.js'][4792]++;
  CubicController._translate_animation.addKeyFrame(95, {degX: -88});
  _$jscoverage['js/vs_fx.js'][4793]++;
  CubicController._translate_animation.durations = "2s";
  _$jscoverage['js/vs_fx.js'][4799]++;
  CubicController.HORIZONTAL = 0;
  _$jscoverage['js/vs_fx.js'][4805]++;
  CubicController.VERTICAL = 1;
  _$jscoverage['js/vs_fx.js'][4808]++;
  CubicController.prototype = {_orientation: CubicController.HORIZONTAL, push: (function (comp, data, bindings) {
  _$jscoverage['js/vs_fx.js'][4852]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][4852]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4854]++;
  if ((! util.isString(comp))) {
    _$jscoverage['js/vs_fx.js'][4856]++;
    var index = this._states_array.length;
    _$jscoverage['js/vs_fx.js'][4857]++;
    comp.position = [0, 0];
    _$jscoverage['js/vs_fx.js'][4858]++;
    comp.setStyle("z-index", (1000 - index));
  }
  _$jscoverage['js/vs_fx.js'][4860]++;
  return StackController.prototype.push.call(this, comp, data, bindings);
}), handleEvent: (function (event) {
  _$jscoverage['js/vs_fx.js'][4873]++;
  var t_ok = false, state, state_before_id, state_before, transform, index;
  _$jscoverage['js/vs_fx.js'][4875]++;
  if ((event.type === core.POINTER_START)) {
    _$jscoverage['js/vs_fx.js'][4877]++;
    if ((this.__layer._orientation === CubicController.HORIZONTAL)) {
      _$jscoverage['js/vs_fx.js'][4879]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][4880]++;
        this.__pos = event.changedTouches[0].clientX;
      }
      else {
        _$jscoverage['js/vs_fx.js'][4882]++;
        this.__pos = event.clientX;
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][4886]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][4887]++;
        this.__pos = event.changedTouches[0].clientY;
      }
      else {
        _$jscoverage['js/vs_fx.js'][4889]++;
        this.__pos = event.clientY;
      }
    }
    _$jscoverage['js/vs_fx.js'][4892]++;
    document.addEventListener(core.POINTER_END, this, true);
    _$jscoverage['js/vs_fx.js'][4893]++;
    document.addEventListener(core.POINTER_MOVE, this, true);
    _$jscoverage['js/vs_fx.js'][4895]++;
    this.animationDuration = 0;
  }
  else {
    _$jscoverage['js/vs_fx.js'][4897]++;
    if ((event.type === core.POINTER_MOVE)) {
      _$jscoverage['js/vs_fx.js'][4899]++;
      event.preventDefault();
      _$jscoverage['js/vs_fx.js'][4900]++;
      state = this.__layer._list_of_state[this.__layer._current_state];
      _$jscoverage['js/vs_fx.js'][4901]++;
      index = this.__layer._states_array.indexOf(this.__layer._current_state);
      _$jscoverage['js/vs_fx.js'][4903]++;
      if ((index > 0)) {
        _$jscoverage['js/vs_fx.js'][4903]++;
        state_before_id = this.__layer._states_array[(index - 1)];
      }
      _$jscoverage['js/vs_fx.js'][4905]++;
      if ((this.__layer._orientation === CubicController.HORIZONTAL)) {
        _$jscoverage['js/vs_fx.js'][4907]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][4908]++;
          this.__delta = (event.changedTouches[0].clientX - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4910]++;
          this.__delta = (event.clientX - this.__pos);
        }
        _$jscoverage['js/vs_fx.js'][4912]++;
        if (SUPPORT_3D_TRANSFORM) {
          _$jscoverage['js/vs_fx.js'][4913]++;
          transform = ("translate3d(" + this.__delta + "px,0px,0)");
        }
        else {
          _$jscoverage['js/vs_fx.js'][4914]++;
          transform = ("translate(" + this.__delta + "px,0px)");
        }
      }
      else {
        _$jscoverage['js/vs_fx.js'][4918]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][4919]++;
          this.__delta = (event.changedTouches[0].clientY - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4921]++;
          this.__delta = (event.clientY - this.__pos);
        }
        _$jscoverage['js/vs_fx.js'][4923]++;
        if (SUPPORT_3D_TRANSFORM) {
          _$jscoverage['js/vs_fx.js'][4924]++;
          transform = ("translate3d(0px," + this.__delta + "px,0)");
        }
        else {
          _$jscoverage['js/vs_fx.js'][4925]++;
          transform = ("translate(0px," + this.__delta + "px)");
        }
      }
      _$jscoverage['js/vs_fx.js'][4927]++;
      if ((this.__delta < 0)) {
        _$jscoverage['js/vs_fx.js'][4929]++;
        state.comp.view.style.webkitTransitionDuration = 0;
        _$jscoverage['js/vs_fx.js'][4930]++;
        setElementTransform(state.comp.view, transform);
      }
      else {
        _$jscoverage['js/vs_fx.js'][4932]++;
        if (state_before_id) {
          _$jscoverage['js/vs_fx.js'][4934]++;
          state_before = this.__layer._list_of_state[state_before_id];
          _$jscoverage['js/vs_fx.js'][4935]++;
          if ((state_before && state_before.comp)) {
            _$jscoverage['js/vs_fx.js'][4937]++;
            if ((this.__layer._orientation === CubicController.HORIZONTAL)) {
              _$jscoverage['js/vs_fx.js'][4939]++;
              if (SUPPORT_3D_TRANSFORM) {
                _$jscoverage['js/vs_fx.js'][4941]++;
                transform = ("translate3d(" + (this.__delta - this._size[0]) + "px,0px,0)");
              }
              else {
                _$jscoverage['js/vs_fx.js'][4944]++;
                transform = ("translate(" + (this.__delta - this._size[0]) + "px,0px)");
              }
            }
            else {
              _$jscoverage['js/vs_fx.js'][4949]++;
              if (SUPPORT_3D_TRANSFORM) {
                _$jscoverage['js/vs_fx.js'][4951]++;
                transform = ("translate3d(0px," + (this.__delta - this._size[1]) + "px,0)");
              }
              else {
                _$jscoverage['js/vs_fx.js'][4954]++;
                transform = ("translate(0px," + (this.__delta - this._size[1]) + "px)");
              }
            }
            _$jscoverage['js/vs_fx.js'][4957]++;
            state_before.comp.view.style.webkitTransitionDuration = 0;
            _$jscoverage['js/vs_fx.js'][4958]++;
            setElementTransform(state_before.comp.view, transform);
          }
        }
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][4962]++;
      if ((event.type === core.POINTER_END)) {
        _$jscoverage['js/vs_fx.js'][4964]++;
        state = this.__layer._list_of_state[this.__layer._current_state];
        _$jscoverage['js/vs_fx.js'][4965]++;
        if ((this.__delta > 50)) {
          _$jscoverage['js/vs_fx.js'][4967]++;
          t_ok = this.__layer.goToPreviousView();
        }
        else {
          _$jscoverage['js/vs_fx.js'][4969]++;
          if ((this.__delta < -50)) {
            _$jscoverage['js/vs_fx.js'][4971]++;
            t_ok = this.__layer.goToNextView();
          }
        }
        _$jscoverage['js/vs_fx.js'][4973]++;
        if ((! t_ok)) {
          _$jscoverage['js/vs_fx.js'][4975]++;
          index = this.__layer._states_array.indexOf(this.__layer._current_state);
          _$jscoverage['js/vs_fx.js'][4977]++;
          if ((index > 0)) {
            _$jscoverage['js/vs_fx.js'][4978]++;
            state_before_id = this.__layer._states_array[(index - 1)];
          }
          _$jscoverage['js/vs_fx.js'][4980]++;
          if ((this.__delta < 0)) {
            _$jscoverage['js/vs_fx.js'][4982]++;
            if (SUPPORT_3D_TRANSFORM) {
              _$jscoverage['js/vs_fx.js'][4983]++;
              transform = "translate3d(0,0,0)";
            }
            else {
              _$jscoverage['js/vs_fx.js'][4984]++;
              transform = "translate(0,0)";
            }
            _$jscoverage['js/vs_fx.js'][4986]++;
            state.comp.view.style.webkitTransitionDuration = (this.__layer._animation_duration + "ms");
            _$jscoverage['js/vs_fx.js'][4988]++;
            setElementTransform(state.comp.view, transform);
          }
          else {
            _$jscoverage['js/vs_fx.js'][4990]++;
            if (state_before_id) {
              _$jscoverage['js/vs_fx.js'][4992]++;
              state_before = this.__layer._list_of_state[state_before_id];
              _$jscoverage['js/vs_fx.js'][4993]++;
              if ((state_before && state_before.comp)) {
                _$jscoverage['js/vs_fx.js'][4995]++;
                if ((this.__layer._orientation === CubicController.HORIZONTAL)) {
                  _$jscoverage['js/vs_fx.js'][4997]++;
                  if (SUPPORT_3D_TRANSFORM) {
                    _$jscoverage['js/vs_fx.js'][4999]++;
                    transform = ("translate3d(" + this._size[0] + "px,0px,0)");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][5002]++;
                    transform = ("translate(" + this._size[0] + "px,0px)");
                  }
                }
                else {
                  _$jscoverage['js/vs_fx.js'][5007]++;
                  if (SUPPORT_3D_TRANSFORM) {
                    _$jscoverage['js/vs_fx.js'][5009]++;
                    transform = ("translate3d(0px,-" + this._size[1] + "px,0)");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][5012]++;
                    transform = ("translate(0px,-" + this._size[1] + "px)");
                  }
                }
                _$jscoverage['js/vs_fx.js'][5015]++;
                state_before.comp.view.style.webkitTransitionDuration = (this.__layer._animation_duration + "ms");
                _$jscoverage['js/vs_fx.js'][5017]++;
                setElementTransform(state_before.comp.view, transform);
              }
            }
          }
        }
        _$jscoverage['js/vs_fx.js'][5021]++;
        document.removeEventListener(core.POINTER_END, this, true);
        _$jscoverage['js/vs_fx.js'][5022]++;
        document.removeEventListener(core.POINTER_MOVE, this, true);
      }
    }
  }
}), goTo: (function (state_id, output, event) {
  _$jscoverage['js/vs_fx.js'][5041]++;
  var state_to, index = this._states_array.indexOf(state_id), state_from = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][5046]++;
  StackController.prototype.goTo.call(this, state_id, output, event);
  _$jscoverage['js/vs_fx.js'][5047]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][5047]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][5049]++;
  this.owner.animationDuration = this._animation_duration;
  _$jscoverage['js/vs_fx.js'][5051]++;
  state_to = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][5052]++;
  state_to.comp.setStyle("position", "absolute");
  _$jscoverage['js/vs_fx.js'][5053]++;
  state_to.comp.position = [0, 0];
  _$jscoverage['js/vs_fx.js'][5054]++;
  state_to.comp.setStyle("z-index", (1000 - index));
  _$jscoverage['js/vs_fx.js'][5056]++;
  if ((state_from && state_to)) {
    _$jscoverage['js/vs_fx.js'][5058]++;
    state_from.comp.setStyle("-webkit-transform", "scale3d(.835,.835,.835) translateZ(200px)");
    _$jscoverage['js/vs_fx.js'][5060]++;
    state_to.comp.setStyle("-webkit-transform", "scale3d(.835,.835,.835) rotateX(90deg) translateZ(200px)");
  }
  _$jscoverage['js/vs_fx.js'][5063]++;
  function initState(index) {
    _$jscoverage['js/vs_fx.js'][5065]++;
    var state_id = this._states_array[index], state = this._list_of_state[state_id];
    _$jscoverage['js/vs_fx.js'][5068]++;
    if ((! state)) {
      _$jscoverage['js/vs_fx.js'][5068]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][5070]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][5072]++;
      state.comp = this.owner.createAndAddComponent(state.comp_name, state.init_data, state.extension);
      _$jscoverage['js/vs_fx.js'][5075]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][5076]++;
      state.comp.style("position", "absolute");
      _$jscoverage['js/vs_fx.js'][5077]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][5079]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][5081]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][5083]++;
    if (state.view) {
      _$jscoverage['js/vs_fx.js'][5085]++;
      __setPos(state.view, 0, 0);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5089]++;
      state.comp.position = [0, 0];
    }
    _$jscoverage['js/vs_fx.js'][5091]++;
    state.comp.show();
    _$jscoverage['js/vs_fx.js'][5092]++;
    state.comp.style("z-index", (1000 - index));
}
  _$jscoverage['js/vs_fx.js'][5096]++;
  if ((index > 0)) {
    _$jscoverage['js/vs_fx.js'][5096]++;
    initState.call(this, (index - 1));
  }
  _$jscoverage['js/vs_fx.js'][5099]++;
  if ((index < (this._states_array.length - 1))) {
    _$jscoverage['js/vs_fx.js'][5100]++;
    initState.call(this, (index + 1));
  }
  _$jscoverage['js/vs_fx.js'][5102]++;
  if ((event && (event.on === StackController.NEXT) && state_from)) {
    _$jscoverage['js/vs_fx.js'][5104]++;
    if ((this._orientation === CubicController.HORIZONTAL)) {
      _$jscoverage['js/vs_fx.js'][5106]++;
      CubicController._translate_animation.process(this.owner);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5110]++;
      CubicController._translate_animation.process(this.owner);
    }
  }
  else {
    _$jscoverage['js/vs_fx.js'][5113]++;
    if ((event && (event.on === StackController.PRED) && state_to)) {
      _$jscoverage['js/vs_fx.js'][5115]++;
      CubicController._translate_animation.x = 0;
      _$jscoverage['js/vs_fx.js'][5116]++;
      CubicController._translate_animation.y = 0;
      _$jscoverage['js/vs_fx.js'][5117]++;
      CubicController._translate_animation.process(state_to.comp);
    }
  }
  _$jscoverage['js/vs_fx.js'][5120]++;
  if ((output && this._output_action[output])) {
    _$jscoverage['js/vs_fx.js'][5122]++;
    var clb = this._output_action[output];
    _$jscoverage['js/vs_fx.js'][5123]++;
    if ((clb instanceof Function)) {
      _$jscoverage['js/vs_fx.js'][5125]++;
      clb.call(this.owner, event);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5127]++;
      if (util.isString(clb)) {
        _$jscoverage['js/vs_fx.js'][5129]++;
        (this.owner[this._output_action[output]])(event);
      }
    }
  }
})};
  _$jscoverage['js/vs_fx.js'][5134]++;
  util.extendClass(CubicController, StackController);
  _$jscoverage['js/vs_fx.js'][5140]++;
  fx.CubicController = CubicController;
  _$jscoverage['js/vs_fx.js'][5228]++;
  function OpacityController(owner, extension) {
    _$jscoverage['js/vs_fx.js'][5230]++;
    this.parent = StackController;
    _$jscoverage['js/vs_fx.js'][5231]++;
    this.parent(owner, extension);
    _$jscoverage['js/vs_fx.js'][5232]++;
    this.constructor = OpacityController;
    _$jscoverage['js/vs_fx.js'][5234]++;
    this.animationDuration = OpacityController.ANIMATION_DURATION;
}
  _$jscoverage['js/vs_fx.js'][5238]++;
  OpacityController._opacity_animation = new OpacityAnimation(1);
  _$jscoverage['js/vs_fx.js'][5239]++;
  OpacityController._opacity_animation.init();
  _$jscoverage['js/vs_fx.js'][5240]++;
  OpacityController._opacity_animation.durations = "0.2s";
  _$jscoverage['js/vs_fx.js'][5246]++;
  OpacityController.ANIMATION_DURATION = 500;
  _$jscoverage['js/vs_fx.js'][5248]++;
  OpacityController.prototype = {push: (function (comp, data, bindings) {
  _$jscoverage['js/vs_fx.js'][5285]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][5285]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][5287]++;
  if ((! util.isString(comp))) {
    _$jscoverage['js/vs_fx.js'][5289]++;
    var index = this._states_array.length;
    _$jscoverage['js/vs_fx.js'][5290]++;
    comp.position = [0, 0];
    _$jscoverage['js/vs_fx.js'][5291]++;
    comp.setStyle("z-index", (1000 - index));
  }
  _$jscoverage['js/vs_fx.js'][5293]++;
  StackController.prototype.push.call(this, comp, data, bindings);
}), goTo: (function (state_id, output, event) {
  _$jscoverage['js/vs_fx.js'][5314]++;
  var state_to, index = this._states_array.indexOf(state_id), state_from = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][5318]++;
  StackController.prototype.goTo.call(this, state_id, output, event);
  _$jscoverage['js/vs_fx.js'][5319]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][5319]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][5323]++;
  state_to = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][5324]++;
  state_to.comp.setStyle("position", "absolute");
  _$jscoverage['js/vs_fx.js'][5325]++;
  state_to.comp.position = [0, 0];
  _$jscoverage['js/vs_fx.js'][5326]++;
  state_to.comp.setStyle("z-index", (1000 - index));
  _$jscoverage['js/vs_fx.js'][5328]++;
  function initState(index) {
    _$jscoverage['js/vs_fx.js'][5330]++;
    var state_id = this._states_array[index], state = this._list_of_state[state_id];
    _$jscoverage['js/vs_fx.js'][5333]++;
    if ((! state)) {
      _$jscoverage['js/vs_fx.js'][5333]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][5335]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][5337]++;
      state.comp = this.owner.createAndAddComponent(state.comp_name, state.init_data, state.extension);
      _$jscoverage['js/vs_fx.js'][5340]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][5341]++;
      state.comp.setStyle("position", "absolute");
      _$jscoverage['js/vs_fx.js'][5342]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][5344]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][5346]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][5348]++;
    if (state.view) {
      _$jscoverage['js/vs_fx.js'][5350]++;
      __setPos(state.view, 0, 0);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5354]++;
      state.comp.position = [0, 0];
    }
    _$jscoverage['js/vs_fx.js'][5356]++;
    state.comp.show();
    _$jscoverage['js/vs_fx.js'][5357]++;
    state.comp.setStyle("z-index", (1000 - index));
}
  _$jscoverage['js/vs_fx.js'][5361]++;
  if ((index > 0)) {
    _$jscoverage['js/vs_fx.js'][5361]++;
    initState.call(this, (index - 1));
  }
  _$jscoverage['js/vs_fx.js'][5364]++;
  if ((index < (this._states_array.length - 1))) {
    _$jscoverage['js/vs_fx.js'][5365]++;
    initState.call(this, (index + 1));
  }
  _$jscoverage['js/vs_fx.js'][5367]++;
  if ((event && (event.on === StackController.NEXT) && state_from)) {
    _$jscoverage['js/vs_fx.js'][5369]++;
    OpacityController._opacity_animation.value = 0;
    _$jscoverage['js/vs_fx.js'][5370]++;
    OpacityController._opacity_animation.process(state_from.comp);
  }
  else {
    _$jscoverage['js/vs_fx.js'][5372]++;
    if ((event && (event.on === StackController.PRED) && state_to)) {
      _$jscoverage['js/vs_fx.js'][5374]++;
      OpacityController._opacity_animation.value = 1;
      _$jscoverage['js/vs_fx.js'][5375]++;
      OpacityController._opacity_animation.process(state_to.comp);
    }
  }
  _$jscoverage['js/vs_fx.js'][5378]++;
  if ((output && this._output_action[output])) {
    _$jscoverage['js/vs_fx.js'][5380]++;
    var clb = this._output_action[output];
    _$jscoverage['js/vs_fx.js'][5381]++;
    if ((clb instanceof Function)) {
      _$jscoverage['js/vs_fx.js'][5383]++;
      clb.call(this.owner, event);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5385]++;
      if (util.isString(clb)) {
        _$jscoverage['js/vs_fx.js'][5387]++;
        (this.owner[this._output_action[output]])(event);
      }
    }
  }
})};
  _$jscoverage['js/vs_fx.js'][5392]++;
  util.extendClass(OpacityController, StackController);
  _$jscoverage['js/vs_fx.js'][5398]++;
  util.defineClassProperty(OpacityController, "animationDuration", {set: (function (time) {
  _$jscoverage['js/vs_fx.js'][5406]++;
  if ((! time)) {
    _$jscoverage['js/vs_fx.js'][5406]++;
    time = 0;
  }
  _$jscoverage['js/vs_fx.js'][5407]++;
  if ((! util.isNumber(time))) {
    _$jscoverage['js/vs_fx.js'][5407]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][5407]++;
  ;
  _$jscoverage['js/vs_fx.js'][5409]++;
  this._animation_duration = time;
  _$jscoverage['js/vs_fx.js'][5410]++;
  OpacityController._opacity_animation.durations = ((time / 1000) + "s");
})});
  _$jscoverage['js/vs_fx.js'][5418]++;
  fx.OpacityController = OpacityController;
})(window);
