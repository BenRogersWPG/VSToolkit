/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    this._$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (! this._$jscoverage) {
  this._$jscoverage = {};
}
if (! _$jscoverage['js/vs_fx.js']) {
  _$jscoverage['js/vs_fx.js'] = [];
  _$jscoverage['js/vs_fx.js'][19] = 0;
  _$jscoverage['js/vs_fx.js'][21] = 0;
  _$jscoverage['js/vs_fx.js'][45] = 0;
  _$jscoverage['js/vs_fx.js'][54] = 0;
  _$jscoverage['js/vs_fx.js'][57] = 0;
  _$jscoverage['js/vs_fx.js'][60] = 0;
  _$jscoverage['js/vs_fx.js'][81] = 0;
  _$jscoverage['js/vs_fx.js'][83] = 0;
  _$jscoverage['js/vs_fx.js'][84] = 0;
  _$jscoverage['js/vs_fx.js'][85] = 0;
  _$jscoverage['js/vs_fx.js'][86] = 0;
  _$jscoverage['js/vs_fx.js'][87] = 0;
  _$jscoverage['js/vs_fx.js'][89] = 0;
  _$jscoverage['js/vs_fx.js'][90] = 0;
  _$jscoverage['js/vs_fx.js'][91] = 0;
  _$jscoverage['js/vs_fx.js'][92] = 0;
  _$jscoverage['js/vs_fx.js'][93] = 0;
  _$jscoverage['js/vs_fx.js'][95] = 0;
  _$jscoverage['js/vs_fx.js'][96] = 0;
  _$jscoverage['js/vs_fx.js'][97] = 0;
  _$jscoverage['js/vs_fx.js'][98] = 0;
  _$jscoverage['js/vs_fx.js'][100] = 0;
  _$jscoverage['js/vs_fx.js'][102] = 0;
  _$jscoverage['js/vs_fx.js'][103] = 0;
  _$jscoverage['js/vs_fx.js'][104] = 0;
  _$jscoverage['js/vs_fx.js'][105] = 0;
  _$jscoverage['js/vs_fx.js'][106] = 0;
  _$jscoverage['js/vs_fx.js'][108] = 0;
  _$jscoverage['js/vs_fx.js'][109] = 0;
  _$jscoverage['js/vs_fx.js'][110] = 0;
  _$jscoverage['js/vs_fx.js'][111] = 0;
  _$jscoverage['js/vs_fx.js'][112] = 0;
  _$jscoverage['js/vs_fx.js'][114] = 0;
  _$jscoverage['js/vs_fx.js'][115] = 0;
  _$jscoverage['js/vs_fx.js'][116] = 0;
  _$jscoverage['js/vs_fx.js'][117] = 0;
  _$jscoverage['js/vs_fx.js'][121] = 0;
  _$jscoverage['js/vs_fx.js'][122] = 0;
  _$jscoverage['js/vs_fx.js'][123] = 0;
  _$jscoverage['js/vs_fx.js'][124] = 0;
  _$jscoverage['js/vs_fx.js'][125] = 0;
  _$jscoverage['js/vs_fx.js'][127] = 0;
  _$jscoverage['js/vs_fx.js'][128] = 0;
  _$jscoverage['js/vs_fx.js'][129] = 0;
  _$jscoverage['js/vs_fx.js'][130] = 0;
  _$jscoverage['js/vs_fx.js'][131] = 0;
  _$jscoverage['js/vs_fx.js'][133] = 0;
  _$jscoverage['js/vs_fx.js'][134] = 0;
  _$jscoverage['js/vs_fx.js'][135] = 0;
  _$jscoverage['js/vs_fx.js'][136] = 0;
  _$jscoverage['js/vs_fx.js'][143] = 0;
  _$jscoverage['js/vs_fx.js'][148] = 0;
  _$jscoverage['js/vs_fx.js'][153] = 0;
  _$jscoverage['js/vs_fx.js'][158] = 0;
  _$jscoverage['js/vs_fx.js'][163] = 0;
  _$jscoverage['js/vs_fx.js'][170] = 0;
  _$jscoverage['js/vs_fx.js'][172] = 0;
  _$jscoverage['js/vs_fx.js'][173] = 0;
  _$jscoverage['js/vs_fx.js'][175] = 0;
  _$jscoverage['js/vs_fx.js'][176] = 0;
  _$jscoverage['js/vs_fx.js'][178] = 0;
  _$jscoverage['js/vs_fx.js'][180] = 0;
  _$jscoverage['js/vs_fx.js'][181] = 0;
  _$jscoverage['js/vs_fx.js'][183] = 0;
  _$jscoverage['js/vs_fx.js'][184] = 0;
  _$jscoverage['js/vs_fx.js'][186] = 0;
  _$jscoverage['js/vs_fx.js'][187] = 0;
  _$jscoverage['js/vs_fx.js'][191] = 0;
  _$jscoverage['js/vs_fx.js'][192] = 0;
  _$jscoverage['js/vs_fx.js'][194] = 0;
  _$jscoverage['js/vs_fx.js'][196] = 0;
  _$jscoverage['js/vs_fx.js'][198] = 0;
  _$jscoverage['js/vs_fx.js'][211] = 0;
  _$jscoverage['js/vs_fx.js'][213] = 0;
  _$jscoverage['js/vs_fx.js'][215] = 0;
  _$jscoverage['js/vs_fx.js'][216] = 0;
  _$jscoverage['js/vs_fx.js'][219] = 0;
  _$jscoverage['js/vs_fx.js'][221] = 0;
  _$jscoverage['js/vs_fx.js'][222] = 0;
  _$jscoverage['js/vs_fx.js'][225] = 0;
  _$jscoverage['js/vs_fx.js'][230] = 0;
  _$jscoverage['js/vs_fx.js'][232] = 0;
  _$jscoverage['js/vs_fx.js'][233] = 0;
  _$jscoverage['js/vs_fx.js'][234] = 0;
  _$jscoverage['js/vs_fx.js'][235] = 0;
  _$jscoverage['js/vs_fx.js'][237] = 0;
  _$jscoverage['js/vs_fx.js'][239] = 0;
  _$jscoverage['js/vs_fx.js'][240] = 0;
  _$jscoverage['js/vs_fx.js'][243] = 0;
  _$jscoverage['js/vs_fx.js'][245] = 0;
  _$jscoverage['js/vs_fx.js'][247] = 0;
  _$jscoverage['js/vs_fx.js'][249] = 0;
  _$jscoverage['js/vs_fx.js'][253] = 0;
  _$jscoverage['js/vs_fx.js'][256] = 0;
  _$jscoverage['js/vs_fx.js'][257] = 0;
  _$jscoverage['js/vs_fx.js'][259] = 0;
  _$jscoverage['js/vs_fx.js'][261] = 0;
  _$jscoverage['js/vs_fx.js'][264] = 0;
  _$jscoverage['js/vs_fx.js'][266] = 0;
  _$jscoverage['js/vs_fx.js'][267] = 0;
  _$jscoverage['js/vs_fx.js'][269] = 0;
  _$jscoverage['js/vs_fx.js'][271] = 0;
  _$jscoverage['js/vs_fx.js'][273] = 0;
  _$jscoverage['js/vs_fx.js'][275] = 0;
  _$jscoverage['js/vs_fx.js'][279] = 0;
  _$jscoverage['js/vs_fx.js'][282] = 0;
  _$jscoverage['js/vs_fx.js'][284] = 0;
  _$jscoverage['js/vs_fx.js'][286] = 0;
  _$jscoverage['js/vs_fx.js'][289] = 0;
  _$jscoverage['js/vs_fx.js'][293] = 0;
  _$jscoverage['js/vs_fx.js'][297] = 0;
  _$jscoverage['js/vs_fx.js'][299] = 0;
  _$jscoverage['js/vs_fx.js'][301] = 0;
  _$jscoverage['js/vs_fx.js'][303] = 0;
  _$jscoverage['js/vs_fx.js'][305] = 0;
  _$jscoverage['js/vs_fx.js'][306] = 0;
  _$jscoverage['js/vs_fx.js'][307] = 0;
  _$jscoverage['js/vs_fx.js'][308] = 0;
  _$jscoverage['js/vs_fx.js'][310] = 0;
  _$jscoverage['js/vs_fx.js'][311] = 0;
  _$jscoverage['js/vs_fx.js'][313] = 0;
  _$jscoverage['js/vs_fx.js'][314] = 0;
  _$jscoverage['js/vs_fx.js'][316] = 0;
  _$jscoverage['js/vs_fx.js'][318] = 0;
  _$jscoverage['js/vs_fx.js'][319] = 0;
  _$jscoverage['js/vs_fx.js'][320] = 0;
  _$jscoverage['js/vs_fx.js'][321] = 0;
  _$jscoverage['js/vs_fx.js'][322] = 0;
  _$jscoverage['js/vs_fx.js'][325] = 0;
  _$jscoverage['js/vs_fx.js'][328] = 0;
  _$jscoverage['js/vs_fx.js'][330] = 0;
  _$jscoverage['js/vs_fx.js'][333] = 0;
  _$jscoverage['js/vs_fx.js'][335] = 0;
  _$jscoverage['js/vs_fx.js'][336] = 0;
  _$jscoverage['js/vs_fx.js'][338] = 0;
  _$jscoverage['js/vs_fx.js'][341] = 0;
  _$jscoverage['js/vs_fx.js'][343] = 0;
  _$jscoverage['js/vs_fx.js'][346] = 0;
  _$jscoverage['js/vs_fx.js'][347] = 0;
  _$jscoverage['js/vs_fx.js'][349] = 0;
  _$jscoverage['js/vs_fx.js'][350] = 0;
  _$jscoverage['js/vs_fx.js'][352] = 0;
  _$jscoverage['js/vs_fx.js'][355] = 0;
  _$jscoverage['js/vs_fx.js'][357] = 0;
  _$jscoverage['js/vs_fx.js'][360] = 0;
  _$jscoverage['js/vs_fx.js'][362] = 0;
  _$jscoverage['js/vs_fx.js'][366] = 0;
  _$jscoverage['js/vs_fx.js'][368] = 0;
  _$jscoverage['js/vs_fx.js'][369] = 0;
  _$jscoverage['js/vs_fx.js'][370] = 0;
  _$jscoverage['js/vs_fx.js'][371] = 0;
  _$jscoverage['js/vs_fx.js'][372] = 0;
  _$jscoverage['js/vs_fx.js'][373] = 0;
  _$jscoverage['js/vs_fx.js'][374] = 0;
  _$jscoverage['js/vs_fx.js'][375] = 0;
  _$jscoverage['js/vs_fx.js'][376] = 0;
  _$jscoverage['js/vs_fx.js'][377] = 0;
  _$jscoverage['js/vs_fx.js'][378] = 0;
  _$jscoverage['js/vs_fx.js'][379] = 0;
  _$jscoverage['js/vs_fx.js'][380] = 0;
  _$jscoverage['js/vs_fx.js'][381] = 0;
  _$jscoverage['js/vs_fx.js'][382] = 0;
  _$jscoverage['js/vs_fx.js'][383] = 0;
  _$jscoverage['js/vs_fx.js'][384] = 0;
  _$jscoverage['js/vs_fx.js'][385] = 0;
  _$jscoverage['js/vs_fx.js'][386] = 0;
  _$jscoverage['js/vs_fx.js'][387] = 0;
  _$jscoverage['js/vs_fx.js'][389] = 0;
  _$jscoverage['js/vs_fx.js'][391] = 0;
  _$jscoverage['js/vs_fx.js'][393] = 0;
  _$jscoverage['js/vs_fx.js'][395] = 0;
  _$jscoverage['js/vs_fx.js'][397] = 0;
  _$jscoverage['js/vs_fx.js'][400] = 0;
  _$jscoverage['js/vs_fx.js'][402] = 0;
  _$jscoverage['js/vs_fx.js'][404] = 0;
  _$jscoverage['js/vs_fx.js'][409] = 0;
  _$jscoverage['js/vs_fx.js'][411] = 0;
  _$jscoverage['js/vs_fx.js'][414] = 0;
  _$jscoverage['js/vs_fx.js'][417] = 0;
  _$jscoverage['js/vs_fx.js'][418] = 0;
  _$jscoverage['js/vs_fx.js'][421] = 0;
  _$jscoverage['js/vs_fx.js'][422] = 0;
  _$jscoverage['js/vs_fx.js'][424] = 0;
  _$jscoverage['js/vs_fx.js'][425] = 0;
  _$jscoverage['js/vs_fx.js'][428] = 0;
  _$jscoverage['js/vs_fx.js'][430] = 0;
  _$jscoverage['js/vs_fx.js'][431] = 0;
  _$jscoverage['js/vs_fx.js'][433] = 0;
  _$jscoverage['js/vs_fx.js'][434] = 0;
  _$jscoverage['js/vs_fx.js'][439] = 0;
  _$jscoverage['js/vs_fx.js'][440] = 0;
  _$jscoverage['js/vs_fx.js'][443] = 0;
  _$jscoverage['js/vs_fx.js'][444] = 0;
  _$jscoverage['js/vs_fx.js'][446] = 0;
  _$jscoverage['js/vs_fx.js'][449] = 0;
  _$jscoverage['js/vs_fx.js'][450] = 0;
  _$jscoverage['js/vs_fx.js'][452] = 0;
  _$jscoverage['js/vs_fx.js'][453] = 0;
  _$jscoverage['js/vs_fx.js'][455] = 0;
  _$jscoverage['js/vs_fx.js'][458] = 0;
  _$jscoverage['js/vs_fx.js'][460] = 0;
  _$jscoverage['js/vs_fx.js'][462] = 0;
  _$jscoverage['js/vs_fx.js'][464] = 0;
  _$jscoverage['js/vs_fx.js'][465] = 0;
  _$jscoverage['js/vs_fx.js'][467] = 0;
  _$jscoverage['js/vs_fx.js'][468] = 0;
  _$jscoverage['js/vs_fx.js'][469] = 0;
  _$jscoverage['js/vs_fx.js'][470] = 0;
  _$jscoverage['js/vs_fx.js'][472] = 0;
  _$jscoverage['js/vs_fx.js'][474] = 0;
  _$jscoverage['js/vs_fx.js'][475] = 0;
  _$jscoverage['js/vs_fx.js'][476] = 0;
  _$jscoverage['js/vs_fx.js'][477] = 0;
  _$jscoverage['js/vs_fx.js'][478] = 0;
  _$jscoverage['js/vs_fx.js'][479] = 0;
  _$jscoverage['js/vs_fx.js'][480] = 0;
  _$jscoverage['js/vs_fx.js'][481] = 0;
  _$jscoverage['js/vs_fx.js'][482] = 0;
  _$jscoverage['js/vs_fx.js'][483] = 0;
  _$jscoverage['js/vs_fx.js'][484] = 0;
  _$jscoverage['js/vs_fx.js'][485] = 0;
  _$jscoverage['js/vs_fx.js'][486] = 0;
  _$jscoverage['js/vs_fx.js'][487] = 0;
  _$jscoverage['js/vs_fx.js'][488] = 0;
  _$jscoverage['js/vs_fx.js'][489] = 0;
  _$jscoverage['js/vs_fx.js'][490] = 0;
  _$jscoverage['js/vs_fx.js'][491] = 0;
  _$jscoverage['js/vs_fx.js'][492] = 0;
  _$jscoverage['js/vs_fx.js'][493] = 0;
  _$jscoverage['js/vs_fx.js'][494] = 0;
  _$jscoverage['js/vs_fx.js'][495] = 0;
  _$jscoverage['js/vs_fx.js'][496] = 0;
  _$jscoverage['js/vs_fx.js'][498] = 0;
  _$jscoverage['js/vs_fx.js'][503] = 0;
  _$jscoverage['js/vs_fx.js'][505] = 0;
  _$jscoverage['js/vs_fx.js'][506] = 0;
  _$jscoverage['js/vs_fx.js'][507] = 0;
  _$jscoverage['js/vs_fx.js'][508] = 0;
  _$jscoverage['js/vs_fx.js'][509] = 0;
  _$jscoverage['js/vs_fx.js'][510] = 0;
  _$jscoverage['js/vs_fx.js'][511] = 0;
  _$jscoverage['js/vs_fx.js'][512] = 0;
  _$jscoverage['js/vs_fx.js'][513] = 0;
  _$jscoverage['js/vs_fx.js'][514] = 0;
  _$jscoverage['js/vs_fx.js'][515] = 0;
  _$jscoverage['js/vs_fx.js'][516] = 0;
  _$jscoverage['js/vs_fx.js'][517] = 0;
  _$jscoverage['js/vs_fx.js'][518] = 0;
  _$jscoverage['js/vs_fx.js'][519] = 0;
  _$jscoverage['js/vs_fx.js'][520] = 0;
  _$jscoverage['js/vs_fx.js'][521] = 0;
  _$jscoverage['js/vs_fx.js'][522] = 0;
  _$jscoverage['js/vs_fx.js'][523] = 0;
  _$jscoverage['js/vs_fx.js'][524] = 0;
  _$jscoverage['js/vs_fx.js'][525] = 0;
  _$jscoverage['js/vs_fx.js'][527] = 0;
  _$jscoverage['js/vs_fx.js'][530] = 0;
  _$jscoverage['js/vs_fx.js'][532] = 0;
  _$jscoverage['js/vs_fx.js'][535] = 0;
  _$jscoverage['js/vs_fx.js'][538] = 0;
  _$jscoverage['js/vs_fx.js'][541] = 0;
  _$jscoverage['js/vs_fx.js'][542] = 0;
  _$jscoverage['js/vs_fx.js'][544] = 0;
  _$jscoverage['js/vs_fx.js'][546] = 0;
  _$jscoverage['js/vs_fx.js'][549] = 0;
  _$jscoverage['js/vs_fx.js'][550] = 0;
  _$jscoverage['js/vs_fx.js'][552] = 0;
  _$jscoverage['js/vs_fx.js'][618] = 0;
  _$jscoverage['js/vs_fx.js'][620] = 0;
  _$jscoverage['js/vs_fx.js'][621] = 0;
  _$jscoverage['js/vs_fx.js'][622] = 0;
  _$jscoverage['js/vs_fx.js'][624] = 0;
  _$jscoverage['js/vs_fx.js'][626] = 0;
  _$jscoverage['js/vs_fx.js'][627] = 0;
  _$jscoverage['js/vs_fx.js'][629] = 0;
  _$jscoverage['js/vs_fx.js'][634] = 0;
  _$jscoverage['js/vs_fx.js'][636] = 0;
  _$jscoverage['js/vs_fx.js'][637] = 0;
  _$jscoverage['js/vs_fx.js'][639] = 0;
  _$jscoverage['js/vs_fx.js'][742] = 0;
  _$jscoverage['js/vs_fx.js'][744] = 0;
  _$jscoverage['js/vs_fx.js'][745] = 0;
  _$jscoverage['js/vs_fx.js'][746] = 0;
  _$jscoverage['js/vs_fx.js'][747] = 0;
  _$jscoverage['js/vs_fx.js'][748] = 0;
  _$jscoverage['js/vs_fx.js'][749] = 0;
  _$jscoverage['js/vs_fx.js'][750] = 0;
  _$jscoverage['js/vs_fx.js'][752] = 0;
  _$jscoverage['js/vs_fx.js'][754] = 0;
  _$jscoverage['js/vs_fx.js'][755] = 0;
  _$jscoverage['js/vs_fx.js'][757] = 0;
  _$jscoverage['js/vs_fx.js'][758] = 0;
  _$jscoverage['js/vs_fx.js'][760] = 0;
  _$jscoverage['js/vs_fx.js'][761] = 0;
  _$jscoverage['js/vs_fx.js'][763] = 0;
  _$jscoverage['js/vs_fx.js'][765] = 0;
  _$jscoverage['js/vs_fx.js'][768] = 0;
  _$jscoverage['js/vs_fx.js'][769] = 0;
  _$jscoverage['js/vs_fx.js'][803] = 0;
  _$jscoverage['js/vs_fx.js'][804] = 0;
  _$jscoverage['js/vs_fx.js'][806] = 0;
  _$jscoverage['js/vs_fx.js'][807] = 0;
  _$jscoverage['js/vs_fx.js'][809] = 0;
  _$jscoverage['js/vs_fx.js'][811] = 0;
  _$jscoverage['js/vs_fx.js'][812] = 0;
  _$jscoverage['js/vs_fx.js'][814] = 0;
  _$jscoverage['js/vs_fx.js'][816] = 0;
  _$jscoverage['js/vs_fx.js'][846] = 0;
  _$jscoverage['js/vs_fx.js'][862] = 0;
  _$jscoverage['js/vs_fx.js'][864] = 0;
  _$jscoverage['js/vs_fx.js'][865] = 0;
  _$jscoverage['js/vs_fx.js'][866] = 0;
  _$jscoverage['js/vs_fx.js'][867] = 0;
  _$jscoverage['js/vs_fx.js'][868] = 0;
  _$jscoverage['js/vs_fx.js'][869] = 0;
  _$jscoverage['js/vs_fx.js'][870] = 0;
  _$jscoverage['js/vs_fx.js'][871] = 0;
  _$jscoverage['js/vs_fx.js'][872] = 0;
  _$jscoverage['js/vs_fx.js'][873] = 0;
  _$jscoverage['js/vs_fx.js'][874] = 0;
  _$jscoverage['js/vs_fx.js'][876] = 0;
  _$jscoverage['js/vs_fx.js'][878] = 0;
  _$jscoverage['js/vs_fx.js'][879] = 0;
  _$jscoverage['js/vs_fx.js'][880] = 0;
  _$jscoverage['js/vs_fx.js'][881] = 0;
  _$jscoverage['js/vs_fx.js'][885] = 0;
  _$jscoverage['js/vs_fx.js'][886] = 0;
  _$jscoverage['js/vs_fx.js'][888] = 0;
  _$jscoverage['js/vs_fx.js'][904] = 0;
  _$jscoverage['js/vs_fx.js'][907] = 0;
  _$jscoverage['js/vs_fx.js'][913] = 0;
  _$jscoverage['js/vs_fx.js'][923] = 0;
  _$jscoverage['js/vs_fx.js'][925] = 0;
  _$jscoverage['js/vs_fx.js'][933] = 0;
  _$jscoverage['js/vs_fx.js'][934] = 0;
  _$jscoverage['js/vs_fx.js'][936] = 0;
  _$jscoverage['js/vs_fx.js'][948] = 0;
  _$jscoverage['js/vs_fx.js'][950] = 0;
  _$jscoverage['js/vs_fx.js'][958] = 0;
  _$jscoverage['js/vs_fx.js'][959] = 0;
  _$jscoverage['js/vs_fx.js'][961] = 0;
  _$jscoverage['js/vs_fx.js'][976] = 0;
  _$jscoverage['js/vs_fx.js'][984] = 0;
  _$jscoverage['js/vs_fx.js'][992] = 0;
  _$jscoverage['js/vs_fx.js'][1000] = 0;
  _$jscoverage['js/vs_fx.js'][1008] = 0;
  _$jscoverage['js/vs_fx.js'][1040] = 0;
  _$jscoverage['js/vs_fx.js'][1042] = 0;
  _$jscoverage['js/vs_fx.js'][1043] = 0;
  _$jscoverage['js/vs_fx.js'][1045] = 0;
  _$jscoverage['js/vs_fx.js'][1049] = 0;
  _$jscoverage['js/vs_fx.js'][1050] = 0;
  _$jscoverage['js/vs_fx.js'][1052] = 0;
  _$jscoverage['js/vs_fx.js'][1054] = 0;
  _$jscoverage['js/vs_fx.js'][1055] = 0;
  _$jscoverage['js/vs_fx.js'][1056] = 0;
  _$jscoverage['js/vs_fx.js'][1058] = 0;
  _$jscoverage['js/vs_fx.js'][1061] = 0;
  _$jscoverage['js/vs_fx.js'][1087] = 0;
  _$jscoverage['js/vs_fx.js'][1112] = 0;
  _$jscoverage['js/vs_fx.js'][1114] = 0;
  _$jscoverage['js/vs_fx.js'][1115] = 0;
  _$jscoverage['js/vs_fx.js'][1117] = 0;
  _$jscoverage['js/vs_fx.js'][1121] = 0;
  _$jscoverage['js/vs_fx.js'][1123] = 0;
  _$jscoverage['js/vs_fx.js'][1125] = 0;
  _$jscoverage['js/vs_fx.js'][1128] = 0;
  _$jscoverage['js/vs_fx.js'][1138] = 0;
  _$jscoverage['js/vs_fx.js'][1161] = 0;
  _$jscoverage['js/vs_fx.js'][1163] = 0;
  _$jscoverage['js/vs_fx.js'][1164] = 0;
  _$jscoverage['js/vs_fx.js'][1166] = 0;
  _$jscoverage['js/vs_fx.js'][1170] = 0;
  _$jscoverage['js/vs_fx.js'][1173] = 0;
  _$jscoverage['js/vs_fx.js'][1174] = 0;
  _$jscoverage['js/vs_fx.js'][1175] = 0;
  _$jscoverage['js/vs_fx.js'][1177] = 0;
  _$jscoverage['js/vs_fx.js'][1180] = 0;
  _$jscoverage['js/vs_fx.js'][1206] = 0;
  _$jscoverage['js/vs_fx.js'][1230] = 0;
  _$jscoverage['js/vs_fx.js'][1232] = 0;
  _$jscoverage['js/vs_fx.js'][1233] = 0;
  _$jscoverage['js/vs_fx.js'][1235] = 0;
  _$jscoverage['js/vs_fx.js'][1239] = 0;
  _$jscoverage['js/vs_fx.js'][1241] = 0;
  _$jscoverage['js/vs_fx.js'][1242] = 0;
  _$jscoverage['js/vs_fx.js'][1243] = 0;
  _$jscoverage['js/vs_fx.js'][1245] = 0;
  _$jscoverage['js/vs_fx.js'][1248] = 0;
  _$jscoverage['js/vs_fx.js'][1266] = 0;
  _$jscoverage['js/vs_fx.js'][1291] = 0;
  _$jscoverage['js/vs_fx.js'][1293] = 0;
  _$jscoverage['js/vs_fx.js'][1294] = 0;
  _$jscoverage['js/vs_fx.js'][1296] = 0;
  _$jscoverage['js/vs_fx.js'][1300] = 0;
  _$jscoverage['js/vs_fx.js'][1302] = 0;
  _$jscoverage['js/vs_fx.js'][1303] = 0;
  _$jscoverage['js/vs_fx.js'][1305] = 0;
  _$jscoverage['js/vs_fx.js'][1308] = 0;
  _$jscoverage['js/vs_fx.js'][1326] = 0;
  _$jscoverage['js/vs_fx.js'][1355] = 0;
  _$jscoverage['js/vs_fx.js'][1357] = 0;
  _$jscoverage['js/vs_fx.js'][1358] = 0;
  _$jscoverage['js/vs_fx.js'][1360] = 0;
  _$jscoverage['js/vs_fx.js'][1364] = 0;
  _$jscoverage['js/vs_fx.js'][1366] = 0;
  _$jscoverage['js/vs_fx.js'][1368] = 0;
  _$jscoverage['js/vs_fx.js'][1371] = 0;
  _$jscoverage['js/vs_fx.js'][1381] = 0;
  _$jscoverage['js/vs_fx.js'][1392] = 0;
  _$jscoverage['js/vs_fx.js'][1393] = 0;
  _$jscoverage['js/vs_fx.js'][1399] = 0;
  _$jscoverage['js/vs_fx.js'][1400] = 0;
  _$jscoverage['js/vs_fx.js'][1407] = 0;
  _$jscoverage['js/vs_fx.js'][1408] = 0;
  _$jscoverage['js/vs_fx.js'][1415] = 0;
  _$jscoverage['js/vs_fx.js'][1416] = 0;
  _$jscoverage['js/vs_fx.js'][1423] = 0;
  _$jscoverage['js/vs_fx.js'][1424] = 0;
  _$jscoverage['js/vs_fx.js'][1431] = 0;
  _$jscoverage['js/vs_fx.js'][1432] = 0;
  _$jscoverage['js/vs_fx.js'][1439] = 0;
  _$jscoverage['js/vs_fx.js'][1440] = 0;
  _$jscoverage['js/vs_fx.js'][1447] = 0;
  _$jscoverage['js/vs_fx.js'][1448] = 0;
  _$jscoverage['js/vs_fx.js'][1455] = 0;
  _$jscoverage['js/vs_fx.js'][1456] = 0;
  _$jscoverage['js/vs_fx.js'][1463] = 0;
  _$jscoverage['js/vs_fx.js'][1464] = 0;
  _$jscoverage['js/vs_fx.js'][1470] = 0;
  _$jscoverage['js/vs_fx.js'][1471] = 0;
  _$jscoverage['js/vs_fx.js'][1472] = 0;
  _$jscoverage['js/vs_fx.js'][1473] = 0;
  _$jscoverage['js/vs_fx.js'][1474] = 0;
  _$jscoverage['js/vs_fx.js'][1475] = 0;
  _$jscoverage['js/vs_fx.js'][1476] = 0;
  _$jscoverage['js/vs_fx.js'][1477] = 0;
  _$jscoverage['js/vs_fx.js'][1576] = 0;
  _$jscoverage['js/vs_fx.js'][1578] = 0;
  _$jscoverage['js/vs_fx.js'][1579] = 0;
  _$jscoverage['js/vs_fx.js'][1580] = 0;
  _$jscoverage['js/vs_fx.js'][1582] = 0;
  _$jscoverage['js/vs_fx.js'][1584] = 0;
  _$jscoverage['js/vs_fx.js'][1587] = 0;
  _$jscoverage['js/vs_fx.js'][1588] = 0;
  _$jscoverage['js/vs_fx.js'][1592] = 0;
  _$jscoverage['js/vs_fx.js'][1628] = 0;
  _$jscoverage['js/vs_fx.js'][1630] = 0;
  _$jscoverage['js/vs_fx.js'][1632] = 0;
  _$jscoverage['js/vs_fx.js'][1633] = 0;
  _$jscoverage['js/vs_fx.js'][1636] = 0;
  _$jscoverage['js/vs_fx.js'][1638] = 0;
  _$jscoverage['js/vs_fx.js'][1639] = 0;
  _$jscoverage['js/vs_fx.js'][1648] = 0;
  _$jscoverage['js/vs_fx.js'][1650] = 0;
  _$jscoverage['js/vs_fx.js'][1652] = 0;
  _$jscoverage['js/vs_fx.js'][1654] = 0;
  _$jscoverage['js/vs_fx.js'][1655] = 0;
  _$jscoverage['js/vs_fx.js'][1657] = 0;
  _$jscoverage['js/vs_fx.js'][1659] = 0;
  _$jscoverage['js/vs_fx.js'][1660] = 0;
  _$jscoverage['js/vs_fx.js'][1662] = 0;
  _$jscoverage['js/vs_fx.js'][1664] = 0;
  _$jscoverage['js/vs_fx.js'][1665] = 0;
  _$jscoverage['js/vs_fx.js'][1679] = 0;
  _$jscoverage['js/vs_fx.js'][1681] = 0;
  _$jscoverage['js/vs_fx.js'][1682] = 0;
  _$jscoverage['js/vs_fx.js'][1684] = 0;
  _$jscoverage['js/vs_fx.js'][1688] = 0;
  _$jscoverage['js/vs_fx.js'][1707] = 0;
  _$jscoverage['js/vs_fx.js'][1709] = 0;
  _$jscoverage['js/vs_fx.js'][1710] = 0;
  _$jscoverage['js/vs_fx.js'][1712] = 0;
  _$jscoverage['js/vs_fx.js'][1722] = 0;
  _$jscoverage['js/vs_fx.js'][1723] = 0;
  _$jscoverage['js/vs_fx.js'][1754] = 0;
  _$jscoverage['js/vs_fx.js'][1755] = 0;
  _$jscoverage['js/vs_fx.js'][1757] = 0;
  _$jscoverage['js/vs_fx.js'][1758] = 0;
  _$jscoverage['js/vs_fx.js'][1759] = 0;
  _$jscoverage['js/vs_fx.js'][1760] = 0;
  _$jscoverage['js/vs_fx.js'][1761] = 0;
  _$jscoverage['js/vs_fx.js'][1762] = 0;
  _$jscoverage['js/vs_fx.js'][1764] = 0;
  _$jscoverage['js/vs_fx.js'][1765] = 0;
  _$jscoverage['js/vs_fx.js'][1767] = 0;
  _$jscoverage['js/vs_fx.js'][1768] = 0;
  _$jscoverage['js/vs_fx.js'][1769] = 0;
  _$jscoverage['js/vs_fx.js'][1771] = 0;
  _$jscoverage['js/vs_fx.js'][1773] = 0;
  _$jscoverage['js/vs_fx.js'][1775] = 0;
  _$jscoverage['js/vs_fx.js'][1776] = 0;
  _$jscoverage['js/vs_fx.js'][1778] = 0;
  _$jscoverage['js/vs_fx.js'][1779] = 0;
  _$jscoverage['js/vs_fx.js'][1781] = 0;
  _$jscoverage['js/vs_fx.js'][1785] = 0;
  _$jscoverage['js/vs_fx.js'][1787] = 0;
  _$jscoverage['js/vs_fx.js'][1806] = 0;
  _$jscoverage['js/vs_fx.js'][1808] = 0;
  _$jscoverage['js/vs_fx.js'][1809] = 0;
  _$jscoverage['js/vs_fx.js'][1810] = 0;
  _$jscoverage['js/vs_fx.js'][1811] = 0;
  _$jscoverage['js/vs_fx.js'][1812] = 0;
  _$jscoverage['js/vs_fx.js'][1814] = 0;
  _$jscoverage['js/vs_fx.js'][1815] = 0;
  _$jscoverage['js/vs_fx.js'][1817] = 0;
  _$jscoverage['js/vs_fx.js'][1819] = 0;
  _$jscoverage['js/vs_fx.js'][1838] = 0;
  _$jscoverage['js/vs_fx.js'][1839] = 0;
  _$jscoverage['js/vs_fx.js'][1841] = 0;
  _$jscoverage['js/vs_fx.js'][1842] = 0;
  _$jscoverage['js/vs_fx.js'][1844] = 0;
  _$jscoverage['js/vs_fx.js'][1845] = 0;
  _$jscoverage['js/vs_fx.js'][1847] = 0;
  _$jscoverage['js/vs_fx.js'][1849] = 0;
  _$jscoverage['js/vs_fx.js'][1850] = 0;
  _$jscoverage['js/vs_fx.js'][1854] = 0;
  _$jscoverage['js/vs_fx.js'][1855] = 0;
  _$jscoverage['js/vs_fx.js'][1856] = 0;
  _$jscoverage['js/vs_fx.js'][1858] = 0;
  _$jscoverage['js/vs_fx.js'][1884] = 0;
  _$jscoverage['js/vs_fx.js'][1886] = 0;
  _$jscoverage['js/vs_fx.js'][1887] = 0;
  _$jscoverage['js/vs_fx.js'][1888] = 0;
  _$jscoverage['js/vs_fx.js'][1890] = 0;
  _$jscoverage['js/vs_fx.js'][1892] = 0;
  _$jscoverage['js/vs_fx.js'][1895] = 0;
  _$jscoverage['js/vs_fx.js'][1897] = 0;
  _$jscoverage['js/vs_fx.js'][1899] = 0;
  _$jscoverage['js/vs_fx.js'][1900] = 0;
  _$jscoverage['js/vs_fx.js'][1902] = 0;
  _$jscoverage['js/vs_fx.js'][1903] = 0;
  _$jscoverage['js/vs_fx.js'][1913] = 0;
  _$jscoverage['js/vs_fx.js'][1915] = 0;
  _$jscoverage['js/vs_fx.js'][1917] = 0;
  _$jscoverage['js/vs_fx.js'][1919] = 0;
  _$jscoverage['js/vs_fx.js'][1921] = 0;
  _$jscoverage['js/vs_fx.js'][1923] = 0;
  _$jscoverage['js/vs_fx.js'][1924] = 0;
  _$jscoverage['js/vs_fx.js'][1926] = 0;
  _$jscoverage['js/vs_fx.js'][1928] = 0;
  _$jscoverage['js/vs_fx.js'][1930] = 0;
  _$jscoverage['js/vs_fx.js'][1932] = 0;
  _$jscoverage['js/vs_fx.js'][1934] = 0;
  _$jscoverage['js/vs_fx.js'][1936] = 0;
  _$jscoverage['js/vs_fx.js'][1937] = 0;
  _$jscoverage['js/vs_fx.js'][1939] = 0;
  _$jscoverage['js/vs_fx.js'][1940] = 0;
  _$jscoverage['js/vs_fx.js'][1942] = 0;
  _$jscoverage['js/vs_fx.js'][1944] = 0;
  _$jscoverage['js/vs_fx.js'][1946] = 0;
  _$jscoverage['js/vs_fx.js'][1947] = 0;
  _$jscoverage['js/vs_fx.js'][1949] = 0;
  _$jscoverage['js/vs_fx.js'][1951] = 0;
  _$jscoverage['js/vs_fx.js'][1952] = 0;
  _$jscoverage['js/vs_fx.js'][1955] = 0;
  _$jscoverage['js/vs_fx.js'][1957] = 0;
  _$jscoverage['js/vs_fx.js'][1959] = 0;
  _$jscoverage['js/vs_fx.js'][1961] = 0;
  _$jscoverage['js/vs_fx.js'][1965] = 0;
  _$jscoverage['js/vs_fx.js'][1966] = 0;
  _$jscoverage['js/vs_fx.js'][1968] = 0;
  _$jscoverage['js/vs_fx.js'][1970] = 0;
  _$jscoverage['js/vs_fx.js'][1971] = 0;
  _$jscoverage['js/vs_fx.js'][1974] = 0;
  _$jscoverage['js/vs_fx.js'][1976] = 0;
  _$jscoverage['js/vs_fx.js'][2002] = 0;
  _$jscoverage['js/vs_fx.js'][2004] = 0;
  _$jscoverage['js/vs_fx.js'][2006] = 0;
  _$jscoverage['js/vs_fx.js'][2008] = 0;
  _$jscoverage['js/vs_fx.js'][2009] = 0;
  _$jscoverage['js/vs_fx.js'][2011] = 0;
  _$jscoverage['js/vs_fx.js'][2012] = 0;
  _$jscoverage['js/vs_fx.js'][2015] = 0;
  _$jscoverage['js/vs_fx.js'][2016] = 0;
  _$jscoverage['js/vs_fx.js'][2018] = 0;
  _$jscoverage['js/vs_fx.js'][2044] = 0;
  _$jscoverage['js/vs_fx.js'][2046] = 0;
  _$jscoverage['js/vs_fx.js'][2063] = 0;
  _$jscoverage['js/vs_fx.js'][2065] = 0;
  _$jscoverage['js/vs_fx.js'][2069] = 0;
  _$jscoverage['js/vs_fx.js'][2071] = 0;
  _$jscoverage['js/vs_fx.js'][2074] = 0;
  _$jscoverage['js/vs_fx.js'][2075] = 0;
  _$jscoverage['js/vs_fx.js'][2077] = 0;
  _$jscoverage['js/vs_fx.js'][2079] = 0;
  _$jscoverage['js/vs_fx.js'][2080] = 0;
  _$jscoverage['js/vs_fx.js'][2085] = 0;
  _$jscoverage['js/vs_fx.js'][2087] = 0;
  _$jscoverage['js/vs_fx.js'][2089] = 0;
  _$jscoverage['js/vs_fx.js'][2092] = 0;
  _$jscoverage['js/vs_fx.js'][2095] = 0;
  _$jscoverage['js/vs_fx.js'][2097] = 0;
  _$jscoverage['js/vs_fx.js'][2100] = 0;
  _$jscoverage['js/vs_fx.js'][2102] = 0;
  _$jscoverage['js/vs_fx.js'][2106] = 0;
  _$jscoverage['js/vs_fx.js'][2111] = 0;
  _$jscoverage['js/vs_fx.js'][2113] = 0;
  _$jscoverage['js/vs_fx.js'][2114] = 0;
  _$jscoverage['js/vs_fx.js'][2116] = 0;
  _$jscoverage['js/vs_fx.js'][2118] = 0;
  _$jscoverage['js/vs_fx.js'][2119] = 0;
  _$jscoverage['js/vs_fx.js'][2120] = 0;
  _$jscoverage['js/vs_fx.js'][2121] = 0;
  _$jscoverage['js/vs_fx.js'][2132] = 0;
  _$jscoverage['js/vs_fx.js'][2134] = 0;
  _$jscoverage['js/vs_fx.js'][2138] = 0;
  _$jscoverage['js/vs_fx.js'][2140] = 0;
  _$jscoverage['js/vs_fx.js'][2141] = 0;
  _$jscoverage['js/vs_fx.js'][2143] = 0;
  _$jscoverage['js/vs_fx.js'][2145] = 0;
  _$jscoverage['js/vs_fx.js'][2146] = 0;
  _$jscoverage['js/vs_fx.js'][2147] = 0;
  _$jscoverage['js/vs_fx.js'][2148] = 0;
  _$jscoverage['js/vs_fx.js'][2172] = 0;
  _$jscoverage['js/vs_fx.js'][2174] = 0;
  _$jscoverage['js/vs_fx.js'][2176] = 0;
  _$jscoverage['js/vs_fx.js'][2177] = 0;
  _$jscoverage['js/vs_fx.js'][2181] = 0;
  _$jscoverage['js/vs_fx.js'][2183] = 0;
  _$jscoverage['js/vs_fx.js'][2185] = 0;
  _$jscoverage['js/vs_fx.js'][2188] = 0;
  _$jscoverage['js/vs_fx.js'][2189] = 0;
  _$jscoverage['js/vs_fx.js'][2193] = 0;
  _$jscoverage['js/vs_fx.js'][2196] = 0;
  _$jscoverage['js/vs_fx.js'][2197] = 0;
  _$jscoverage['js/vs_fx.js'][2199] = 0;
  _$jscoverage['js/vs_fx.js'][2201] = 0;
  _$jscoverage['js/vs_fx.js'][2203] = 0;
  _$jscoverage['js/vs_fx.js'][2205] = 0;
  _$jscoverage['js/vs_fx.js'][2207] = 0;
  _$jscoverage['js/vs_fx.js'][2209] = 0;
  _$jscoverage['js/vs_fx.js'][2211] = 0;
  _$jscoverage['js/vs_fx.js'][2216] = 0;
  _$jscoverage['js/vs_fx.js'][2221] = 0;
  _$jscoverage['js/vs_fx.js'][2223] = 0;
  _$jscoverage['js/vs_fx.js'][2230] = 0;
  _$jscoverage['js/vs_fx.js'][2233] = 0;
  _$jscoverage['js/vs_fx.js'][2235] = 0;
  _$jscoverage['js/vs_fx.js'][2236] = 0;
  _$jscoverage['js/vs_fx.js'][2238] = 0;
  _$jscoverage['js/vs_fx.js'][2240] = 0;
  _$jscoverage['js/vs_fx.js'][2242] = 0;
  _$jscoverage['js/vs_fx.js'][2246] = 0;
  _$jscoverage['js/vs_fx.js'][2255] = 0;
  _$jscoverage['js/vs_fx.js'][2256] = 0;
  _$jscoverage['js/vs_fx.js'][2272] = 0;
  _$jscoverage['js/vs_fx.js'][2274] = 0;
  _$jscoverage['js/vs_fx.js'][2277] = 0;
  _$jscoverage['js/vs_fx.js'][2283] = 0;
  _$jscoverage['js/vs_fx.js'][2298] = 0;
  _$jscoverage['js/vs_fx.js'][2300] = 0;
  _$jscoverage['js/vs_fx.js'][2301] = 0;
  _$jscoverage['js/vs_fx.js'][2304] = 0;
  _$jscoverage['js/vs_fx.js'][2307] = 0;
  _$jscoverage['js/vs_fx.js'][2308] = 0;
  _$jscoverage['js/vs_fx.js'][2310] = 0;
  _$jscoverage['js/vs_fx.js'][2318] = 0;
  _$jscoverage['js/vs_fx.js'][2340] = 0;
  _$jscoverage['js/vs_fx.js'][2348] = 0;
  _$jscoverage['js/vs_fx.js'][2390] = 0;
  _$jscoverage['js/vs_fx.js'][2392] = 0;
  _$jscoverage['js/vs_fx.js'][2393] = 0;
  _$jscoverage['js/vs_fx.js'][2394] = 0;
  _$jscoverage['js/vs_fx.js'][2396] = 0;
  _$jscoverage['js/vs_fx.js'][2398] = 0;
  _$jscoverage['js/vs_fx.js'][2399] = 0;
  _$jscoverage['js/vs_fx.js'][2400] = 0;
  _$jscoverage['js/vs_fx.js'][2402] = 0;
  _$jscoverage['js/vs_fx.js'][2409] = 0;
  _$jscoverage['js/vs_fx.js'][2416] = 0;
  _$jscoverage['js/vs_fx.js'][2423] = 0;
  _$jscoverage['js/vs_fx.js'][2430] = 0;
  _$jscoverage['js/vs_fx.js'][2432] = 0;
  _$jscoverage['js/vs_fx.js'][2497] = 0;
  _$jscoverage['js/vs_fx.js'][2499] = 0;
  _$jscoverage['js/vs_fx.js'][2508] = 0;
  _$jscoverage['js/vs_fx.js'][2510] = 0;
  _$jscoverage['js/vs_fx.js'][2511] = 0;
  _$jscoverage['js/vs_fx.js'][2546] = 0;
  _$jscoverage['js/vs_fx.js'][2547] = 0;
  _$jscoverage['js/vs_fx.js'][2549] = 0;
  _$jscoverage['js/vs_fx.js'][2551] = 0;
  _$jscoverage['js/vs_fx.js'][2553] = 0;
  _$jscoverage['js/vs_fx.js'][2554] = 0;
  _$jscoverage['js/vs_fx.js'][2557] = 0;
  _$jscoverage['js/vs_fx.js'][2559] = 0;
  _$jscoverage['js/vs_fx.js'][2560] = 0;
  _$jscoverage['js/vs_fx.js'][2562] = 0;
  _$jscoverage['js/vs_fx.js'][2565] = 0;
  _$jscoverage['js/vs_fx.js'][2566] = 0;
  _$jscoverage['js/vs_fx.js'][2567] = 0;
  _$jscoverage['js/vs_fx.js'][2571] = 0;
  _$jscoverage['js/vs_fx.js'][2573] = 0;
  _$jscoverage['js/vs_fx.js'][2574] = 0;
  _$jscoverage['js/vs_fx.js'][2576] = 0;
  _$jscoverage['js/vs_fx.js'][2577] = 0;
  _$jscoverage['js/vs_fx.js'][2579] = 0;
  _$jscoverage['js/vs_fx.js'][2581] = 0;
  _$jscoverage['js/vs_fx.js'][2584] = 0;
  _$jscoverage['js/vs_fx.js'][2585] = 0;
  _$jscoverage['js/vs_fx.js'][2586] = 0;
  _$jscoverage['js/vs_fx.js'][2588] = 0;
  _$jscoverage['js/vs_fx.js'][2590] = 0;
  _$jscoverage['js/vs_fx.js'][2593] = 0;
  _$jscoverage['js/vs_fx.js'][2596] = 0;
  _$jscoverage['js/vs_fx.js'][2597] = 0;
  _$jscoverage['js/vs_fx.js'][2623] = 0;
  _$jscoverage['js/vs_fx.js'][2625] = 0;
  _$jscoverage['js/vs_fx.js'][2626] = 0;
  _$jscoverage['js/vs_fx.js'][2627] = 0;
  _$jscoverage['js/vs_fx.js'][2628] = 0;
  _$jscoverage['js/vs_fx.js'][2629] = 0;
  _$jscoverage['js/vs_fx.js'][2631] = 0;
  _$jscoverage['js/vs_fx.js'][2632] = 0;
  _$jscoverage['js/vs_fx.js'][2634] = 0;
  _$jscoverage['js/vs_fx.js'][2635] = 0;
  _$jscoverage['js/vs_fx.js'][2636] = 0;
  _$jscoverage['js/vs_fx.js'][2638] = 0;
  _$jscoverage['js/vs_fx.js'][2640] = 0;
  _$jscoverage['js/vs_fx.js'][2641] = 0;
  _$jscoverage['js/vs_fx.js'][2643] = 0;
  _$jscoverage['js/vs_fx.js'][2645] = 0;
  _$jscoverage['js/vs_fx.js'][2648] = 0;
  _$jscoverage['js/vs_fx.js'][2650] = 0;
  _$jscoverage['js/vs_fx.js'][2651] = 0;
  _$jscoverage['js/vs_fx.js'][2653] = 0;
  _$jscoverage['js/vs_fx.js'][2654] = 0;
  _$jscoverage['js/vs_fx.js'][2658] = 0;
  _$jscoverage['js/vs_fx.js'][2660] = 0;
  _$jscoverage['js/vs_fx.js'][2661] = 0;
  _$jscoverage['js/vs_fx.js'][2664] = 0;
  _$jscoverage['js/vs_fx.js'][2666] = 0;
  _$jscoverage['js/vs_fx.js'][2668] = 0;
  _$jscoverage['js/vs_fx.js'][2670] = 0;
  _$jscoverage['js/vs_fx.js'][2674] = 0;
  _$jscoverage['js/vs_fx.js'][2675] = 0;
  _$jscoverage['js/vs_fx.js'][2680] = 0;
  _$jscoverage['js/vs_fx.js'][2683] = 0;
  _$jscoverage['js/vs_fx.js'][2694] = 0;
  _$jscoverage['js/vs_fx.js'][2711] = 0;
  _$jscoverage['js/vs_fx.js'][2712] = 0;
  _$jscoverage['js/vs_fx.js'][2714] = 0;
  _$jscoverage['js/vs_fx.js'][2727] = 0;
  _$jscoverage['js/vs_fx.js'][2728] = 0;
  _$jscoverage['js/vs_fx.js'][2730] = 0;
  _$jscoverage['js/vs_fx.js'][2731] = 0;
  _$jscoverage['js/vs_fx.js'][2733] = 0;
  _$jscoverage['js/vs_fx.js'][2735] = 0;
  _$jscoverage['js/vs_fx.js'][2737] = 0;
  _$jscoverage['js/vs_fx.js'][2738] = 0;
  _$jscoverage['js/vs_fx.js'][2740] = 0;
  _$jscoverage['js/vs_fx.js'][2744] = 0;
  _$jscoverage['js/vs_fx.js'][2746] = 0;
  _$jscoverage['js/vs_fx.js'][2747] = 0;
  _$jscoverage['js/vs_fx.js'][2749] = 0;
  _$jscoverage['js/vs_fx.js'][2763] = 0;
  _$jscoverage['js/vs_fx.js'][2776] = 0;
  _$jscoverage['js/vs_fx.js'][2789] = 0;
  _$jscoverage['js/vs_fx.js'][2799] = 0;
  _$jscoverage['js/vs_fx.js'][2805] = 0;
  _$jscoverage['js/vs_fx.js'][2816] = 0;
  _$jscoverage['js/vs_fx.js'][2817] = 0;
  _$jscoverage['js/vs_fx.js'][2818] = 0;
  _$jscoverage['js/vs_fx.js'][2820] = 0;
  _$jscoverage['js/vs_fx.js'][2821] = 0;
  _$jscoverage['js/vs_fx.js'][2823] = 0;
  _$jscoverage['js/vs_fx.js'][2824] = 0;
  _$jscoverage['js/vs_fx.js'][2826] = 0;
  _$jscoverage['js/vs_fx.js'][2835] = 0;
  _$jscoverage['js/vs_fx.js'][2837] = 0;
  _$jscoverage['js/vs_fx.js'][2839] = 0;
  _$jscoverage['js/vs_fx.js'][2850] = 0;
  _$jscoverage['js/vs_fx.js'][2852] = 0;
  _$jscoverage['js/vs_fx.js'][2854] = 0;
  _$jscoverage['js/vs_fx.js'][2856] = 0;
  _$jscoverage['js/vs_fx.js'][2857] = 0;
  _$jscoverage['js/vs_fx.js'][2858] = 0;
  _$jscoverage['js/vs_fx.js'][2860] = 0;
  _$jscoverage['js/vs_fx.js'][2864] = 0;
  _$jscoverage['js/vs_fx.js'][2866] = 0;
  _$jscoverage['js/vs_fx.js'][2868] = 0;
  _$jscoverage['js/vs_fx.js'][2869] = 0;
  _$jscoverage['js/vs_fx.js'][2871] = 0;
  _$jscoverage['js/vs_fx.js'][2882] = 0;
  _$jscoverage['js/vs_fx.js'][2893] = 0;
  _$jscoverage['js/vs_fx.js'][2894] = 0;
  _$jscoverage['js/vs_fx.js'][2896] = 0;
  _$jscoverage['js/vs_fx.js'][2904] = 0;
  _$jscoverage['js/vs_fx.js'][2981] = 0;
  _$jscoverage['js/vs_fx.js'][2983] = 0;
  _$jscoverage['js/vs_fx.js'][2984] = 0;
  _$jscoverage['js/vs_fx.js'][2985] = 0;
  _$jscoverage['js/vs_fx.js'][2987] = 0;
  _$jscoverage['js/vs_fx.js'][2989] = 0;
  _$jscoverage['js/vs_fx.js'][2990] = 0;
  _$jscoverage['js/vs_fx.js'][2991] = 0;
  _$jscoverage['js/vs_fx.js'][2993] = 0;
  _$jscoverage['js/vs_fx.js'][3001] = 0;
  _$jscoverage['js/vs_fx.js'][3009] = 0;
  _$jscoverage['js/vs_fx.js'][3017] = 0;
  _$jscoverage['js/vs_fx.js'][3019] = 0;
  _$jscoverage['js/vs_fx.js'][3068] = 0;
  _$jscoverage['js/vs_fx.js'][3069] = 0;
  _$jscoverage['js/vs_fx.js'][3071] = 0;
  _$jscoverage['js/vs_fx.js'][3072] = 0;
  _$jscoverage['js/vs_fx.js'][3073] = 0;
  _$jscoverage['js/vs_fx.js'][3074] = 0;
  _$jscoverage['js/vs_fx.js'][3076] = 0;
  _$jscoverage['js/vs_fx.js'][3078] = 0;
  _$jscoverage['js/vs_fx.js'][3079] = 0;
  _$jscoverage['js/vs_fx.js'][3080] = 0;
  _$jscoverage['js/vs_fx.js'][3081] = 0;
  _$jscoverage['js/vs_fx.js'][3085] = 0;
  _$jscoverage['js/vs_fx.js'][3087] = 0;
  _$jscoverage['js/vs_fx.js'][3089] = 0;
  _$jscoverage['js/vs_fx.js'][3091] = 0;
  _$jscoverage['js/vs_fx.js'][3094] = 0;
  _$jscoverage['js/vs_fx.js'][3096] = 0;
  _$jscoverage['js/vs_fx.js'][3097] = 0;
  _$jscoverage['js/vs_fx.js'][3099] = 0;
  _$jscoverage['js/vs_fx.js'][3101] = 0;
  _$jscoverage['js/vs_fx.js'][3104] = 0;
  _$jscoverage['js/vs_fx.js'][3106] = 0;
  _$jscoverage['js/vs_fx.js'][3108] = 0;
  _$jscoverage['js/vs_fx.js'][3110] = 0;
  _$jscoverage['js/vs_fx.js'][3114] = 0;
  _$jscoverage['js/vs_fx.js'][3115] = 0;
  _$jscoverage['js/vs_fx.js'][3116] = 0;
  _$jscoverage['js/vs_fx.js'][3119] = 0;
  _$jscoverage['js/vs_fx.js'][3120] = 0;
  _$jscoverage['js/vs_fx.js'][3151] = 0;
  _$jscoverage['js/vs_fx.js'][3152] = 0;
  _$jscoverage['js/vs_fx.js'][3154] = 0;
  _$jscoverage['js/vs_fx.js'][3156] = 0;
  _$jscoverage['js/vs_fx.js'][3158] = 0;
  _$jscoverage['js/vs_fx.js'][3159] = 0;
  _$jscoverage['js/vs_fx.js'][3162] = 0;
  _$jscoverage['js/vs_fx.js'][3164] = 0;
  _$jscoverage['js/vs_fx.js'][3165] = 0;
  _$jscoverage['js/vs_fx.js'][3167] = 0;
  _$jscoverage['js/vs_fx.js'][3170] = 0;
  _$jscoverage['js/vs_fx.js'][3172] = 0;
  _$jscoverage['js/vs_fx.js'][3178] = 0;
  _$jscoverage['js/vs_fx.js'][3179] = 0;
  _$jscoverage['js/vs_fx.js'][3181] = 0;
  _$jscoverage['js/vs_fx.js'][3182] = 0;
  _$jscoverage['js/vs_fx.js'][3184] = 0;
  _$jscoverage['js/vs_fx.js'][3186] = 0;
  _$jscoverage['js/vs_fx.js'][3188] = 0;
  _$jscoverage['js/vs_fx.js'][3191] = 0;
  _$jscoverage['js/vs_fx.js'][3192] = 0;
  _$jscoverage['js/vs_fx.js'][3193] = 0;
  _$jscoverage['js/vs_fx.js'][3195] = 0;
  _$jscoverage['js/vs_fx.js'][3197] = 0;
  _$jscoverage['js/vs_fx.js'][3200] = 0;
  _$jscoverage['js/vs_fx.js'][3201] = 0;
  _$jscoverage['js/vs_fx.js'][3202] = 0;
  _$jscoverage['js/vs_fx.js'][3206] = 0;
  _$jscoverage['js/vs_fx.js'][3208] = 0;
  _$jscoverage['js/vs_fx.js'][3209] = 0;
  _$jscoverage['js/vs_fx.js'][3213] = 0;
  _$jscoverage['js/vs_fx.js'][3214] = 0;
  _$jscoverage['js/vs_fx.js'][3223] = 0;
  _$jscoverage['js/vs_fx.js'][3224] = 0;
  _$jscoverage['js/vs_fx.js'][3225] = 0;
  _$jscoverage['js/vs_fx.js'][3227] = 0;
  _$jscoverage['js/vs_fx.js'][3229] = 0;
  _$jscoverage['js/vs_fx.js'][3231] = 0;
  _$jscoverage['js/vs_fx.js'][3234] = 0;
  _$jscoverage['js/vs_fx.js'][3235] = 0;
  _$jscoverage['js/vs_fx.js'][3247] = 0;
  _$jscoverage['js/vs_fx.js'][3250] = 0;
  _$jscoverage['js/vs_fx.js'][3252] = 0;
  _$jscoverage['js/vs_fx.js'][3254] = 0;
  _$jscoverage['js/vs_fx.js'][3255] = 0;
  _$jscoverage['js/vs_fx.js'][3257] = 0;
  _$jscoverage['js/vs_fx.js'][3261] = 0;
  _$jscoverage['js/vs_fx.js'][3262] = 0;
  _$jscoverage['js/vs_fx.js'][3264] = 0;
  _$jscoverage['js/vs_fx.js'][3267] = 0;
  _$jscoverage['js/vs_fx.js'][3268] = 0;
  _$jscoverage['js/vs_fx.js'][3270] = 0;
  _$jscoverage['js/vs_fx.js'][3271] = 0;
  _$jscoverage['js/vs_fx.js'][3273] = 0;
  _$jscoverage['js/vs_fx.js'][3275] = 0;
  _$jscoverage['js/vs_fx.js'][3276] = 0;
  _$jscoverage['js/vs_fx.js'][3278] = 0;
  _$jscoverage['js/vs_fx.js'][3279] = 0;
  _$jscoverage['js/vs_fx.js'][3281] = 0;
  _$jscoverage['js/vs_fx.js'][3285] = 0;
  _$jscoverage['js/vs_fx.js'][3286] = 0;
  _$jscoverage['js/vs_fx.js'][3288] = 0;
  _$jscoverage['js/vs_fx.js'][3291] = 0;
  _$jscoverage['js/vs_fx.js'][3293] = 0;
  _$jscoverage['js/vs_fx.js'][3295] = 0;
  _$jscoverage['js/vs_fx.js'][3297] = 0;
  _$jscoverage['js/vs_fx.js'][3299] = 0;
  _$jscoverage['js/vs_fx.js'][3301] = 0;
  _$jscoverage['js/vs_fx.js'][3303] = 0;
  _$jscoverage['js/vs_fx.js'][3305] = 0;
  _$jscoverage['js/vs_fx.js'][3306] = 0;
  _$jscoverage['js/vs_fx.js'][3310] = 0;
  _$jscoverage['js/vs_fx.js'][3311] = 0;
  _$jscoverage['js/vs_fx.js'][3315] = 0;
  _$jscoverage['js/vs_fx.js'][3316] = 0;
  _$jscoverage['js/vs_fx.js'][3326] = 0;
  _$jscoverage['js/vs_fx.js'][3327] = 0;
  _$jscoverage['js/vs_fx.js'][3438] = 0;
  _$jscoverage['js/vs_fx.js'][3444] = 0;
  _$jscoverage['js/vs_fx.js'][3455] = 0;
  _$jscoverage['js/vs_fx.js'][3457] = 0;
  _$jscoverage['js/vs_fx.js'][3458] = 0;
  _$jscoverage['js/vs_fx.js'][3460] = 0;
  _$jscoverage['js/vs_fx.js'][3461] = 0;
  _$jscoverage['js/vs_fx.js'][3470] = 0;
  _$jscoverage['js/vs_fx.js'][3481] = 0;
  _$jscoverage['js/vs_fx.js'][3482] = 0;
  _$jscoverage['js/vs_fx.js'][3484] = 0;
  _$jscoverage['js/vs_fx.js'][3485] = 0;
  _$jscoverage['js/vs_fx.js'][3486] = 0;
  _$jscoverage['js/vs_fx.js'][3487] = 0;
  _$jscoverage['js/vs_fx.js'][3495] = 0;
  _$jscoverage['js/vs_fx.js'][3617] = 0;
  _$jscoverage['js/vs_fx.js'][3619] = 0;
  _$jscoverage['js/vs_fx.js'][3620] = 0;
  _$jscoverage['js/vs_fx.js'][3621] = 0;
  _$jscoverage['js/vs_fx.js'][3623] = 0;
  _$jscoverage['js/vs_fx.js'][3625] = 0;
  _$jscoverage['js/vs_fx.js'][3628] = 0;
  _$jscoverage['js/vs_fx.js'][3631] = 0;
  _$jscoverage['js/vs_fx.js'][3633] = 0;
  _$jscoverage['js/vs_fx.js'][3635] = 0;
  _$jscoverage['js/vs_fx.js'][3647] = 0;
  _$jscoverage['js/vs_fx.js'][3654] = 0;
  _$jscoverage['js/vs_fx.js'][3663] = 0;
  _$jscoverage['js/vs_fx.js'][3670] = 0;
  _$jscoverage['js/vs_fx.js'][3676] = 0;
  _$jscoverage['js/vs_fx.js'][3678] = 0;
  _$jscoverage['js/vs_fx.js'][3708] = 0;
  _$jscoverage['js/vs_fx.js'][3717] = 0;
  _$jscoverage['js/vs_fx.js'][3719] = 0;
  _$jscoverage['js/vs_fx.js'][3721] = 0;
  _$jscoverage['js/vs_fx.js'][3722] = 0;
  _$jscoverage['js/vs_fx.js'][3723] = 0;
  _$jscoverage['js/vs_fx.js'][3724] = 0;
  _$jscoverage['js/vs_fx.js'][3737] = 0;
  _$jscoverage['js/vs_fx.js'][3739] = 0;
  _$jscoverage['js/vs_fx.js'][3748] = 0;
  _$jscoverage['js/vs_fx.js'][3749] = 0;
  _$jscoverage['js/vs_fx.js'][3758] = 0;
  _$jscoverage['js/vs_fx.js'][3760] = 0;
  _$jscoverage['js/vs_fx.js'][3761] = 0;
  _$jscoverage['js/vs_fx.js'][3801] = 0;
  _$jscoverage['js/vs_fx.js'][3802] = 0;
  _$jscoverage['js/vs_fx.js'][3804] = 0;
  _$jscoverage['js/vs_fx.js'][3806] = 0;
  _$jscoverage['js/vs_fx.js'][3808] = 0;
  _$jscoverage['js/vs_fx.js'][3809] = 0;
  _$jscoverage['js/vs_fx.js'][3811] = 0;
  _$jscoverage['js/vs_fx.js'][3814] = 0;
  _$jscoverage['js/vs_fx.js'][3828] = 0;
  _$jscoverage['js/vs_fx.js'][3830] = 0;
  _$jscoverage['js/vs_fx.js'][3831] = 0;
  _$jscoverage['js/vs_fx.js'][3833] = 0;
  _$jscoverage['js/vs_fx.js'][3835] = 0;
  _$jscoverage['js/vs_fx.js'][3836] = 0;
  _$jscoverage['js/vs_fx.js'][3838] = 0;
  _$jscoverage['js/vs_fx.js'][3839] = 0;
  _$jscoverage['js/vs_fx.js'][3842] = 0;
  _$jscoverage['js/vs_fx.js'][3843] = 0;
  _$jscoverage['js/vs_fx.js'][3845] = 0;
  _$jscoverage['js/vs_fx.js'][3846] = 0;
  _$jscoverage['js/vs_fx.js'][3848] = 0;
  _$jscoverage['js/vs_fx.js'][3849] = 0;
  _$jscoverage['js/vs_fx.js'][3851] = 0;
  _$jscoverage['js/vs_fx.js'][3855] = 0;
  _$jscoverage['js/vs_fx.js'][3856] = 0;
  _$jscoverage['js/vs_fx.js'][3858] = 0;
  _$jscoverage['js/vs_fx.js'][3878] = 0;
  _$jscoverage['js/vs_fx.js'][3879] = 0;
  _$jscoverage['js/vs_fx.js'][3880] = 0;
  _$jscoverage['js/vs_fx.js'][3882] = 0;
  _$jscoverage['js/vs_fx.js'][3884] = 0;
  _$jscoverage['js/vs_fx.js'][3886] = 0;
  _$jscoverage['js/vs_fx.js'][3889] = 0;
  _$jscoverage['js/vs_fx.js'][3892] = 0;
  _$jscoverage['js/vs_fx.js'][3893] = 0;
  _$jscoverage['js/vs_fx.js'][3894] = 0;
  _$jscoverage['js/vs_fx.js'][3895] = 0;
  _$jscoverage['js/vs_fx.js'][3897] = 0;
  _$jscoverage['js/vs_fx.js'][3899] = 0;
  _$jscoverage['js/vs_fx.js'][3902] = 0;
  _$jscoverage['js/vs_fx.js'][3905] = 0;
  _$jscoverage['js/vs_fx.js'][3906] = 0;
  _$jscoverage['js/vs_fx.js'][3910] = 0;
  _$jscoverage['js/vs_fx.js'][3913] = 0;
  _$jscoverage['js/vs_fx.js'][3916] = 0;
  _$jscoverage['js/vs_fx.js'][3917] = 0;
  _$jscoverage['js/vs_fx.js'][3932] = 0;
  _$jscoverage['js/vs_fx.js'][3934] = 0;
  _$jscoverage['js/vs_fx.js'][3952] = 0;
  _$jscoverage['js/vs_fx.js'][3955] = 0;
  _$jscoverage['js/vs_fx.js'][3957] = 0;
  _$jscoverage['js/vs_fx.js'][3962] = 0;
  _$jscoverage['js/vs_fx.js'][3968] = 0;
  _$jscoverage['js/vs_fx.js'][3978] = 0;
  _$jscoverage['js/vs_fx.js'][3979] = 0;
  _$jscoverage['js/vs_fx.js'][3980] = 0;
  _$jscoverage['js/vs_fx.js'][3982] = 0;
  _$jscoverage['js/vs_fx.js'][3983] = 0;
  _$jscoverage['js/vs_fx.js'][3985] = 0;
  _$jscoverage['js/vs_fx.js'][3986] = 0;
  _$jscoverage['js/vs_fx.js'][3988] = 0;
  _$jscoverage['js/vs_fx.js'][3997] = 0;
  _$jscoverage['js/vs_fx.js'][3999] = 0;
  _$jscoverage['js/vs_fx.js'][4001] = 0;
  _$jscoverage['js/vs_fx.js'][4014] = 0;
  _$jscoverage['js/vs_fx.js'][4016] = 0;
  _$jscoverage['js/vs_fx.js'][4017] = 0;
  _$jscoverage['js/vs_fx.js'][4020] = 0;
  _$jscoverage['js/vs_fx.js'][4023] = 0;
  _$jscoverage['js/vs_fx.js'][4024] = 0;
  _$jscoverage['js/vs_fx.js'][4026] = 0;
  _$jscoverage['js/vs_fx.js'][4027] = 0;
  _$jscoverage['js/vs_fx.js'][4028] = 0;
  _$jscoverage['js/vs_fx.js'][4030] = 0;
  _$jscoverage['js/vs_fx.js'][4039] = 0;
  _$jscoverage['js/vs_fx.js'][4047] = 0;
  _$jscoverage['js/vs_fx.js'][4144] = 0;
  _$jscoverage['js/vs_fx.js'][4146] = 0;
  _$jscoverage['js/vs_fx.js'][4147] = 0;
  _$jscoverage['js/vs_fx.js'][4148] = 0;
  _$jscoverage['js/vs_fx.js'][4150] = 0;
  _$jscoverage['js/vs_fx.js'][4152] = 0;
  _$jscoverage['js/vs_fx.js'][4153] = 0;
  _$jscoverage['js/vs_fx.js'][4155] = 0;
  _$jscoverage['js/vs_fx.js'][4163] = 0;
  _$jscoverage['js/vs_fx.js'][4170] = 0;
  _$jscoverage['js/vs_fx.js'][4177] = 0;
  _$jscoverage['js/vs_fx.js'][4184] = 0;
  _$jscoverage['js/vs_fx.js'][4191] = 0;
  _$jscoverage['js/vs_fx.js'][4193] = 0;
  _$jscoverage['js/vs_fx.js'][4230] = 0;
  _$jscoverage['js/vs_fx.js'][4231] = 0;
  _$jscoverage['js/vs_fx.js'][4233] = 0;
  _$jscoverage['js/vs_fx.js'][4235] = 0;
  _$jscoverage['js/vs_fx.js'][4236] = 0;
  _$jscoverage['js/vs_fx.js'][4238] = 0;
  _$jscoverage['js/vs_fx.js'][4240] = 0;
  _$jscoverage['js/vs_fx.js'][4241] = 0;
  _$jscoverage['js/vs_fx.js'][4243] = 0;
  _$jscoverage['js/vs_fx.js'][4245] = 0;
  _$jscoverage['js/vs_fx.js'][4246] = 0;
  _$jscoverage['js/vs_fx.js'][4250] = 0;
  _$jscoverage['js/vs_fx.js'][4251] = 0;
  _$jscoverage['js/vs_fx.js'][4286] = 0;
  _$jscoverage['js/vs_fx.js'][4287] = 0;
  _$jscoverage['js/vs_fx.js'][4289] = 0;
  _$jscoverage['js/vs_fx.js'][4291] = 0;
  _$jscoverage['js/vs_fx.js'][4293] = 0;
  _$jscoverage['js/vs_fx.js'][4294] = 0;
  _$jscoverage['js/vs_fx.js'][4297] = 0;
  _$jscoverage['js/vs_fx.js'][4299] = 0;
  _$jscoverage['js/vs_fx.js'][4300] = 0;
  _$jscoverage['js/vs_fx.js'][4302] = 0;
  _$jscoverage['js/vs_fx.js'][4305] = 0;
  _$jscoverage['js/vs_fx.js'][4307] = 0;
  _$jscoverage['js/vs_fx.js'][4313] = 0;
  _$jscoverage['js/vs_fx.js'][4314] = 0;
  _$jscoverage['js/vs_fx.js'][4316] = 0;
  _$jscoverage['js/vs_fx.js'][4317] = 0;
  _$jscoverage['js/vs_fx.js'][4319] = 0;
  _$jscoverage['js/vs_fx.js'][4321] = 0;
  _$jscoverage['js/vs_fx.js'][4323] = 0;
  _$jscoverage['js/vs_fx.js'][4326] = 0;
  _$jscoverage['js/vs_fx.js'][4327] = 0;
  _$jscoverage['js/vs_fx.js'][4328] = 0;
  _$jscoverage['js/vs_fx.js'][4330] = 0;
  _$jscoverage['js/vs_fx.js'][4332] = 0;
  _$jscoverage['js/vs_fx.js'][4335] = 0;
  _$jscoverage['js/vs_fx.js'][4336] = 0;
  _$jscoverage['js/vs_fx.js'][4337] = 0;
  _$jscoverage['js/vs_fx.js'][4341] = 0;
  _$jscoverage['js/vs_fx.js'][4343] = 0;
  _$jscoverage['js/vs_fx.js'][4344] = 0;
  _$jscoverage['js/vs_fx.js'][4348] = 0;
  _$jscoverage['js/vs_fx.js'][4349] = 0;
  _$jscoverage['js/vs_fx.js'][4358] = 0;
  _$jscoverage['js/vs_fx.js'][4359] = 0;
  _$jscoverage['js/vs_fx.js'][4360] = 0;
  _$jscoverage['js/vs_fx.js'][4361] = 0;
  _$jscoverage['js/vs_fx.js'][4362] = 0;
  _$jscoverage['js/vs_fx.js'][4364] = 0;
  _$jscoverage['js/vs_fx.js'][4366] = 0;
  _$jscoverage['js/vs_fx.js'][4368] = 0;
  _$jscoverage['js/vs_fx.js'][4370] = 0;
  _$jscoverage['js/vs_fx.js'][4372] = 0;
  _$jscoverage['js/vs_fx.js'][4376] = 0;
  _$jscoverage['js/vs_fx.js'][4378] = 0;
  _$jscoverage['js/vs_fx.js'][4379] = 0;
  _$jscoverage['js/vs_fx.js'][4381] = 0;
  _$jscoverage['js/vs_fx.js'][4382] = 0;
  _$jscoverage['js/vs_fx.js'][4391] = 0;
  _$jscoverage['js/vs_fx.js'][4393] = 0;
  _$jscoverage['js/vs_fx.js'][4395] = 0;
  _$jscoverage['js/vs_fx.js'][4398] = 0;
  _$jscoverage['js/vs_fx.js'][4399] = 0;
  _$jscoverage['js/vs_fx.js'][4401] = 0;
  _$jscoverage['js/vs_fx.js'][4405] = 0;
  _$jscoverage['js/vs_fx.js'][4406] = 0;
  _$jscoverage['js/vs_fx.js'][4408] = 0;
  _$jscoverage['js/vs_fx.js'][4411] = 0;
  _$jscoverage['js/vs_fx.js'][4412] = 0;
  _$jscoverage['js/vs_fx.js'][4414] = 0;
  _$jscoverage['js/vs_fx.js'][4416] = 0;
  _$jscoverage['js/vs_fx.js'][4417] = 0;
  _$jscoverage['js/vs_fx.js'][4419] = 0;
  _$jscoverage['js/vs_fx.js'][4422] = 0;
  _$jscoverage['js/vs_fx.js'][4423] = 0;
  _$jscoverage['js/vs_fx.js'][4425] = 0;
  _$jscoverage['js/vs_fx.js'][4428] = 0;
  _$jscoverage['js/vs_fx.js'][4429] = 0;
  _$jscoverage['js/vs_fx.js'][4431] = 0;
  _$jscoverage['js/vs_fx.js'][4433] = 0;
  _$jscoverage['js/vs_fx.js'][4434] = 0;
  _$jscoverage['js/vs_fx.js'][4435] = 0;
  _$jscoverage['js/vs_fx.js'][4439] = 0;
  _$jscoverage['js/vs_fx.js'][4440] = 0;
  _$jscoverage['js/vs_fx.js'][4442] = 0;
  _$jscoverage['js/vs_fx.js'][4444] = 0;
  _$jscoverage['js/vs_fx.js'][4445] = 0;
  _$jscoverage['js/vs_fx.js'][4446] = 0;
  _$jscoverage['js/vs_fx.js'][4448] = 0;
  _$jscoverage['js/vs_fx.js'][4451] = 0;
  _$jscoverage['js/vs_fx.js'][4453] = 0;
  _$jscoverage['js/vs_fx.js'][4454] = 0;
  _$jscoverage['js/vs_fx.js'][4456] = 0;
  _$jscoverage['js/vs_fx.js'][4458] = 0;
  _$jscoverage['js/vs_fx.js'][4460] = 0;
  _$jscoverage['js/vs_fx.js'][4462] = 0;
  _$jscoverage['js/vs_fx.js'][4465] = 0;
  _$jscoverage['js/vs_fx.js'][4467] = 0;
  _$jscoverage['js/vs_fx.js'][4470] = 0;
  _$jscoverage['js/vs_fx.js'][4475] = 0;
  _$jscoverage['js/vs_fx.js'][4477] = 0;
  _$jscoverage['js/vs_fx.js'][4480] = 0;
  _$jscoverage['js/vs_fx.js'][4483] = 0;
  _$jscoverage['js/vs_fx.js'][4484] = 0;
  _$jscoverage['js/vs_fx.js'][4490] = 0;
  _$jscoverage['js/vs_fx.js'][4492] = 0;
  _$jscoverage['js/vs_fx.js'][4493] = 0;
  _$jscoverage['js/vs_fx.js'][4495] = 0;
  _$jscoverage['js/vs_fx.js'][4497] = 0;
  _$jscoverage['js/vs_fx.js'][4498] = 0;
  _$jscoverage['js/vs_fx.js'][4500] = 0;
  _$jscoverage['js/vs_fx.js'][4503] = 0;
  _$jscoverage['js/vs_fx.js'][4505] = 0;
  _$jscoverage['js/vs_fx.js'][4508] = 0;
  _$jscoverage['js/vs_fx.js'][4513] = 0;
  _$jscoverage['js/vs_fx.js'][4515] = 0;
  _$jscoverage['js/vs_fx.js'][4518] = 0;
  _$jscoverage['js/vs_fx.js'][4521] = 0;
  _$jscoverage['js/vs_fx.js'][4522] = 0;
  _$jscoverage['js/vs_fx.js'][4527] = 0;
  _$jscoverage['js/vs_fx.js'][4529] = 0;
  _$jscoverage['js/vs_fx.js'][4531] = 0;
  _$jscoverage['js/vs_fx.js'][4534] = 0;
  _$jscoverage['js/vs_fx.js'][4536] = 0;
  _$jscoverage['js/vs_fx.js'][4538] = 0;
  _$jscoverage['js/vs_fx.js'][4540] = 0;
  _$jscoverage['js/vs_fx.js'][4545] = 0;
  _$jscoverage['js/vs_fx.js'][4547] = 0;
  _$jscoverage['js/vs_fx.js'][4549] = 0;
  _$jscoverage['js/vs_fx.js'][4551] = 0;
  _$jscoverage['js/vs_fx.js'][4554] = 0;
  _$jscoverage['js/vs_fx.js'][4556] = 0;
  _$jscoverage['js/vs_fx.js'][4558] = 0;
  _$jscoverage['js/vs_fx.js'][4559] = 0;
  _$jscoverage['js/vs_fx.js'][4561] = 0;
  _$jscoverage['js/vs_fx.js'][4565] = 0;
  _$jscoverage['js/vs_fx.js'][4566] = 0;
  _$jscoverage['js/vs_fx.js'][4567] = 0;
  _$jscoverage['js/vs_fx.js'][4569] = 0;
  _$jscoverage['js/vs_fx.js'][4571] = 0;
  _$jscoverage['js/vs_fx.js'][4573] = 0;
  _$jscoverage['js/vs_fx.js'][4577] = 0;
  _$jscoverage['js/vs_fx.js'][4578] = 0;
  _$jscoverage['js/vs_fx.js'][4579] = 0;
  _$jscoverage['js/vs_fx.js'][4581] = 0;
  _$jscoverage['js/vs_fx.js'][4583] = 0;
  _$jscoverage['js/vs_fx.js'][4585] = 0;
  _$jscoverage['js/vs_fx.js'][4587] = 0;
  _$jscoverage['js/vs_fx.js'][4588] = 0;
  _$jscoverage['js/vs_fx.js'][4590] = 0;
  _$jscoverage['js/vs_fx.js'][4591] = 0;
  _$jscoverage['js/vs_fx.js'][4593] = 0;
  _$jscoverage['js/vs_fx.js'][4595] = 0;
  _$jscoverage['js/vs_fx.js'][4597] = 0;
  _$jscoverage['js/vs_fx.js'][4599] = 0;
  _$jscoverage['js/vs_fx.js'][4601] = 0;
  _$jscoverage['js/vs_fx.js'][4603] = 0;
  _$jscoverage['js/vs_fx.js'][4607] = 0;
  _$jscoverage['js/vs_fx.js'][4609] = 0;
  _$jscoverage['js/vs_fx.js'][4610] = 0;
  _$jscoverage['js/vs_fx.js'][4612] = 0;
  _$jscoverage['js/vs_fx.js'][4614] = 0;
  _$jscoverage['js/vs_fx.js'][4618] = 0;
  _$jscoverage['js/vs_fx.js'][4619] = 0;
  _$jscoverage['js/vs_fx.js'][4623] = 0;
  _$jscoverage['js/vs_fx.js'][4629] = 0;
  _$jscoverage['js/vs_fx.js'][4639] = 0;
  _$jscoverage['js/vs_fx.js'][4642] = 0;
  _$jscoverage['js/vs_fx.js'][4645] = 0;
  _$jscoverage['js/vs_fx.js'][4647] = 0;
  _$jscoverage['js/vs_fx.js'][4648] = 0;
  _$jscoverage['js/vs_fx.js'][4657] = 0;
  _$jscoverage['js/vs_fx.js'][4668] = 0;
  _$jscoverage['js/vs_fx.js'][4669] = 0;
  _$jscoverage['js/vs_fx.js'][4671] = 0;
  _$jscoverage['js/vs_fx.js'][4672] = 0;
  _$jscoverage['js/vs_fx.js'][4673] = 0;
  _$jscoverage['js/vs_fx.js'][4674] = 0;
  _$jscoverage['js/vs_fx.js'][4675] = 0;
  _$jscoverage['js/vs_fx.js'][4685] = 0;
  _$jscoverage['js/vs_fx.js'][4772] = 0;
  _$jscoverage['js/vs_fx.js'][4774] = 0;
  _$jscoverage['js/vs_fx.js'][4775] = 0;
  _$jscoverage['js/vs_fx.js'][4776] = 0;
  _$jscoverage['js/vs_fx.js'][4778] = 0;
  _$jscoverage['js/vs_fx.js'][4785] = 0;
  _$jscoverage['js/vs_fx.js'][4786] = 0;
  _$jscoverage['js/vs_fx.js'][4787] = 0;
  _$jscoverage['js/vs_fx.js'][4788] = 0;
  _$jscoverage['js/vs_fx.js'][4789] = 0;
  _$jscoverage['js/vs_fx.js'][4790] = 0;
  _$jscoverage['js/vs_fx.js'][4791] = 0;
  _$jscoverage['js/vs_fx.js'][4792] = 0;
  _$jscoverage['js/vs_fx.js'][4798] = 0;
  _$jscoverage['js/vs_fx.js'][4804] = 0;
  _$jscoverage['js/vs_fx.js'][4807] = 0;
  _$jscoverage['js/vs_fx.js'][4851] = 0;
  _$jscoverage['js/vs_fx.js'][4853] = 0;
  _$jscoverage['js/vs_fx.js'][4855] = 0;
  _$jscoverage['js/vs_fx.js'][4856] = 0;
  _$jscoverage['js/vs_fx.js'][4857] = 0;
  _$jscoverage['js/vs_fx.js'][4859] = 0;
  _$jscoverage['js/vs_fx.js'][4872] = 0;
  _$jscoverage['js/vs_fx.js'][4874] = 0;
  _$jscoverage['js/vs_fx.js'][4876] = 0;
  _$jscoverage['js/vs_fx.js'][4878] = 0;
  _$jscoverage['js/vs_fx.js'][4879] = 0;
  _$jscoverage['js/vs_fx.js'][4881] = 0;
  _$jscoverage['js/vs_fx.js'][4885] = 0;
  _$jscoverage['js/vs_fx.js'][4886] = 0;
  _$jscoverage['js/vs_fx.js'][4888] = 0;
  _$jscoverage['js/vs_fx.js'][4891] = 0;
  _$jscoverage['js/vs_fx.js'][4892] = 0;
  _$jscoverage['js/vs_fx.js'][4894] = 0;
  _$jscoverage['js/vs_fx.js'][4896] = 0;
  _$jscoverage['js/vs_fx.js'][4898] = 0;
  _$jscoverage['js/vs_fx.js'][4899] = 0;
  _$jscoverage['js/vs_fx.js'][4900] = 0;
  _$jscoverage['js/vs_fx.js'][4902] = 0;
  _$jscoverage['js/vs_fx.js'][4904] = 0;
  _$jscoverage['js/vs_fx.js'][4906] = 0;
  _$jscoverage['js/vs_fx.js'][4907] = 0;
  _$jscoverage['js/vs_fx.js'][4909] = 0;
  _$jscoverage['js/vs_fx.js'][4911] = 0;
  _$jscoverage['js/vs_fx.js'][4912] = 0;
  _$jscoverage['js/vs_fx.js'][4913] = 0;
  _$jscoverage['js/vs_fx.js'][4917] = 0;
  _$jscoverage['js/vs_fx.js'][4918] = 0;
  _$jscoverage['js/vs_fx.js'][4920] = 0;
  _$jscoverage['js/vs_fx.js'][4922] = 0;
  _$jscoverage['js/vs_fx.js'][4923] = 0;
  _$jscoverage['js/vs_fx.js'][4924] = 0;
  _$jscoverage['js/vs_fx.js'][4926] = 0;
  _$jscoverage['js/vs_fx.js'][4928] = 0;
  _$jscoverage['js/vs_fx.js'][4929] = 0;
  _$jscoverage['js/vs_fx.js'][4931] = 0;
  _$jscoverage['js/vs_fx.js'][4933] = 0;
  _$jscoverage['js/vs_fx.js'][4934] = 0;
  _$jscoverage['js/vs_fx.js'][4936] = 0;
  _$jscoverage['js/vs_fx.js'][4938] = 0;
  _$jscoverage['js/vs_fx.js'][4940] = 0;
  _$jscoverage['js/vs_fx.js'][4943] = 0;
  _$jscoverage['js/vs_fx.js'][4948] = 0;
  _$jscoverage['js/vs_fx.js'][4950] = 0;
  _$jscoverage['js/vs_fx.js'][4953] = 0;
  _$jscoverage['js/vs_fx.js'][4956] = 0;
  _$jscoverage['js/vs_fx.js'][4957] = 0;
  _$jscoverage['js/vs_fx.js'][4961] = 0;
  _$jscoverage['js/vs_fx.js'][4963] = 0;
  _$jscoverage['js/vs_fx.js'][4964] = 0;
  _$jscoverage['js/vs_fx.js'][4966] = 0;
  _$jscoverage['js/vs_fx.js'][4968] = 0;
  _$jscoverage['js/vs_fx.js'][4970] = 0;
  _$jscoverage['js/vs_fx.js'][4972] = 0;
  _$jscoverage['js/vs_fx.js'][4974] = 0;
  _$jscoverage['js/vs_fx.js'][4976] = 0;
  _$jscoverage['js/vs_fx.js'][4977] = 0;
  _$jscoverage['js/vs_fx.js'][4979] = 0;
  _$jscoverage['js/vs_fx.js'][4981] = 0;
  _$jscoverage['js/vs_fx.js'][4982] = 0;
  _$jscoverage['js/vs_fx.js'][4983] = 0;
  _$jscoverage['js/vs_fx.js'][4985] = 0;
  _$jscoverage['js/vs_fx.js'][4987] = 0;
  _$jscoverage['js/vs_fx.js'][4989] = 0;
  _$jscoverage['js/vs_fx.js'][4991] = 0;
  _$jscoverage['js/vs_fx.js'][4992] = 0;
  _$jscoverage['js/vs_fx.js'][4994] = 0;
  _$jscoverage['js/vs_fx.js'][4996] = 0;
  _$jscoverage['js/vs_fx.js'][4998] = 0;
  _$jscoverage['js/vs_fx.js'][5001] = 0;
  _$jscoverage['js/vs_fx.js'][5006] = 0;
  _$jscoverage['js/vs_fx.js'][5008] = 0;
  _$jscoverage['js/vs_fx.js'][5011] = 0;
  _$jscoverage['js/vs_fx.js'][5014] = 0;
  _$jscoverage['js/vs_fx.js'][5016] = 0;
  _$jscoverage['js/vs_fx.js'][5020] = 0;
  _$jscoverage['js/vs_fx.js'][5021] = 0;
  _$jscoverage['js/vs_fx.js'][5040] = 0;
  _$jscoverage['js/vs_fx.js'][5045] = 0;
  _$jscoverage['js/vs_fx.js'][5046] = 0;
  _$jscoverage['js/vs_fx.js'][5048] = 0;
  _$jscoverage['js/vs_fx.js'][5050] = 0;
  _$jscoverage['js/vs_fx.js'][5051] = 0;
  _$jscoverage['js/vs_fx.js'][5052] = 0;
  _$jscoverage['js/vs_fx.js'][5053] = 0;
  _$jscoverage['js/vs_fx.js'][5055] = 0;
  _$jscoverage['js/vs_fx.js'][5057] = 0;
  _$jscoverage['js/vs_fx.js'][5059] = 0;
  _$jscoverage['js/vs_fx.js'][5062] = 0;
  _$jscoverage['js/vs_fx.js'][5064] = 0;
  _$jscoverage['js/vs_fx.js'][5067] = 0;
  _$jscoverage['js/vs_fx.js'][5069] = 0;
  _$jscoverage['js/vs_fx.js'][5071] = 0;
  _$jscoverage['js/vs_fx.js'][5074] = 0;
  _$jscoverage['js/vs_fx.js'][5075] = 0;
  _$jscoverage['js/vs_fx.js'][5076] = 0;
  _$jscoverage['js/vs_fx.js'][5078] = 0;
  _$jscoverage['js/vs_fx.js'][5080] = 0;
  _$jscoverage['js/vs_fx.js'][5082] = 0;
  _$jscoverage['js/vs_fx.js'][5084] = 0;
  _$jscoverage['js/vs_fx.js'][5088] = 0;
  _$jscoverage['js/vs_fx.js'][5090] = 0;
  _$jscoverage['js/vs_fx.js'][5091] = 0;
  _$jscoverage['js/vs_fx.js'][5095] = 0;
  _$jscoverage['js/vs_fx.js'][5098] = 0;
  _$jscoverage['js/vs_fx.js'][5099] = 0;
  _$jscoverage['js/vs_fx.js'][5101] = 0;
  _$jscoverage['js/vs_fx.js'][5103] = 0;
  _$jscoverage['js/vs_fx.js'][5105] = 0;
  _$jscoverage['js/vs_fx.js'][5109] = 0;
  _$jscoverage['js/vs_fx.js'][5112] = 0;
  _$jscoverage['js/vs_fx.js'][5114] = 0;
  _$jscoverage['js/vs_fx.js'][5115] = 0;
  _$jscoverage['js/vs_fx.js'][5116] = 0;
  _$jscoverage['js/vs_fx.js'][5119] = 0;
  _$jscoverage['js/vs_fx.js'][5121] = 0;
  _$jscoverage['js/vs_fx.js'][5122] = 0;
  _$jscoverage['js/vs_fx.js'][5124] = 0;
  _$jscoverage['js/vs_fx.js'][5126] = 0;
  _$jscoverage['js/vs_fx.js'][5128] = 0;
  _$jscoverage['js/vs_fx.js'][5133] = 0;
  _$jscoverage['js/vs_fx.js'][5139] = 0;
  _$jscoverage['js/vs_fx.js'][5227] = 0;
  _$jscoverage['js/vs_fx.js'][5229] = 0;
  _$jscoverage['js/vs_fx.js'][5230] = 0;
  _$jscoverage['js/vs_fx.js'][5231] = 0;
  _$jscoverage['js/vs_fx.js'][5233] = 0;
  _$jscoverage['js/vs_fx.js'][5237] = 0;
  _$jscoverage['js/vs_fx.js'][5238] = 0;
  _$jscoverage['js/vs_fx.js'][5239] = 0;
  _$jscoverage['js/vs_fx.js'][5245] = 0;
  _$jscoverage['js/vs_fx.js'][5247] = 0;
  _$jscoverage['js/vs_fx.js'][5284] = 0;
  _$jscoverage['js/vs_fx.js'][5286] = 0;
  _$jscoverage['js/vs_fx.js'][5288] = 0;
  _$jscoverage['js/vs_fx.js'][5289] = 0;
  _$jscoverage['js/vs_fx.js'][5290] = 0;
  _$jscoverage['js/vs_fx.js'][5292] = 0;
  _$jscoverage['js/vs_fx.js'][5313] = 0;
  _$jscoverage['js/vs_fx.js'][5317] = 0;
  _$jscoverage['js/vs_fx.js'][5318] = 0;
  _$jscoverage['js/vs_fx.js'][5322] = 0;
  _$jscoverage['js/vs_fx.js'][5323] = 0;
  _$jscoverage['js/vs_fx.js'][5324] = 0;
  _$jscoverage['js/vs_fx.js'][5325] = 0;
  _$jscoverage['js/vs_fx.js'][5327] = 0;
  _$jscoverage['js/vs_fx.js'][5329] = 0;
  _$jscoverage['js/vs_fx.js'][5332] = 0;
  _$jscoverage['js/vs_fx.js'][5334] = 0;
  _$jscoverage['js/vs_fx.js'][5336] = 0;
  _$jscoverage['js/vs_fx.js'][5339] = 0;
  _$jscoverage['js/vs_fx.js'][5340] = 0;
  _$jscoverage['js/vs_fx.js'][5341] = 0;
  _$jscoverage['js/vs_fx.js'][5343] = 0;
  _$jscoverage['js/vs_fx.js'][5345] = 0;
  _$jscoverage['js/vs_fx.js'][5347] = 0;
  _$jscoverage['js/vs_fx.js'][5349] = 0;
  _$jscoverage['js/vs_fx.js'][5353] = 0;
  _$jscoverage['js/vs_fx.js'][5355] = 0;
  _$jscoverage['js/vs_fx.js'][5356] = 0;
  _$jscoverage['js/vs_fx.js'][5360] = 0;
  _$jscoverage['js/vs_fx.js'][5363] = 0;
  _$jscoverage['js/vs_fx.js'][5364] = 0;
  _$jscoverage['js/vs_fx.js'][5366] = 0;
  _$jscoverage['js/vs_fx.js'][5368] = 0;
  _$jscoverage['js/vs_fx.js'][5369] = 0;
  _$jscoverage['js/vs_fx.js'][5371] = 0;
  _$jscoverage['js/vs_fx.js'][5373] = 0;
  _$jscoverage['js/vs_fx.js'][5374] = 0;
  _$jscoverage['js/vs_fx.js'][5377] = 0;
  _$jscoverage['js/vs_fx.js'][5379] = 0;
  _$jscoverage['js/vs_fx.js'][5380] = 0;
  _$jscoverage['js/vs_fx.js'][5382] = 0;
  _$jscoverage['js/vs_fx.js'][5384] = 0;
  _$jscoverage['js/vs_fx.js'][5386] = 0;
  _$jscoverage['js/vs_fx.js'][5391] = 0;
  _$jscoverage['js/vs_fx.js'][5397] = 0;
  _$jscoverage['js/vs_fx.js'][5405] = 0;
  _$jscoverage['js/vs_fx.js'][5406] = 0;
  _$jscoverage['js/vs_fx.js'][5408] = 0;
  _$jscoverage['js/vs_fx.js'][5409] = 0;
  _$jscoverage['js/vs_fx.js'][5417] = 0;
}
_$jscoverage['js/vs_fx.js'].source = ["<span class=\"c\">/** @license</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>window<span class=\"k\">,</span> undefined<span class=\"k\">)</span> <span class=\"k\">{</span>","","<span class=\"k\">var</span> document <span class=\"k\">=</span> window<span class=\"k\">.</span>document<span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                   </span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","<span class=\"k\">var</span> vs <span class=\"k\">=</span> window<span class=\"k\">.</span>vs<span class=\"k\">,</span>","  util <span class=\"k\">=</span> vs<span class=\"k\">.</span>util<span class=\"k\">,</span>","  core <span class=\"k\">=</span> vs<span class=\"k\">.</span>core<span class=\"k\">,</span>","  ui <span class=\"k\">=</span> vs<span class=\"k\">.</span>ui<span class=\"k\">,</span>","  fx <span class=\"k\">=</span> vs<span class=\"k\">.</span>fx<span class=\"k\">,</span>","  setElementTransform <span class=\"k\">=</span> util<span class=\"k\">.</span>setElementTransform<span class=\"k\">,</span>","  getElementTransform <span class=\"k\">=</span> util<span class=\"k\">.</span>getElementTransform<span class=\"k\">;</span>","","<span class=\"c\">// Test which kind of transformation you can use</span>","<span class=\"k\">var</span> SUPPORT_CSS_TRANSFORM <span class=\"k\">=</span> ","  <span class=\"k\">(</span>util<span class=\"k\">.</span>vsTestStyle<span class=\"k\">.</span>webkitTransform <span class=\"k\">||</span> util<span class=\"k\">.</span>vsTestStyle<span class=\"k\">.</span>msTransform<span class=\"k\">);</span>","  ","<span class=\"k\">var</span> SUPPORT_3D_TRANSFORM <span class=\"k\">=</span>","  <span class=\"s\">'WebKitCSSMatrix'</span> <span class=\"k\">in</span> window <span class=\"k\">&amp;&amp;</span> <span class=\"s\">'m11'</span> <span class=\"k\">in</span> <span class=\"k\">new</span> WebKitCSSMatrix <span class=\"k\">();</span>","","util<span class=\"k\">.</span>extend <span class=\"k\">(</span>fx<span class=\"k\">,</span> <span class=\"k\">{</span>","  SUPPORT_CSS_TRANSFORM<span class=\"k\">:</span>    SUPPORT_CSS_TRANSFORM<span class=\"k\">,</span>","  SUPPORT_3D_TRANSFORM<span class=\"k\">:</span>     SUPPORT_3D_TRANSFORM","<span class=\"k\">}</span><span class=\"k\">);</span><span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>vsTestStyle<span class=\"k\">.</span>webkitTransform <span class=\"k\">!==</span> undefined<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">var</span> ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_NAME <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-name\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_END <span class=\"k\">=</span> <span class=\"s\">\"webkitAnimationEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-timing-function\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSITION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transition-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transition-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_END <span class=\"k\">=</span> <span class=\"s\">\"webkitTransitionEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transition-timing-function\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_PROPERTY <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transition-property\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSFORM_ORIGIN <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transform-origin\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ITERATION_COUNT <span class=\"k\">=</span> <span class=\"s\">\"-webkit-animation-iteration-count\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSFORM <span class=\"k\">=</span> <span class=\"s\">\"-webkit-transform\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> KEY_FRAMES <span class=\"k\">=</span> <span class=\"s\">\"-webkit-keyframes\"</span><span class=\"k\">;</span>","<span class=\"k\">}</span>  ","<span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>vsTestStyle<span class=\"k\">.</span>msTransform <span class=\"k\">!==</span> undefined<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">var</span> ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_NAME <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-name\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_END <span class=\"k\">=</span> <span class=\"s\">\"msAnimationEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-timing-function\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSITION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"-ms-transition-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"-ms-transition-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_END <span class=\"k\">=</span> <span class=\"s\">\"msTransitionEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"-ms-transition-timing-function\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_PROPERTY <span class=\"k\">=</span> <span class=\"s\">\"-ms-transition-property\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSFORM_ORIGIN <span class=\"k\">=</span> <span class=\"s\">\"-ms-transform-origin\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ITERATION_COUNT <span class=\"k\">=</span> <span class=\"s\">\"-ms-animation-iteration-count\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSFORM <span class=\"k\">=</span> <span class=\"s\">\"-ms-transform\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> KEY_FRAMES <span class=\"k\">=</span> <span class=\"s\">\"-ms-keyframes\"</span><span class=\"k\">;</span>","<span class=\"k\">}</span>  ","<span class=\"k\">else</span>","<span class=\"k\">{</span>","  <span class=\"k\">var</span> ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"animation-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"animation-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_NAME <span class=\"k\">=</span> <span class=\"s\">\"animation-name\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_END <span class=\"k\">=</span> <span class=\"s\">\"animationEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ANIMATION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"animation-timing-function\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSITION_DURATION <span class=\"k\">=</span> <span class=\"s\">\"transition-duration\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_DELAY <span class=\"k\">=</span> <span class=\"s\">\"transition-delay\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_END <span class=\"k\">=</span> <span class=\"s\">\"transitionEnd\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_TIMING_FUNC <span class=\"k\">=</span> <span class=\"s\">\"transition-timing-function\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSITION_PROPERTY <span class=\"k\">=</span> <span class=\"s\">\"transition-property\"</span><span class=\"k\">;</span>","  ","  <span class=\"k\">var</span> TRANSFORM_ORIGIN <span class=\"k\">=</span> <span class=\"s\">\"transform-origin\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> ITERATION_COUNT <span class=\"k\">=</span> <span class=\"s\">\"animation-iteration-count\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> TRANSFORM <span class=\"k\">=</span> <span class=\"s\">\"transform\"</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> KEY_FRAMES <span class=\"k\">=</span> <span class=\"s\">\"keyframes\"</span><span class=\"k\">;</span>","<span class=\"k\">}</span>  ","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationWidthRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$width/g</span><span class=\"k\">);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationHeightRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$height/g</span><span class=\"k\">);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationXRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$x/g</span><span class=\"k\">);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationYRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$y/g</span><span class=\"k\">);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> AnimationVariableRegExp <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp <span class=\"k\">(</span><span class=\"s\">/\\$\\{([\\w]+)\\}/g</span><span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Cancel a playing animation</span>","<span class=\"c\"> * @name vs.fx.cancelAnimation</span>","<span class=\"c\"> * @param {String} id the animation id return par vs.fx.Animation.process ();</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> cancelAnimation <span class=\"k\">(</span>anim_id<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>anim_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">var</span> anim_name<span class=\"k\">,</span> cssAnimation<span class=\"k\">,</span> anim_id<span class=\"k\">,</span> data<span class=\"k\">;</span>","","  data <span class=\"k\">=</span> Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">];</span>","  <span class=\"k\">if</span> <span class=\"k\">(</span>data <span class=\"k\">&amp;&amp;</span> data<span class=\"k\">.</span>length <span class=\"k\">===</span> <span class=\"s\">2</span><span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">!</span>data<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>getStyle <span class=\"k\">||</span> <span class=\"k\">!</span>data <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    anim_name <span class=\"k\">=</span> data<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>getStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>anim_name<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    anim_name <span class=\"k\">=</span> anim_name<span class=\"k\">.</span>replace <span class=\"k\">(</span>anim_id<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">);</span>","    data<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>setStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">,</span> anim_name<span class=\"k\">);</span>","  ","    <span class=\"k\">try</span> <span class=\"k\">{</span>","      document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">\"head\"</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">].</span>removeChild <span class=\"k\">(</span>data <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span>e<span class=\"k\">);</span>","      <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">delete</span> <span class=\"k\">(</span>Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">]);</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","  ","  <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @private</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.fx.View} comp the component the view will be animated</span>","<span class=\"c\"> * @param {vs.fx.Animation} animation the animation</span>","<span class=\"c\"> * @param {Function} clb an optional callback to call at the end of animation</span>","<span class=\"c\"> * @param {Object} ctx an optional execution context associated to the clb</span>","<span class=\"c\"> * @return {String} return the identifier of the animation process. You can</span>","<span class=\"c\"> *       use it to stop the animation for instance.</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> procesAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> animation<span class=\"k\">,</span> clb<span class=\"k\">,</span> ctx<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>animation <span class=\"k\">||</span> <span class=\"k\">!</span>comp <span class=\"k\">||</span> <span class=\"k\">!</span>comp<span class=\"k\">.</span>view<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">'procesAnimation: invalid component parameter!'</span><span class=\"k\">);</span>","    <span class=\"k\">return</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","  ","  <span class=\"k\">function</span> isComplexAnimation <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>keyFrames <span class=\"k\">[</span><span class=\"s\">'0%'</span><span class=\"k\">])</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span> ","","  <span class=\"k\">var</span> initWithParameters<span class=\"k\">,</span> parseValue<span class=\"k\">,</span> applySimpleAnimation<span class=\"k\">,</span> applyStyleTo<span class=\"k\">,</span>","    runComplexAnimation<span class=\"k\">,</span> applyComplexAnimation<span class=\"k\">,</span>","    cssAnimation<span class=\"k\">,</span> anim_id <span class=\"k\">=</span> core<span class=\"k\">.</span>createId <span class=\"k\">(),</span>","    isComplex <span class=\"k\">=</span> isComplexAnimation <span class=\"k\">();</span>","","  initWithParameters <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> property<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span>","    <span class=\"k\">{</span> property <span class=\"k\">=</span> ANIMATION_DURATION<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> property <span class=\"k\">=</span> TRANSITION_DURATION<span class=\"k\">;</span> <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>animation<span class=\"k\">.</span>origin<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> animation<span class=\"k\">.</span>origin<span class=\"k\">.</span>length <span class=\"k\">===</span> <span class=\"s\">2</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> value <span class=\"k\">=</span> animation<span class=\"k\">.</span>origin <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'% '</span> <span class=\"k\">+</span> animation<span class=\"k\">.</span>origin <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'%'</span><span class=\"k\">;</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>TRANSFORM_ORIGIN<span class=\"k\">,</span> value<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>animation<span class=\"k\">.</span>durations<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>durations<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>animation<span class=\"k\">.</span>durations<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>durations<span class=\"k\">.</span>join <span class=\"k\">(</span><span class=\"s\">', '</span><span class=\"k\">));</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> Animation<span class=\"k\">.</span>DEFAULT_DURATION<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span> <span class=\"k\">{</span> property <span class=\"k\">=</span> ANIMATION_DELAY<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> property <span class=\"k\">=</span> TRANSITION_DELAY<span class=\"k\">;</span> <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>animation<span class=\"k\">.</span>delay<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>delay <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span> comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> <span class=\"s\">'0'</span><span class=\"k\">);</span> <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span> property <span class=\"k\">=</span> ANIMATION_TIMING_FUNC<span class=\"k\">;</span>","    <span class=\"k\">else</span> property <span class=\"k\">=</span> TRANSITION_TIMING_FUNC<span class=\"k\">;</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>animation<span class=\"k\">.</span>timings<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>timings<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>animation<span class=\"k\">.</span>timings<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> animation<span class=\"k\">.</span>timings<span class=\"k\">.</span>join <span class=\"k\">(</span><span class=\"s\">', '</span><span class=\"k\">));</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> Animation<span class=\"k\">.</span>EASE<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>iterationCount <span class=\"k\">===</span> <span class=\"s\">'infinite'</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ITERATION_COUNT<span class=\"k\">,</span> <span class=\"s\">'infinite'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>animation<span class=\"k\">.</span>iterationCount <span class=\"k\">||</span>","             <span class=\"k\">!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>animation<span class=\"k\">.</span>iterationCount<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ITERATION_COUNT<span class=\"k\">,</span> <span class=\"s\">'1'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> ","    <span class=\"k\">{</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ITERATION_COUNT<span class=\"k\">,</span> animation<span class=\"k\">.</span>iterationCount<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">;</span>","  ","  parseValue <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">,</span> data<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> matches<span class=\"k\">,</span> i<span class=\"k\">,</span> props <span class=\"k\">=</span> <span class=\"k\">[],</span> prop<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> v<span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>v<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span>AnimationWidthRegExp<span class=\"k\">,</span> comp<span class=\"k\">.</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">);</span>","      v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span>AnimationHeightRegExp<span class=\"k\">,</span> comp<span class=\"k\">.</span>size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">);</span>","      v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span>AnimationXRegExp<span class=\"k\">,</span> comp<span class=\"k\">.</span>position <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">);</span>","      v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span>AnimationYRegExp<span class=\"k\">,</span> comp<span class=\"k\">.</span>position <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">);</span>","      ","      <span class=\"k\">var</span> matches <span class=\"k\">=</span> AnimationVariableRegExp<span class=\"k\">.</span>exec <span class=\"k\">(</span>v<span class=\"k\">);</span>","      <span class=\"k\">while</span> <span class=\"k\">(</span>matches <span class=\"k\">&amp;&amp;</span> matches<span class=\"k\">.</span>length <span class=\"k\">===</span> <span class=\"s\">2</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        props<span class=\"k\">.</span>push <span class=\"k\">(</span>matches <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]);</span>","        matches <span class=\"k\">=</span> AnimationVariableRegExp<span class=\"k\">.</span>exec <span class=\"k\">(</span>v<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> props<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","      <span class=\"k\">{</span>","        prop <span class=\"k\">=</span> props <span class=\"k\">[</span>i<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> data<span class=\"k\">[</span>prop<span class=\"k\">]</span> <span class=\"k\">!==</span> <span class=\"s\">'undefined'</span><span class=\"k\">)</span>","        <span class=\"k\">{</span> v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span><span class=\"s\">'${'</span> <span class=\"k\">+</span> prop <span class=\"k\">+</span> <span class=\"s\">'}'</span><span class=\"k\">,</span> data<span class=\"k\">[</span>prop<span class=\"k\">]);</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> animation<span class=\"k\">[</span>prop<span class=\"k\">]</span> <span class=\"k\">!==</span> <span class=\"s\">'undefined'</span><span class=\"k\">)</span>","        <span class=\"k\">{</span> v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace <span class=\"k\">(</span><span class=\"s\">'${'</span> <span class=\"k\">+</span> prop <span class=\"k\">+</span> <span class=\"s\">'}'</span><span class=\"k\">,</span> animation<span class=\"k\">[</span>prop<span class=\"k\">]);</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">return</span> v<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    console<span class=\"k\">.</span>warn ","      <span class=\"k\">(</span><span class=\"s\">\"vs.fx.Animation._parseValue. Unknown value's type: \"</span> <span class=\"k\">+</span> v<span class=\"k\">);</span>","    <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">;</span>","  ","  applySimpleAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    initWithParameters <span class=\"k\">();</span>","    <span class=\"k\">var</span> callback<span class=\"k\">,</span> i<span class=\"k\">,</span> self <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    ","    callback <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span> ","    <span class=\"k\">{</span>","      <span class=\"c\">// do nothing if that event just bubbled from our target's sub-tree</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>currentTarget <span class=\"k\">!==</span> comp<span class=\"k\">.</span>view<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>TRANSITION_END<span class=\"k\">,</span> callback<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","      ","      <span class=\"c\">// clear transition parameters</span>","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty <span class=\"k\">(</span>TRANSITION_DURATION<span class=\"k\">);</span>","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty <span class=\"k\">(</span>TRANSITION_DELAY<span class=\"k\">);</span>","","      <span class=\"k\">if</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>delegate <span class=\"k\">&amp;&amp;</span> animation<span class=\"k\">.</span>delegate<span class=\"k\">.</span>taskDidEnd<span class=\"k\">)</span>","      <span class=\"k\">{</span> animation<span class=\"k\">.</span>delegate<span class=\"k\">.</span>taskDidEnd <span class=\"k\">(</span>animation<span class=\"k\">);</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb<span class=\"k\">)</span> <span class=\"k\">{</span> clb<span class=\"k\">.</span>call <span class=\"k\">(</span>ctx<span class=\"k\">?</span>ctx<span class=\"k\">:</span>self<span class=\"k\">);</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    comp<span class=\"k\">.</span>view<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>TRANSITION_END<span class=\"k\">,</span> callback<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>  ","    ","    applyStyleTo <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">;</span>","  ","  applyStyleTo <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> data <span class=\"k\">=</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>keyFrames<span class=\"k\">[</span><span class=\"s\">'100%'</span><span class=\"k\">])?</span>","      animation<span class=\"k\">.</span>keyFrames<span class=\"k\">[</span><span class=\"s\">'100%'</span><span class=\"k\">]:</span>animation<span class=\"k\">,</span> transform <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">,</span>","      property<span class=\"k\">,</span> properties <span class=\"k\">=</span> <span class=\"k\">[],</span> value<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>data<span class=\"k\">)</span> <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> animation<span class=\"k\">.</span>properties<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","    <span class=\"k\">{</span>","      property <span class=\"k\">=</span> animation<span class=\"k\">.</span>properties <span class=\"k\">[</span>i<span class=\"k\">];</span>","      value <span class=\"k\">=</span> parseValue <span class=\"k\">(</span>animation<span class=\"k\">.</span>values <span class=\"k\">[</span>i<span class=\"k\">],</span> data<span class=\"k\">);</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotate'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'skew'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'skew('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM <span class=\"k\">&amp;&amp;</span> property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate3d('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateX'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateY'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateX'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateY'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'scale'</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'scale('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> property <span class=\"k\">=</span> TRANSFORM<span class=\"k\">;</span><span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span> comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>property<span class=\"k\">,</span> value<span class=\"k\">);</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>properties<span class=\"k\">.</span>indexOf <span class=\"k\">(</span>property<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> properties<span class=\"k\">.</span>push <span class=\"k\">(</span>property<span class=\"k\">);</span>    ","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>transform<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      setElementTransform <span class=\"k\">(</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>TRANSITION_PROPERTY<span class=\"k\">,</span> properties<span class=\"k\">.</span>join <span class=\"k\">(</span><span class=\"s\">','</span><span class=\"k\">));</span> ","  <span class=\"k\">}</span>","  ","  runComplexAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    initWithParameters <span class=\"k\">();</span>","    ","    <span class=\"k\">var</span> i<span class=\"k\">,</span> callback<span class=\"k\">,</span> value<span class=\"k\">,</span> anim_name<span class=\"k\">,</span> ","    ","    callback <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span> ","    <span class=\"k\">{</span>","      <span class=\"c\">// do nothing if that event just bubbled from our target's sub-tree</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>currentTarget <span class=\"k\">!==</span> comp<span class=\"k\">.</span>view<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>ANIMATION_END<span class=\"k\">,</span> callback<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","      ","      <span class=\"c\">// apply the last state</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span> <span class=\"k\">{</span> applyStyleTo <span class=\"k\">();</span> <span class=\"k\">}</span>","","      <span class=\"c\">// clear animations parameters</span>","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty <span class=\"k\">(</span>ANIMATION_DURATION<span class=\"k\">);</span>","      comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty <span class=\"k\">(</span>ANIMATION_DELAY<span class=\"k\">);</span>","","      <span class=\"c\">// clean the animation</span>","      anim_name <span class=\"k\">=</span> comp<span class=\"k\">.</span>getStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">);</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>anim_name<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        anim_name <span class=\"k\">=</span> anim_name<span class=\"k\">.</span>replace <span class=\"k\">(</span>anim_id<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">);</span>","        comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">,</span> anim_name<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">try</span>","      <span class=\"k\">{</span>","        data <span class=\"k\">=</span> Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>data <span class=\"k\">&amp;&amp;</span> data<span class=\"k\">.</span>length <span class=\"k\">===</span> <span class=\"s\">2</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">\"head\"</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">].</span>removeChild <span class=\"k\">(</span>data <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","          <span class=\"k\">delete</span> <span class=\"k\">(</span>Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">]);</span>      ","        <span class=\"k\">}</span> ","      <span class=\"k\">}</span>","      <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        console<span class=\"k\">.</span>error <span class=\"k\">(</span>e<span class=\"k\">);</span>","        <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>animation<span class=\"k\">.</span>delegate <span class=\"k\">&amp;&amp;</span> animation<span class=\"k\">.</span>delegate<span class=\"k\">.</span>taskDidStop<span class=\"k\">)</span>","      <span class=\"k\">{</span> animation<span class=\"k\">.</span>delegate<span class=\"k\">.</span>taskDidEnd <span class=\"k\">(</span>animation<span class=\"k\">);</span> <span class=\"k\">}</span>","","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb<span class=\"k\">)</span> <span class=\"k\">{</span> clb<span class=\"k\">.</span>call <span class=\"k\">(</span>ctx<span class=\"k\">?</span>ctx<span class=\"k\">:</span>self<span class=\"k\">);</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    comp<span class=\"k\">.</span>view<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>ANIMATION_END<span class=\"k\">,</span> callback<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","    anim_name <span class=\"k\">=</span> comp<span class=\"k\">.</span>getStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>anim_name<span class=\"k\">)</span> <span class=\"k\">{</span> anim_name <span class=\"k\">=</span> anim_id<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> anim_name <span class=\"k\">+=</span> <span class=\"s\">', '</span> <span class=\"k\">+</span> anim_id<span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span>ANIMATION_NAME<span class=\"k\">,</span> anim_name<span class=\"k\">);</span>","  <span class=\"k\">}</span>","","  applyComplexAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> data<span class=\"k\">,</span> key<span class=\"k\">,</span> style<span class=\"k\">,</span> i<span class=\"k\">,</span> property<span class=\"k\">,</span> transform<span class=\"k\">,</span> value<span class=\"k\">,</span>","    cssAnimation <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'style'</span><span class=\"k\">);</span>","    cssAnimation<span class=\"k\">.</span>type <span class=\"k\">=</span> <span class=\"s\">'text/css'</span><span class=\"k\">;</span>","    ","    <span class=\"k\">var</span> rules_str <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span>key <span class=\"k\">in</span> animation<span class=\"k\">.</span>keyFrames<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","      data <span class=\"k\">=</span> animation<span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>key<span class=\"k\">];</span>","      style <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>data<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> data<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","        <span class=\"k\">{</span>","          value <span class=\"k\">=</span> data <span class=\"k\">[</span>i<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>value <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">||</span> <span class=\"k\">typeof</span> value <span class=\"k\">==</span> <span class=\"s\">'undefined'</span><span class=\"k\">)</span> <span class=\"k\">continue</span><span class=\"k\">;</span>","          value <span class=\"k\">=</span> parseValue <span class=\"k\">(</span>value<span class=\"k\">,</span> animation<span class=\"k\">);</span>","          property <span class=\"k\">=</span> animation<span class=\"k\">.</span>properties <span class=\"k\">[</span>i<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(!</span>property<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'skew'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'skew('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM <span class=\"k\">&amp;&amp;</span> property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate3d('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateX'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateY'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateX'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateY'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'scale'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'scale('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span>","          <span class=\"k\">{</span> style <span class=\"k\">+=</span> property <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">';'</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> animation<span class=\"k\">.</span>properties<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","        <span class=\"k\">{</span>","          value <span class=\"k\">=</span> parseValue <span class=\"k\">(</span>animation<span class=\"k\">.</span>values <span class=\"k\">[</span>i<span class=\"k\">],</span> data<span class=\"k\">);</span>","          property <span class=\"k\">=</span> animation<span class=\"k\">.</span>properties <span class=\"k\">[</span>i<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(!</span>property<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'skew'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'skew('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM <span class=\"k\">&amp;&amp;</span> property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate3d('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translate'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translate('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateX'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'translateY'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'translateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateX'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateX('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'rotateY'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'rotateY('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>property <span class=\"k\">===</span> <span class=\"s\">'scale'</span><span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">+=</span> <span class=\"s\">'scale('</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">') '</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span>","          <span class=\"k\">{</span> style <span class=\"k\">+=</span> property <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">';'</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>transform<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        style <span class=\"k\">+=</span> TRANSFORM <span class=\"k\">+</span> <span class=\"s\">': '</span> <span class=\"k\">+</span> transform <span class=\"k\">+</span> <span class=\"s\">';'</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","","      rules_str <span class=\"k\">+=</span> key <span class=\"k\">+</span> <span class=\"s\">' { '</span> <span class=\"k\">+</span> style <span class=\"k\">+</span> <span class=\"s\">' } '</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","        ","    <span class=\"k\">var</span> rules <span class=\"k\">=</span> document<span class=\"k\">.</span>createTextNode","      <span class=\"k\">(</span><span class=\"s\">'@'</span> <span class=\"k\">+</span> KEY_FRAMES <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> anim_id <span class=\"k\">+</span> <span class=\"s\">' { '</span> <span class=\"k\">+</span> rules_str <span class=\"k\">+</span> <span class=\"s\">' }'</span><span class=\"k\">);</span>","","    cssAnimation<span class=\"k\">.</span>appendChild <span class=\"k\">(</span>rules<span class=\"k\">);</span>","    document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">\"head\"</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">].</span>appendChild<span class=\"k\">(</span>cssAnimation<span class=\"k\">);</span>","    ","    Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">[</span>anim_id<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">[</span>cssAnimation<span class=\"k\">,</span> comp<span class=\"k\">];</span>","    ","    runComplexAnimation <span class=\"k\">();</span>","  <span class=\"k\">}</span>","","  <span class=\"k\">if</span> <span class=\"k\">(</span>isComplex<span class=\"k\">)</span> <span class=\"k\">{</span> applyComplexAnimation <span class=\"k\">();</span> <span class=\"k\">}</span>","  <span class=\"k\">else</span> <span class=\"k\">{</span> applySimpleAnimation <span class=\"k\">();</span> <span class=\"k\">}</span>","  ","  <span class=\"k\">return</span> anim_id<span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  An vs.fx.Animation object, contains information for animate a vs.fx.View</span>","<span class=\"c\"> *  component.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  It specifies the css properties to animate and the values for each</span>","<span class=\"c\"> *  properties.</span>","<span class=\"c\"> *  You can define one transformation or a set of transformation</span>","<span class=\"c\"> *  for your animation. In case of multiple transformation the developer</span>","<span class=\"c\"> *  an specify a duration for each transformation.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  &lt;u&gt;Predefined animations&lt;/u&gt;: {@link vs.fx.TranslateAnimation},</span>","<span class=\"c\"> *  {@link vs.fx.RotateAnimation}, {@link vs.fx.RotateXYZAnimation},</span>","<span class=\"c\"> *  {@link vs.fx.ScaleAnimation}, {@link vs.fx.SkewAnimation}</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @see vs.fx.TranslateAnimation</span>","<span class=\"c\"> *  @see vs.fx.RotateAnimation</span>","<span class=\"c\"> *  @see vs.fx.RotateXYZAnimation</span>","<span class=\"c\"> *  @see vs.fx.ScaleAnimation</span>","<span class=\"c\"> *  @see vs.fx.SkewAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // animate with a constant</span>","<span class=\"c\"> *  a = new vs.fx.Animation (['rotate', '30deg']);&#226;&#128;&#139;</span>","<span class=\"c\"> *  a.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // animate with a predefined variable</span>","<span class=\"c\"> *  a = new vs.fx.Animation (['translate', '$width']);&#226;&#128;&#139;</span>","<span class=\"c\"> *  a.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // animate with a generic variable</span>","<span class=\"c\"> *  a = new vs.fx.Animation (['rotate', '${r}deg']);&#226;&#128;&#139;</span>","<span class=\"c\"> *  a.r = 50;</span>","<span class=\"c\"> *  a.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * // example of multiple transformations an durations </span>","<span class=\"c\"> * // define a animation with two transformations</span>","<span class=\"c\"> * animation = new vs.fx.Animation ([&#226;&#128;&#152;width&#226;&#128;&#153;, '100px'], ['opacity', '0'])</span>","<span class=\"c\"> * // set duration for each</span>","<span class=\"c\"> * animation.durations = ['1s', '2s'];</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * // Defining a complex animation with key frames\"</span>","<span class=\"c\"> * var translate = new vs.fx.TranslateAnimation (130, 150);</span>","<span class=\"c\"> * translate.durations = '3s';</span>","<span class=\"c\"> * translate.iterationCount = 3;</span>","<span class=\"c\"> * </span>","<span class=\"c\"> * translate.addKeyFrame ('from', {x:0, y: 0, z:0});</span>","<span class=\"c\"> * translate.addKeyFrame (20, {x:50, y: 0, z: 0});</span>","<span class=\"c\"> * translate.addKeyFrame (40, {x:50, y: 50, z: 0});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * translate.process (myObject);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.Animation</span>","<span class=\"c\"> *  @extends vs.core.Task</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {Array.&lt;string&gt;} animations The array of &lt;property, value&gt; to animate</span>","<span class=\"c\">*/</span>","<span class=\"k\">function</span> Animation <span class=\"k\">(</span>animations<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> core<span class=\"k\">.</span>Task<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>setAnimations <span class=\"k\">(</span>arguments<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span><span class=\"s\">'100%'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>__css_animations <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","Animation<span class=\"k\">.</span>DEFAULT_DURATION <span class=\"k\">=</span> <span class=\"s\">'0.3s'</span><span class=\"k\">;</span>","Animation<span class=\"k\">.</span>DEFAULT_TIMING <span class=\"k\">=</span> Animation<span class=\"k\">.</span>EASE<span class=\"k\">;</span>","","Animation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * The css properties to animate</span>","<span class=\"c\">   * @type {Array.&lt;string&gt;}</span>","<span class=\"c\">   * @name vs.fx.Animation#properties</span>","<span class=\"c\">   */</span>","  properties<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * The css values for each properties</span>","<span class=\"c\">   * @type {Array.&lt;string&gt;}</span>","<span class=\"c\">   * @name vs.fx.Animation#values</span>","<span class=\"c\">   */</span>","  values<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The duration for each transformation. For setting only one duration,</span>","<span class=\"c\">   * use a string (ex anim.duration = '3s')</span>","<span class=\"c\">   * @type Array.&lt;string&gt;</span>","<span class=\"c\">   * @name vs.fx.Animation#durations</span>","<span class=\"c\">   */</span>","  durations<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Specifies how the intermediate values used during a transition are </span>","<span class=\"c\">   * calculated. &lt;p /&gt;Use the constants to specify preset points of the curve:</span>","<span class=\"c\">   * ({@link vs.fx.Animation.EASE},</span>","<span class=\"c\">   * {@link vs.fx.Animation.LINEAR}, {@link vs.fx.Animation.EASE_IN},</span>","<span class=\"c\">   * {@link vs.fx.Animation.EASE_OUT}, {@link vs.fx.Animation.EASE_IN_OUT})</span>","<span class=\"c\">   * or the cubic-bezier function to specify your own points.</span>","<span class=\"c\">   * &lt;p /&gt;</span>","<span class=\"c\">   * Specifies a cubic B&#195;&#169;zier curve : cubic-bezier(P1x,P1y,P2x,P2y) &lt;br /&gt;</span>","<span class=\"c\">   * Parameters: &lt;br /&gt;</span>","<span class=\"c\">   * - First point in the B&#195;&#169;zier curve : P1x, P1y &lt;br /&gt;</span>","<span class=\"c\">   * - Second point in the B&#195;&#169;zier curve : P2x, P2y &lt;br /&gt;</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @type Array.&lt;string&gt;</span>","<span class=\"c\">   * @name vs.fx.Animation#timings</span>","<span class=\"c\">   */</span>","  timings<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Specifies the number of times an animation iterates.</span>","<span class=\"c\">   * The transformations establishes the origin for transforms applied to</span>","<span class=\"c\">   * your component with respect to its border box. By default the value</span>","<span class=\"c\">   * is 50%, 50%.</span>","<span class=\"c\">   * &lt;p&gt;The values is express as an array of percentages of the element&#226;&#128;&#153;s size,</span>","<span class=\"c\">   * origin [0] =&gt; pos X, origin [1] =&gt; pos Y</span>","<span class=\"c\">   * @type {Array.&lt;int&gt;}</span>","<span class=\"c\">   * @name vs.fx.Animation#origin</span>","<span class=\"c\">   */</span>","  origin<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Sets the origin for the transformations</span>","<span class=\"c\">   * By default it is set to 1.</span>","<span class=\"c\">   * For infinite interation, use 'infinite' value.</span>","<span class=\"c\">   * @type number | 'infinite'</span>","<span class=\"c\">   * @name vs.fx.Animation#iterationCount</span>","<span class=\"c\">   */</span>","  iterationCount<span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * The time to begin executing an animation after it is applied. &lt;br/&gt;</span>","<span class=\"c\">   * If 0, the animation executes as soon as it is applied. &lt;br/&gt;</span>","<span class=\"c\">   * If positive, it specifies an offset from the moment the animation is </span>","<span class=\"c\">   * applied, and the animation delays execution by that offset. &lt;br/&gt;</span>","<span class=\"c\">   * If negative, the animation executes the moment the property changes but </span>","<span class=\"c\">   * appears to begin at the specified negative offset&#226;&#128;&#148;that is, begins part-way </span>","<span class=\"c\">   * through the animation. &lt;br/&gt;</span>","<span class=\"c\">   * The unit is milliseconds.  &lt;br/&gt;</span>","<span class=\"c\">   * By default it is set to 0.</span>","<span class=\"c\">   * @type number</span>","<span class=\"c\">   * @name vs.fx.Animation#delay</span>","<span class=\"c\">   */</span>","  delay<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @private</span>","<span class=\"c\">   * @type Object</span>","<span class=\"c\">   * @name vs.fx.Animation#keyFrames</span>","<span class=\"c\">   */</span>","  keyFrames<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Defines the properties to animate.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  When you call the method you redefines your animation, and all</span>","<span class=\"c\">   *  animation options are set to default value.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @example</span>","<span class=\"c\">   * // define a animation with two transformations</span>","<span class=\"c\">   * animation = new vs.fx.Animation ()</span>","<span class=\"c\">   * animation.setAnimations ([[&#226;&#128;&#152;width&#226;&#128;&#153;, '100px'], ['opacity', '0']]);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#setAnimations </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @param {Array.&lt;Array&gt;} animations The array of [property, value] </span>","<span class=\"c\">   *         to animate</span>","<span class=\"c\">   */</span>","  setAnimations <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>animations<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> i<span class=\"k\">,</span> prop<span class=\"k\">,</span> value<span class=\"k\">,</span> option<span class=\"k\">;</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>properties <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>values <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>origin <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    ","    <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span> <span class=\"k\">;</span> i <span class=\"k\">&lt;</span> animations<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","    <span class=\"k\">{</span>","      option <span class=\"k\">=</span> animations <span class=\"k\">[</span>i<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>option<span class=\"k\">)</span> <span class=\"k\">||</span> option<span class=\"k\">.</span>length <span class=\"k\">!==</span> <span class=\"s\">2</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">'vs.fx.Animation, invalid animations'</span><span class=\"k\">);</span>","        <span class=\"k\">continue</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      prop <span class=\"k\">=</span> option <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span> value <span class=\"k\">=</span> option <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>prop<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>value<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">'vs.fx.Animation, invalid constructor argument option: ['</span> <span class=\"k\">+</span> ","          prop <span class=\"k\">+</span> <span class=\"s\">', '</span> <span class=\"k\">+</span> value <span class=\"k\">+</span> <span class=\"s\">']'</span><span class=\"k\">);</span>","        <span class=\"k\">continue</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>properties<span class=\"k\">.</span>push <span class=\"k\">(</span>prop<span class=\"k\">);</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>values<span class=\"k\">.</span>push <span class=\"k\">(</span>value<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add an animation Key frames.</span>","<span class=\"c\">   *  By default an animation does not have key frames. But you can</span>","<span class=\"c\">   *  define a complexe animation with key frames.</span>","<span class=\"c\">   *  &lt;br /&gt;</span>","<span class=\"c\">   *  You have to define at least two key frames 'from' and 'to'.</span>","<span class=\"c\">   *  Other frames are define as percentage value of the animation.</span>","<span class=\"c\">   *  &lt;p /&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var translate = new vs.fx.TranslateAnimation (130, 150);</span>","<span class=\"c\">   * </span>","<span class=\"c\">   *  translate.addKeyFrame ('from', {x:0, y: 0, z:0});</span>","<span class=\"c\">   *  translate.addKeyFrame (20, {x:50, y: 0, z: 0});</span>","<span class=\"c\">   *  translate.addKeyFrame (40, {x:50, y: 50, z: 0});</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var translate = new vs.fx.Animation (['translateY','100px'],['opacity', '0']);</span>","<span class=\"c\">   * </span>","<span class=\"c\">   *  translate.addKeyFrame ('from', ['0px', '1']);</span>","<span class=\"c\">   *  translate.addKeyFrame (20, ['50px', '1']);</span>","<span class=\"c\">   *  translate.addKeyFrame (40, ['80px', '1']);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#addKeyFrame </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @param {string | number} pos The percentage value of animation</span>","<span class=\"c\">   * @param {Object | Array} values the object containing values for</span>","<span class=\"c\">   *         the animation</span>","<span class=\"c\">   */</span>","  addKeyFrame <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>pos<span class=\"k\">,</span> values<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>values<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"s\">'from'</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span><span class=\"s\">'0%'</span><span class=\"k\">]</span> <span class=\"k\">=</span> values<span class=\"k\">;</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"s\">'to'</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span><span class=\"s\">'100%'</span><span class=\"k\">]</span> <span class=\"k\">=</span> values<span class=\"k\">;</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>pos<span class=\"k\">)</span> <span class=\"k\">||</span> pos <span class=\"k\">&lt;</span> <span class=\"s\">0</span> <span class=\"k\">||</span> pos <span class=\"k\">&gt;</span> <span class=\"s\">100</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>pos<span class=\"k\">+</span><span class=\"s\">'%'</span><span class=\"k\">]</span> <span class=\"k\">=</span> values<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Use this function for animate your graphic object.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  You can set a callback function that will be call at the end of animation.</span>","<span class=\"c\">   *  Associated to the callback you can defined a runtime context. This context</span>","<span class=\"c\">   *  could be a object.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  obj.prototype.endAnimation = function (event)</span>","<span class=\"c\">   *  { ... }</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  obj.prototype.animate = function ()</span>","<span class=\"c\">   *  {</span>","<span class=\"c\">   *    myAnimation.process (a_gui_object, this.endAnimation, this);</span>","<span class=\"c\">   *  }</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#process </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @param {vs.fx.View} comp The component the view will be animated</span>","<span class=\"c\">   * @param {Function} clb an optional callback to call at the end of animation</span>","<span class=\"c\">   * @param {Object} ctx an optional execution context associated to the</span>","<span class=\"c\">   *          callback</span>","<span class=\"c\">   * @return {String} return the identifier of the animation process. You can</span>","<span class=\"c\">   *       use it to stop the animation for instance.</span>","<span class=\"c\">   */</span>","  process <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> clb<span class=\"k\">,</span> ctx<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">return</span> procesAnimation <span class=\"k\">(</span>comp<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> clb<span class=\"k\">,</span> ctx<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Task implementation</span>","<span class=\"c\">********************************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Clone the current animation.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#clone </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @return {vs.fx.Animation} the clone animation</span>","<span class=\"c\">   */</span>","  clone<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> anim <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">(),</span> key<span class=\"k\">,</span> data<span class=\"k\">;</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>properties<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>properties <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>properties<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>values<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>values <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>values<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>durations<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>durations<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>timings<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>timings <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>timings<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>origin<span class=\"k\">)</span>","    <span class=\"k\">{</span> anim<span class=\"k\">.</span>origin <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>origin<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>keyFrames<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span>key <span class=\"k\">in</span> <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>key <span class=\"k\">===</span> <span class=\"s\">'100%'</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        data <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>key<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>data<span class=\"k\">))</span> <span class=\"k\">{</span> anim<span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> data<span class=\"k\">.</span>slice <span class=\"k\">();</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">{</span> anim<span class=\"k\">.</span>keyFrames <span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> vs<span class=\"k\">.</span>util<span class=\"k\">.</span>clone <span class=\"k\">(</span>data<span class=\"k\">);</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    anim<span class=\"k\">.</span>iterationCount <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>iterationCount<span class=\"k\">;</span>","    anim<span class=\"k\">.</span>delay <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>delay<span class=\"k\">;</span>","    ","    <span class=\"k\">return</span> anim<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Task implementation</span>","<span class=\"c\">********************************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Starts the task</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Animation#start </span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @param {any} param any parameter (scalar, Array, Object)</span>","<span class=\"c\">   */</span>","  start<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>param<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>process <span class=\"k\">(</span>param<span class=\"k\">);</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>Animation<span class=\"k\">,</span> core<span class=\"k\">.</span>Task<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>Animation<span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"s\">'duration'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter/Setter for animation duration</span>","<span class=\"c\">     * @name vs.fx.Animation#duration </span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @type {String}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span> ","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"k\">[</span>v<span class=\"k\">];</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>durations <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>durations<span class=\"k\">.</span>length<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>durations <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span> <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span> <span class=\"k\">return</span> Animation<span class=\"k\">.</span>DEFAULT_DURATION<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'timing'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter/Setter for animation timing</span>","<span class=\"c\">     * @name vs.fx.Animation#timing </span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @type {String}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span> ","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">=</span> <span class=\"k\">[</span>v<span class=\"k\">];</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>timings<span class=\"k\">.</span>length<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>timings <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span> <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span> <span class=\"k\">return</span> Animation<span class=\"k\">.</span>EASE<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","","<span class=\"c\">/*************************************************************</span>","<span class=\"c\">                Timing Function</span>","<span class=\"c\">*************************************************************/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The ease timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0.25, 0.1, 0.25, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.EASE</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>EASE <span class=\"k\">=</span> <span class=\"s\">'ease'</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The linear timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0.0, 0.0, 1.0, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.LINEAR</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>LINEAR <span class=\"k\">=</span> <span class=\"s\">'linear'</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The ease in timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0.42, 0, 1.0, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.EASE_IN</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>EASE_IN <span class=\"k\">=</span> <span class=\"s\">'ease-in'</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The ease out timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0, 0, 0.58, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.EASE_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>EASE_OUT <span class=\"k\">=</span> <span class=\"s\">'ease-out'</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The ease in out timing function</span>","<span class=\"c\"> * Equivalent to cubic-bezier(0.42, 0, 0.58, 1.0)</span>","<span class=\"c\"> * @name vs.fx.Animation.EASE_IN_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>EASE_IN_OUT <span class=\"k\">=</span> <span class=\"s\">'ease-in-out'</span>","","<span class=\"c\">/*************************************************************</span>","<span class=\"c\">                Specifics animations</span>","<span class=\"c\">*************************************************************/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Animation for translate a object view over x, y, and z axes.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var translate = new vs.fx.TranslateAnimation (50, 50, 0);</span>","<span class=\"c\"> *  translate.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // reconfigure the animation</span>","<span class=\"c\"> *  translate.x = 40;</span>","<span class=\"c\"> *  translate.y = 140;</span>","<span class=\"c\"> *  translate.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.TranslateAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} x The translation value along the X axis</span>","<span class=\"c\"> * @param {number} y The translation value along the Y axis</span>","<span class=\"c\"> * @param {number} z The translation value along the Z axis if 3d css transform is possible</span>","<span class=\"c\">*/</span>","TranslateAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>x<span class=\"k\">,</span> y<span class=\"k\">,</span> z<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'translate'</span><span class=\"k\">,</span> <span class=\"s\">'${x}px,${y}px,${z}px'</span><span class=\"k\">]);</span>","    <span class=\"k\">else</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'translate'</span><span class=\"k\">,</span> <span class=\"s\">'${x}px,${y}px'</span><span class=\"k\">]);</span>","  ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>x<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>x <span class=\"k\">=</span> x<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>y<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>y <span class=\"k\">=</span> y<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>z<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>z <span class=\"k\">=</span> z<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> TranslateAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","TranslateAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The translation value along the X axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.TranslateAnimation#x </span>","<span class=\"c\">   */</span>","  x<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The translation value along the Y axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.TranslateAnimation#y </span>","<span class=\"c\">   */</span>","  y<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The translation value along the Z axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.TranslateAnimation#z </span>","<span class=\"c\">   */</span>","  z<span class=\"k\">:</span> <span class=\"s\">0</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>TranslateAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Rotate your object any number of degrees along the Z axis.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var rotation = new vs.fx.RotateAnimation (50);</span>","<span class=\"c\"> *  rotation.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // reconfigure the animation</span>","<span class=\"c\"> *  rotation.deg = 40;</span>","<span class=\"c\"> *  rotation.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.RotateAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} deg The rotation value along the Z axis</span>","<span class=\"c\">*/</span>","RotateAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>deg<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'rotate'</span><span class=\"k\">,</span> <span class=\"s\">'${deg}deg'</span><span class=\"k\">]);</span>","  ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>deg<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>deg <span class=\"k\">=</span> deg<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> RotateAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","RotateAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The rotation value along the Z axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.RotateAnimation#deg</span>","<span class=\"c\">   */</span>","  deg<span class=\"k\">:</span> <span class=\"s\">0</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>RotateAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Rotate your object any number of degrees over the X, Y and Z axes.</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var rotation = new vs.fx.RotateXYZAnimation (50, 50, 10);</span>","<span class=\"c\"> *  rotation.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.RotateXYZAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} degX The rotation value along the X axis</span>","<span class=\"c\"> * @param {number} degY The rotation value along the Y axis</span>","<span class=\"c\"> * @param {number} degZ The rotation value along the Z axis</span>","<span class=\"c\">*/</span>","RotateXYZAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>degX<span class=\"k\">,</span> degY<span class=\"k\">,</span> degZ<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'rotateX'</span><span class=\"k\">,</span> <span class=\"s\">'${degX}deg'</span><span class=\"k\">],</span>","      <span class=\"k\">[</span><span class=\"s\">'rotateY'</span><span class=\"k\">,</span> <span class=\"s\">'${degY}deg'</span><span class=\"k\">],</span> <span class=\"k\">[</span><span class=\"s\">'rotate'</span> <span class=\"k\">,</span><span class=\"s\">'${degZ}deg'</span><span class=\"k\">]);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>degX<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>degX <span class=\"k\">=</span> degX<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>degY<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>degY <span class=\"k\">=</span> degY<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>degZ<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>degZ <span class=\"k\">=</span> degZ<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> RotateXYZAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","RotateXYZAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The rotation value along the X axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.RotateXYZAnimation#degX</span>","<span class=\"c\">   */</span>","  degX<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The rotation value along the Y axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.RotateXYZAnimation#degY</span>","<span class=\"c\">   */</span>","  degY<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The rotation value along the Z axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.RotateXYZAnimation#degZ</span>","<span class=\"c\">   */</span>","  degZ<span class=\"k\">:</span> <span class=\"s\">0</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>RotateXYZAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Scale your object over the X and Y axes</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  If the second parameter is not provided, it is takes a value equal to</span>","<span class=\"c\"> *  the first.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var scale = new vs.fx.ScaleAnimation (0.5, 1);</span>","<span class=\"c\"> *  scale.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.ScaleAnimation</span>","<span class=\"c\"> * @param {number} sx The scale value along the X axis</span>","<span class=\"c\"> * @param {number} sy The scale value along the Y axis</span>","<span class=\"c\">*/</span>","ScaleAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>sx<span class=\"k\">,</span> sy<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'scale'</span><span class=\"k\">,</span> <span class=\"s\">'${sx},${sy}'</span><span class=\"k\">]);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>sx<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>sx <span class=\"k\">=</span> sx<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>sy<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>sy <span class=\"k\">=</span> sy<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>sy<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>sy <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>sx<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> ScaleAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","ScaleAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The scale value along the X axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.ScaleAnimation#sx</span>","<span class=\"c\">   */</span>","  sx<span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * The scale value along the Y axis</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.ScaleAnimation#sy</span>","<span class=\"c\">   */</span>","  sy<span class=\"k\">:</span> <span class=\"s\">1</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>ScaleAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Skew your object over the X and Y axes</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  If the second parameter is not provided, it is takes a value equal to</span>","<span class=\"c\"> *  the first.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the animation</span>","<span class=\"c\"> *  var scale = new vs.fx.SkewAnimation (0.5, 1);</span>","<span class=\"c\"> *  scale.process (comp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> * @name vs.fx.SkewAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} x The scale value along the X axis</span>","<span class=\"c\"> * @param {number} y The scale value along the Y axis</span>","<span class=\"c\">*/</span>","SkewAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>ax<span class=\"k\">,</span> ay<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'skew'</span><span class=\"k\">,</span> <span class=\"s\">'${ax}deg,${ay}deg'</span><span class=\"k\">]);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>ax<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>ax <span class=\"k\">=</span> ax<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>ay<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>ay <span class=\"k\">=</span> ay<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> SkewAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","SkewAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Specifies a skew transformation along the X axis by the given angle.</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.SkewAnimation#ax</span>","<span class=\"c\">   */</span>","  ax<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *Specifies a skew transformation along the X axis by the given angle.</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   * @name vs.fx.SkewAnimation#ay</span>","<span class=\"c\">   */</span>","  ay<span class=\"k\">:</span> <span class=\"s\">0</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>SkewAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  Animate the object' opacity</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  // declare the pulseo opacity animation</span>","<span class=\"c\"> *  var pulse = new vs.fx.OpacityAnimation (1);</span>","<span class=\"c\"> *  pulse.addKeyFrame ('from', {value: 1});</span>","<span class=\"c\"> *  pulse.addKeyFrame (12, {value: 0.5});</span>","<span class=\"c\"> *  pulse.addKeyFrame (25, {value: 1});</span>","<span class=\"c\"> *  pulse.addKeyFrame (37, {value: 0.5});</span>","<span class=\"c\"> *  pulse.addKeyFrame (50, {value: 1});</span>","<span class=\"c\"> *  pulse.addKeyFrame (62, {value: 0.5});</span>","<span class=\"c\"> *  pulse.addKeyFrame (75, {value: 1});</span>","<span class=\"c\"> *  pulse.addKeyFrame (87, {value: 0.5});</span>","<span class=\"c\"> *  pulse.durations = '7s';</span>","<span class=\"c\"> *  pulse.timings = vs.fx.Animation.LINEAR;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *  Main constructor</span>","<span class=\"c\"> *  @extends vs.fx.Animation</span>","<span class=\"c\"> * @name vs.fx.OpacityAnimation</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {number} value The opacity value</span>","<span class=\"c\">*/</span>","OpacityAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>value<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">}</span>","  <span class=\"k\">else</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">([</span><span class=\"s\">'opacity'</span><span class=\"k\">,</span> <span class=\"s\">'${value}'</span><span class=\"k\">]);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>value<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>value <span class=\"k\">=</span> value<span class=\"k\">;</span> <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> OpacityAnimation<span class=\"k\">;</span>","<span class=\"k\">}</span>","","OpacityAnimation<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Specifies the opacity value</span>","<span class=\"c\">   * @public</span>","<span class=\"c\">   * @name vs.fx.OpacityAnimation#value</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  value<span class=\"k\">:</span> <span class=\"s\">1</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>OpacityAnimation<span class=\"k\">,</span> Animation<span class=\"k\">);</span>","","<span class=\"c\">/*************************************************************</span>","<span class=\"c\">                Predefined animation</span>","<span class=\"c\">*************************************************************/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to right.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideOutRight</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideOutRight <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateX'</span><span class=\"k\">,</span> <span class=\"s\">'$width'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideOutRight<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0px'</span><span class=\"k\">]);</span>","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to left.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideOutLeft</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideOutLeft <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateX'</span><span class=\"k\">,</span> <span class=\"s\">'-$width'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideOutLeft<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0px'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to top.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideOutTop</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideOutTop <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateY'</span><span class=\"k\">,</span> <span class=\"s\">'-$height'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideOutTop<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0px'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to left.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideOutBottom</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideOutBottom <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateY'</span><span class=\"k\">,</span> <span class=\"s\">'$height'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideOutBottom<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0px'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to right.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideInRight</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideInRight <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateX'</span><span class=\"k\">,</span> <span class=\"s\">'0px'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideInRight<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'$width'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to left.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideInLeft</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideInLeft <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateX'</span><span class=\"k\">,</span> <span class=\"s\">'0px'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideInLeft<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'-$width'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to top.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideInTop</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideInTop <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateY'</span><span class=\"k\">,</span> <span class=\"s\">'0px'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideInTop<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'-$height'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Slide a object to left.</span>","<span class=\"c\"> * @name vs.fx.Animation.SlideInBottom</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>SlideInBottom <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'translateY'</span><span class=\"k\">,</span> <span class=\"s\">'0px'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>SlideInBottom<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'$height'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Fade in an object.</span>","<span class=\"c\"> * @name vs.fx.Animation.FadeIn</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>FadeIn <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'opacity'</span><span class=\"k\">,</span> <span class=\"s\">'1'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>FadeIn<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'0'</span><span class=\"k\">]);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  Fade out an object.</span>","<span class=\"c\"> * @name vs.fx.Animation.FadeOut</span>","<span class=\"c\"> *  @type vs.fx.Animation</span>","<span class=\"c\"> */</span>","Animation<span class=\"k\">.</span>FadeOut <span class=\"k\">=</span> <span class=\"k\">new</span> Animation <span class=\"k\">([</span><span class=\"s\">'opacity'</span><span class=\"k\">,</span> <span class=\"s\">'0'</span><span class=\"k\">]);</span>","Animation<span class=\"k\">.</span>FadeOut<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'1'</span><span class=\"k\">]);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>Animation <span class=\"k\">=</span> Animation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>cancelAnimation <span class=\"k\">=</span> cancelAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>TranslateAnimation <span class=\"k\">=</span> TranslateAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>RotateAnimation <span class=\"k\">=</span> RotateAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>RotateXYZAnimation <span class=\"k\">=</span> RotateXYZAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>ScaleAnimation <span class=\"k\">=</span> ScaleAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>SkewAnimation <span class=\"k\">=</span> SkewAnimation<span class=\"k\">;</span>","fx<span class=\"k\">.</span>OpacityAnimation <span class=\"k\">=</span> OpacityAnimation<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The Generic vs.fx.Controller class</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @see vs.fx.SlideController</span>","<span class=\"c\"> *  @see vs.fx.CardController</span>","<span class=\"c\"> *  @see vs.fx.NavigationController</span>","<span class=\"c\"> *  @extends vs.core.EventSource</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  This class can be used to implement your custom GUI controller.</span>","<span class=\"c\"> *  &lt;p/&gt;</span>","<span class=\"c\"> *  Before developing your own controller you can try the SlideController</span>","<span class=\"c\"> *  or the NavigationController witch match most situations.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller),</span>","<span class=\"c\"> *         Called when the view changed</span>","<span class=\"c\"> *    &lt;li/&gt;controllerAnimationDidEnd : function (from vs.ui.View, to vs.ui.View, controller), Called just after </span>","<span class=\"c\"> *         the animation ended</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Example:</span>","<span class=\"c\"> *  &lt;pre class=\"code\"&gt;</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *   // 1 create and init the controller</span>","<span class=\"c\"> *   this.controller = new vs.fx.Controller (this);</span>","<span class=\"c\"> *   this.controller.init ();</span>","<span class=\"c\"> *   </span>","<span class=\"c\"> *   // 2.1 put a first view into the controller</span>","<span class=\"c\"> *   this.controller.add (this.firstView);</span>","<span class=\"c\"> *   // 2.2 set the first view as the initial view</span>","<span class=\"c\"> *   this.controller.initialComponent = this.firstView.id;</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *   // 3.1 create, configure and put the second view into the controller</span>","<span class=\"c\"> *   var comp = this.createAndAddComponent ('PanelOne');</span>","<span class=\"c\"> *   comp.position = [0, 44];</span>","<span class=\"c\"> *   comp.translation = [320, 0];</span>","<span class=\"c\"> *   this.controller.add (comp);</span>","<span class=\"c\"> *   </span>","<span class=\"c\"> *   // 3.2 declare transitions (with animations) between states</span>","<span class=\"c\"> *   // translateOutLeft is play on firstView when we leave the firstView</span>","<span class=\"c\"> *   // translateInRight is play on comp when we enter into comp</span>","<span class=\"c\"> *   this.controller.addTransition (this.firstView.id, comp.id, 'goToOne',</span>","<span class=\"c\"> *                                  translateOutLeft, translateInRight);</span>","<span class=\"c\"> *   this.controller.addTransition (comp.id, this.firstView.id, 'back',</span>","<span class=\"c\"> *                                  translateOutRight, translateInLeft);</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *   // 4 create, configure and put the third view into the controller</span>","<span class=\"c\"> *   comp = this.createAndAddComponent ('PanelTwo');</span>","<span class=\"c\"> *   comp.position = [0, 44];</span>","<span class=\"c\"> *   comp.translation = [320, 0];</span>","<span class=\"c\"> *   this.controller.add (comp);</span>","<span class=\"c\"> *   </span>","<span class=\"c\"> *   this.controller.addTransition (this.firstView.id, comp.id, 'goToTwo',</span>","<span class=\"c\"> *                                  translateOutLeft, translateInRight);</span>","<span class=\"c\"> *   this.controller.addTransition (comp.id, this.firstView.id, 'back',</span>","<span class=\"c\"> *                                  translateOutRight, translateInLeft);</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *   // 5 create, configure and put the fourth view into the controller</span>","<span class=\"c\"> *   var comp = this.createAndAddComponent ('PanelThree');</span>","<span class=\"c\"> *   comp.position = [0, 44];</span>","<span class=\"c\"> *   comp.translation = [320, 0];</span>","<span class=\"c\"> *   this.controller.add (comp);</span>","<span class=\"c\"> *   </span>","<span class=\"c\"> *   this.controller.addTransition (this.firstView.id, comp.id, 'goToThree',</span>","<span class=\"c\"> *                                  translateOutLeft, translateInRight);</span>","<span class=\"c\"> *   this.controller.addTransition (comp.id, this.firstView.id, 'back',</span>","<span class=\"c\"> *                                  translateOutRight, translateInLeft);</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  &lt;/pre&gt;</span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.Controller</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.Controller.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this controller [mandatory]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> Controller <span class=\"k\">(</span>owner<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> core<span class=\"k\">.</span>EventSource<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">();</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> Controller<span class=\"k\">;</span>","","  <span class=\"k\">if</span> <span class=\"k\">(</span>owner<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">=</span> <span class=\"k\">new</span> core<span class=\"k\">.</span>Fsm <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","  ","    <span class=\"c\">// fsm goTo surcharge</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>goTo<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_owner <span class=\"k\">=</span> owner<span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","Controller<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","   <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {Object}</span>","<span class=\"c\">   */</span>","  _delegate<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","   <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {Object}</span>","<span class=\"c\">   */</span>","  _owner<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","   <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.core.Fsm}</span>","<span class=\"c\">   */</span>","  _fsm<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","   <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {String}</span>","<span class=\"c\">   */</span>","  _initial_component<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>",""," <span class=\"c\">/**********************************************************************</span>","","<span class=\"c\">  *********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  destructor <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>__controller__ <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>remove <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>_ab_controller_remove<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>_ab_controller_remove <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_delegate <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","","    util<span class=\"k\">.</span>free <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">);</span>","    core<span class=\"k\">.</span>EventSource<span class=\"k\">.</span>prototype<span class=\"k\">.</span>destructor<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  initComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    core<span class=\"k\">.</span>EventSource<span class=\"k\">.</span>prototype<span class=\"k\">.</span>initComponent<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>init <span class=\"k\">();</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"Invalid vs.fx.Controller, owner is null vs.fx.Controller.id = '\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_id <span class=\"k\">+</span> <span class=\"s\">\"'\"</span><span class=\"k\">);</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>__controller__<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"The owner already use a controller\"</span><span class=\"k\">);</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>__controller__ <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>_ab_controller_remove <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>remove<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>remove <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>ab_controller_remove<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 behavior update</span>","<span class=\"c\"> *********************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  ab_controller_remove <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>child<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>child<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>child<span class=\"k\">.</span>id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>remove <span class=\"k\">(</span>child<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_ab_controller_remove <span class=\"k\">(</span>child<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"c\">// XXX should remove the component from the FSM etc...</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  State Management</span>","<span class=\"c\"> *********************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Return true if the state already exists</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#isStateExit</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return boolean</span>","<span class=\"c\">   */</span>","  isStateExit <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>id<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>id<span class=\"k\">])</span>","    <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @private</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * @deprecated</span>","<span class=\"c\">   */</span>","  add <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">'vs.fx.Controller.add is deprecated. Use vs.fx.Controller.push'</span><span class=\"k\">);</span> ","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>push <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add the a child component to the Controller Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myComp = new MyComp (conf);</span>","<span class=\"c\">   *  myComp.layer = new vs.fx.Controller (myComp);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String | vs.ui.View} comp The GUI component name to instanciate or </span>","<span class=\"c\">   *    the instance of the component  </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the </span>","<span class=\"c\">   *     component [optional]</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">,</span> binding<span class=\"k\">,</span> i<span class=\"k\">,</span> state<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> data<span class=\"k\">.</span>id<span class=\"k\">)</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> data<span class=\"k\">.</span>id<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> comp<span class=\"k\">.</span>id<span class=\"k\">)</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">.</span>id<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> state_id <span class=\"k\">=</span> core<span class=\"k\">.</span>createId <span class=\"k\">();</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>isStateExit <span class=\"k\">(</span>state_id<span class=\"k\">))</span>","    <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addState <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    state<span class=\"k\">.</span>bindings <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>bindings <span class=\"k\">&amp;&amp;</span> bindings<span class=\"k\">.</span>length<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> bindings<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","      <span class=\"k\">{</span>","        binding <span class=\"k\">=</span> bindings <span class=\"k\">[</span>i<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>binding <span class=\"k\">||</span> binding<span class=\"k\">.</span>length <span class=\"k\">!==</span> <span class=\"s\">3</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">'vs.fx.Controller.push: invalid binding information'</span><span class=\"k\">);</span>","          <span class=\"k\">continue</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>componentBind <span class=\"k\">(</span>state_id<span class=\"k\">,</span> binding<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> binding<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">],</span> binding<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>setStateComponentInformation <span class=\"k\">(</span>state_id<span class=\"k\">,</span> comp<span class=\"k\">,</span> extension<span class=\"k\">,</span> data<span class=\"k\">);</span>","    ","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Remove a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component can be specified as an Object or an id.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  layer.remove (myComp);</span>","<span class=\"c\">   *  layer.remove (myComp.id);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#remove</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component id</span>","<span class=\"c\">   */</span>","  remove <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">.</span>id<span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>_ab_controller_remove <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeState <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *   set the component associated to a state</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#setStateComponentInformation</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} state_id the state's name </span>","<span class=\"c\">   * @param {String | vs.ui.View} comp The GUI component name to instanciate or </span>","<span class=\"c\">   *    the instance of the component  </span>","<span class=\"c\">   * @param {Object} init_data Optional data for the component </span>","<span class=\"c\">   *                   constructor [optional]</span>","<span class=\"c\">   */</span>","  setStateComponentInformation <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> comp<span class=\"k\">,</span> extension<span class=\"k\">,</span> init_data<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>state_id<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>init_data<span class=\"k\">)</span> <span class=\"k\">{</span> init_data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">{</span> init_data <span class=\"k\">=</span> util<span class=\"k\">.</span>clone <span class=\"k\">(</span>init_data<span class=\"k\">);</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    state<span class=\"k\">.</span>init_data <span class=\"k\">=</span> init_data<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      state<span class=\"k\">.</span>comp_name <span class=\"k\">=</span> comp<span class=\"k\">;</span>","      state<span class=\"k\">.</span>comp <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      state<span class=\"k\">.</span>comp_name <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","      state<span class=\"k\">.</span>comp <span class=\"k\">=</span> comp<span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>isChild <span class=\"k\">(</span>comp<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>add <span class=\"k\">(</span>comp<span class=\"k\">,</span> extension<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Animation setting</span>","<span class=\"c\"> *********************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *   Add a new transition from the view \"from\" to the view \"to\".</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#addTransition</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} from State from (component id)</span>","<span class=\"c\">   * @param {String} to State to (component id)</span>","<span class=\"c\">   * @param {String} on the input event name which cause the crossing of </span>","<span class=\"c\">   *      transition</span>","<span class=\"c\">   * @param {vs.fx.Animation} animation_out the animation when exit from the</span>","<span class=\"c\">   *         state from. [optional]</span>","<span class=\"c\">   * @param {vs.fx.Animation} animation_in the animation when enter in the</span>","<span class=\"c\">   *         state to. [optional]</span>","<span class=\"c\">   */</span>","  addTransition <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">,</span> animation_out<span class=\"k\">,</span> animation_in<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> key<span class=\"k\">,</span> t<span class=\"k\">;</span>","        ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>from <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>from<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>to <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>to<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>on<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existInput <span class=\"k\">(</span>on<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>on<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addTransition <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">);</span>","","    <span class=\"k\">for</span> <span class=\"k\">(</span>key <span class=\"k\">in</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>from<span class=\"k\">].</span>transitionEvents<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      t <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>from<span class=\"k\">].</span>transitionEvents <span class=\"k\">[</span>key<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>t<span class=\"k\">.</span>to <span class=\"k\">!==</span> to<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      t<span class=\"k\">.</span>animation_out <span class=\"k\">=</span> animation_out<span class=\"k\">;</span>","      t<span class=\"k\">.</span>animation_in <span class=\"k\">=</span> animation_in<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   */</span>","  _animateComponents <span class=\"k\">:</span>","    <span class=\"k\">function</span> <span class=\"k\">(</span>fromComp<span class=\"k\">,</span> toComp<span class=\"k\">,</span> animationOut<span class=\"k\">,</span> animationIn<span class=\"k\">,</span> animation_clb<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> self <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> runAnimation<span class=\"k\">,</span> callback <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">try</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>animation_clb<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          animation_clb<span class=\"k\">.</span>call <span class=\"k\">(</span>self<span class=\"k\">.</span>_owner<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>self<span class=\"k\">.</span>_delegate <span class=\"k\">&amp;&amp;</span> self<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>animationDidEnd<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">\"animationDidEnd is deprecated. Please use 'controllerAnimationDidEnd'.\"</span><span class=\"k\">);</span>","          self<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>animationDidEnd <span class=\"k\">(</span>self<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>self<span class=\"k\">.</span>_delegate <span class=\"k\">&amp;&amp;</span> self<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerAnimationDidEnd<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          self<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerAnimationDidEnd <span class=\"k\">(</span>fromComp<span class=\"k\">,</span> toComp<span class=\"k\">,</span> self<span class=\"k\">);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span> console<span class=\"k\">.</span>error <span class=\"k\">(</span>e<span class=\"k\">);</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    runAnimation <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">try</span>","      <span class=\"k\">{</span>","        toComp<span class=\"k\">.</span>show <span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>animationIn <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>animationOut<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          callback<span class=\"k\">.</span>call <span class=\"k\">(</span>self<span class=\"k\">);</span>","          <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationIn<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">var</span> inDurations <span class=\"k\">=</span> animationIn<span class=\"k\">.</span>durations<span class=\"k\">;</span>","            animationIn<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"s\">'0s'</span><span class=\"k\">;</span>","          <span class=\"k\">}</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationOut<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">var</span> outDurations <span class=\"k\">=</span> animationOut<span class=\"k\">.</span>durations<span class=\"k\">;</span>","            animationOut<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"s\">'0s'</span><span class=\"k\">;</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>animationIn <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>animationOut<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          animationIn<span class=\"k\">.</span>process <span class=\"k\">(</span>toComp<span class=\"k\">,</span> callback<span class=\"k\">,</span> self<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>animationIn <span class=\"k\">&amp;&amp;</span> animationOut<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          animationOut<span class=\"k\">.</span>process <span class=\"k\">(</span>fromComp<span class=\"k\">,</span> callback<span class=\"k\">,</span> self<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationIn<span class=\"k\">)</span> animationIn<span class=\"k\">.</span>process <span class=\"k\">(</span>toComp<span class=\"k\">,</span> callback<span class=\"k\">,</span> self<span class=\"k\">);</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationOut<span class=\"k\">)</span> animationOut<span class=\"k\">.</span>process <span class=\"k\">(</span>fromComp<span class=\"k\">);</span> ","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationIn<span class=\"k\">)</span> animationIn<span class=\"k\">.</span>durations <span class=\"k\">=</span> inDurations<span class=\"k\">;</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>animationOut<span class=\"k\">)</span> animationOut<span class=\"k\">.</span>durations <span class=\"k\">=</span> outDurations<span class=\"k\">;</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span> console<span class=\"k\">.</span>error <span class=\"k\">(</span>e<span class=\"k\">);</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    window<span class=\"k\">.</span>setTimeout <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>runAnimation <span class=\"k\">();</span><span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 Component Event management</span>","<span class=\"c\"> *********************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  The event bind method to listen events</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  When you want listen an event generated by a component, you can</span>","<span class=\"c\">   *  bind your object (the observer) to this object using 'componentBind' </span>","<span class=\"c\">   *  method.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#componentBind</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {string} comp_id the component id [mandatory]</span>","<span class=\"c\">   * @param {string} spec the event specification [mandatory]</span>","<span class=\"c\">   * @param {vs.core.Object} obj the object interested to catch the event [mandatory]</span>","<span class=\"c\">   * @param {string} func the name of a callback. If its not defined</span>","<span class=\"c\">   *        notify method will be called [optional]</span>","<span class=\"c\">   */</span>","  componentBind<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp_id<span class=\"k\">,</span> event<span class=\"k\">,</span> obj<span class=\"k\">,</span> func<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","    ","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>comp_id<span class=\"k\">],</span> a<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    a <span class=\"k\">=</span> state<span class=\"k\">.</span>bindings <span class=\"k\">[</span>event<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>a<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      a <span class=\"k\">=</span> <span class=\"k\">[];</span>","      state<span class=\"k\">.</span>bindings <span class=\"k\">[</span>event<span class=\"k\">]</span> <span class=\"k\">=</span> a<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    a<span class=\"k\">.</span>push <span class=\"k\">([</span>obj<span class=\"k\">,</span> func<span class=\"k\">]);</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>comp_id <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>bind <span class=\"k\">(</span>event<span class=\"k\">,</span> obj<span class=\"k\">,</span> func<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  refresh<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 FSM management</span>","<span class=\"c\"> *********************************************************/</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   * returns the currents state_id which is the current visible</span>","<span class=\"c\">   * component id.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#getCurrentState</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @return {string} the current state id</span>","<span class=\"c\">   */</span>","  getCurrentState <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","    ","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>"," ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNewComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _beforeStateEnter <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state<span class=\"k\">,</span> data<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state <span class=\"k\">||</span> <span class=\"k\">!(</span>state<span class=\"k\">.</span>comp_name <span class=\"k\">||</span> state<span class=\"k\">.</span>comp<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> spec<span class=\"k\">,</span> events<span class=\"k\">,</span> i<span class=\"k\">,</span> key<span class=\"k\">,</span> e<span class=\"k\">,</span> new_data<span class=\"k\">;</span>","  ","    <span class=\"c\">////////////////////////////////////////////////////</span>","    <span class=\"c\">// 1) build the component if its need</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>createAndAddComponent","        <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> state<span class=\"k\">.</span>extension<span class=\"k\">);</span>","        ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","      <span class=\"k\">{</span> ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">////////////////////////////////////////////////////</span>","    <span class=\"c\">// 2) data adaptation and init</span>","    new_data <span class=\"k\">=</span> data<span class=\"k\">;</span>","    <span class=\"c\">// 2.1) data adaptation</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>data_adaptation_func<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      new_data <span class=\"k\">=</span> state<span class=\"k\">.</span>data_adaptation_func <span class=\"k\">(</span>data<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"c\">// 2.2) component data init</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>new_data<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"c\">// 2.2.1) set data</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span>key <span class=\"k\">in</span> new_data<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>__lookupSetter__ <span class=\"k\">(</span>key<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","            <span class=\"k\">!</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>hasOwnProperty <span class=\"k\">(</span>key<span class=\"k\">))</span>","        <span class=\"k\">{</span>","          <span class=\"k\">continue</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> new_data <span class=\"k\">[</span>key<span class=\"k\">];</span>","      <span class=\"k\">}</span>","      ","      <span class=\"c\">// 2.2.1) dataflow propagation</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">////////////////////////////////////////////////////</span>","    <span class=\"c\">// 3) events binding</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span>spec <span class=\"k\">in</span> state<span class=\"k\">.</span>bindings<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      events <span class=\"k\">=</span> state<span class=\"k\">.</span>bindings <span class=\"k\">[</span>spec<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>events<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> events<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">++)</span>","      <span class=\"k\">{</span>","        e <span class=\"k\">=</span> events <span class=\"k\">[</span>i<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>e<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>e<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])</span> <span class=\"k\">{</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>bind <span class=\"k\">(</span>spec<span class=\"k\">,</span> e<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> e<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]);</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">{</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>bind <span class=\"k\">(</span>spec<span class=\"k\">,</span> e<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _beforeStateExit <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state <span class=\"k\">||</span> <span class=\"k\">!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> spec<span class=\"k\">,</span> events<span class=\"k\">,</span> i<span class=\"k\">,</span> e<span class=\"k\">;</span>","      ","    <span class=\"c\">////////////////////////////////////////////////////</span>","    <span class=\"c\">// 1) events unbinding</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span>spec <span class=\"k\">in</span> state<span class=\"k\">.</span>bindings<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      events <span class=\"k\">=</span> state<span class=\"k\">.</span>bindings <span class=\"k\">[</span>spec<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>events<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> events<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">++)</span>","      <span class=\"k\">{</span>","        e <span class=\"k\">=</span> events <span class=\"k\">[</span>i<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>e<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>e<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])</span> <span class=\"k\">{</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>unbind <span class=\"k\">(</span>spec<span class=\"k\">,</span> e<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> e<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]);</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">{</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>bind <span class=\"k\">(</span>spec<span class=\"k\">,</span> e<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">   *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">   *  crossing a transition</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#goTo</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} id_sate the id of target state.</span>","<span class=\"c\">   * @param {String} output</span>","<span class=\"c\">   * @param {Object} event the event</span>","<span class=\"c\">   * @param {Boolean} instant make the transition visualy instantly [Optional]</span>","<span class=\"c\">   * @return {Boolean} is the transition was reached or not</span>","<span class=\"c\">   */</span>","  goTo <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"c\">// manage output</span>","    <span class=\"c\">// TODO WARNING</span>","    <span class=\"k\">var</span> state_from<span class=\"k\">,</span> state_to<span class=\"k\">,</span> transition <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">])</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>warn <span class=\"k\">(</span><span class=\"s\">\"vs.fx.Controller.goTo unknown State id:\"</span> <span class=\"k\">+</span> state_id<span class=\"k\">);</span>","      <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">// hide old states view</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        transition <span class=\"k\">=</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">].</span>transitionEvents <span class=\"k\">[</span>event<span class=\"k\">.</span>on<span class=\"k\">];</span>","      <span class=\"k\">}</span>","      state_from <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_beforeStateExit <span class=\"k\">(</span>state_from<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">///</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_current_state <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","    ","    <span class=\"c\">// show new states view</span>","    state_to <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_beforeStateEnter <span class=\"k\">(</span>state_to<span class=\"k\">,</span> event<span class=\"k\">?</span>event<span class=\"k\">.</span>data<span class=\"k\">:</span><span class=\"k\">null</span><span class=\"k\">);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>state_from <span class=\"k\">&amp;&amp;</span> state_from<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state_from<span class=\"k\">.</span>comp<span class=\"k\">.</span>viewWillDisappear<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state_from<span class=\"k\">.</span>comp<span class=\"k\">.</span>viewWillDisappear <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>viewWillAppear<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>viewWillAppear <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_delegate <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerViewWillChange<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state_from<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerViewWillChange","          <span class=\"k\">(</span>state_from<span class=\"k\">.</span>comp<span class=\"k\">,</span> state_to<span class=\"k\">.</span>comp<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_delegate<span class=\"k\">.</span>controllerViewWillChange","          <span class=\"k\">(</span><span class=\"k\">null</span><span class=\"k\">,</span> state_to<span class=\"k\">.</span>comp<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>transition<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_animateComponents <span class=\"k\">(</span>","        state_from<span class=\"k\">.</span>comp<span class=\"k\">,</span> state_to<span class=\"k\">.</span>comp<span class=\"k\">,</span>","        transition<span class=\"k\">.</span>animation_out<span class=\"k\">,</span> transition<span class=\"k\">.</span>animation_in<span class=\"k\">,</span>","        <span class=\"k\">null</span><span class=\"k\">,</span> instant<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>output <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">])</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> clb <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb <span class=\"k\">instanceof</span> Function<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        clb<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">,</span> event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>clb<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_owner <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">]]</span> <span class=\"k\">(</span>event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  notify <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">||</span> <span class=\"k\">!</span>event <span class=\"k\">||</span> <span class=\"k\">!</span>event<span class=\"k\">.</span>type<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>event<span class=\"k\">.</span>type<span class=\"k\">,</span> event<span class=\"k\">.</span>data<span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Controller clear</span>","<span class=\"c\"> *********************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Clear the vs.fx.Controller.</span>","<span class=\"c\">   * All state, event and binding are deleted</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.Controller#clear</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  clear <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>clear <span class=\"k\">();</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>Controller<span class=\"k\">,</span> core<span class=\"k\">.</span>EventSource<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>Controller<span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"s\">'initialComponent'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/*****************************************************************</span>","<span class=\"c\">     *     Properties declaration</span>","<span class=\"c\">     ****************************************************************/</span>","  ","    <span class=\"c\">/**</span>","<span class=\"c\">     * Define the initiale component</span>","<span class=\"c\">     * Generate a exception if the component was not already registered</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @name vs.fx.Controller#initialComponent </span>","<span class=\"c\">     * @param {string} state_id the state</span>","<span class=\"c\">     */</span>","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp_id<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm <span class=\"k\">||</span> <span class=\"k\">!</span>comp_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","     ","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>comp_id<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","  ","      <span class=\"c\">// set initial state and go to it   </span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> comp_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>initialState <span class=\"k\">=</span> comp_id<span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span>comp_id<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    ","    <span class=\"c\">/**</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     */</span>","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'delegate'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","  ","    <span class=\"c\">/** </span>","<span class=\"c\">     * Set the delegate.</span>","<span class=\"c\">     * It should implements following methods</span>","<span class=\"c\">     * &lt;ul&gt;</span>","<span class=\"c\">     *   &lt;li/&gt;controllerViewWillChange :function</span>","<span class=\"c\">     *           (from vs.ui.View, to vs.ui.View, controller),</span>","<span class=\"c\">     *           Called when the view changed</span>","<span class=\"c\">     *   &lt;li/&gt;controllerAnimationDidEnd : function</span>","<span class=\"c\">     *           (from vs.ui.View, to vs.ui.View, controller), Called just after </span>","<span class=\"c\">     *         the animation ended</span>","<span class=\"c\">     * &lt;/ul&gt;</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @name vs.fx.Controller#delegate </span>","<span class=\"c\">     * @type {Object}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_delegate <span class=\"k\">=</span> v<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>Controller <span class=\"k\">=</span> Controller<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.StackController class &lt;br /&gt;</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @see vs.fx.SlideController</span>","<span class=\"c\"> *  @see vs.fx.CardController</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.Controller</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  The vs.fx.StackController class &lt;br /&gt;</span>","<span class=\"c\"> *  This an abstract layer controller and it should no be instanciated.</span>","<span class=\"c\"> *  Use {@link vs.fx.SliderController} or {@link vs.fx.CardController} layers.</span>","<span class=\"c\"> *  @abstract</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.StackController</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.StackController.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.fx.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> StackController <span class=\"k\">(</span>owner<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Controller<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","","  <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>StackController<span class=\"k\">.</span>NEXT<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>StackController<span class=\"k\">.</span>PRED<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","","  <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">=</span> <span class=\"k\">new</span> Array <span class=\"k\">();</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The duration of the animation between two views</span>","<span class=\"c\"> * @name vs.fx.StackController.ANIMATION_DURATION</span>","<span class=\"c\"> */</span>","StackController<span class=\"k\">.</span>ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">350</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @name vs.fx.StackController.NEXT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","StackController<span class=\"k\">.</span>NEXT <span class=\"k\">=</span> <span class=\"s\">'next'</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @name vs.fx.StackController.PRED</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","StackController<span class=\"k\">.</span>PRED <span class=\"k\">=</span> <span class=\"s\">'pred'</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> * @name vs.fx.StackController.FIRST</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","StackController<span class=\"k\">.</span>FIRST <span class=\"k\">=</span> <span class=\"s\">'first'</span><span class=\"k\">;</span>","","StackController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _is_tactile <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _owner_handler_event_extended <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _owner_handler_event <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _animation_duration<span class=\"k\">:</span> StackController<span class=\"k\">.</span>ANIMATION_DURATION<span class=\"k\">,</span> ","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _last_comp_id <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _states_array <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  __nb_panels <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {Array}</span>","<span class=\"c\">   */</span>","  _view_size<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","<span class=\"c\">/********************************************************************</span>","","<span class=\"c\">********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  destructor <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">delete</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">);</span>","    ","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>destructor<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  initComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>initComponent<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>isTactile <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_is_tactile<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","","<span class=\"c\">/********************************************************************</span>","","<span class=\"c\">********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myController = new vs.fx.StackController (this | myView);</span>","<span class=\"c\">   *  myController.init ();</span>","<span class=\"c\">   *  myController.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myController.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myController.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call","      <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>push <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">++;</span> ","","    <span class=\"c\">// first item</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">===</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>initialComponent <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","","      <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>NEXT<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>PRED<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition ","      <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">,</span> StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","    ","    <span class=\"c\">// create the second view </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"Unknown error in vs.fx.StackController.push\"</span><span class=\"k\">);</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _updateViewSize <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Remove a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component can be specified as an Object or an id.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  myComp.layer.remove (myComp);</span>","<span class=\"c\">   *  myComp.layer.remove (myComp.id);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#remove</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component id</span>","<span class=\"c\">   */</span>","  remove <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span> state_id <span class=\"k\">=</span> comp<span class=\"k\">.</span>id<span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> pos <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>findItem <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeTransitionTo <span class=\"k\">(</span>state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>NEXT<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeTransitionFrom <span class=\"k\">(</span>state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>PRED<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeTransitionFrom <span class=\"k\">(</span>state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>remove <span class=\"k\">(</span>pos<span class=\"k\">);</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">--;</span> ","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"s\">0</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      ","      <span class=\"c\">// re configure all to FIRST transition</span>","      <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> state_id_temp <span class=\"k\">in</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state_id_temp <span class=\"k\">===</span> state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state_id_temp <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","        <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>removeTransitionFrom <span class=\"k\">(</span>state_id_temp<span class=\"k\">,</span> StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>addTransition","          <span class=\"k\">(</span>state_id_temp<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">,</span> StackController<span class=\"k\">.</span>FIRST<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">===</span> <span class=\"s\">0</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state <span class=\"k\">===</span> state_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span> pos <span class=\"k\">--;</span> <span class=\"k\">}</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span>pos<span class=\"k\">]);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>remove<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {number} orientation = {0, 180, -90, 90}</span>","<span class=\"c\">   */</span>","  orientationDidChange<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>orientation<span class=\"k\">)</span>","  <span class=\"k\">{</span> ","    <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * Go to the view specified by its id if it exist.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToViewId</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return true if the transition is possible, false if not (no view exists)</span>","<span class=\"c\">   */</span>","  goToViewId <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>id<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> pos <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>findItem <span class=\"k\">(</span>id<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">===</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>goToViewAt <span class=\"k\">(</span>pos<span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Go to the view specified by its position (index start at 0)</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToViewAt</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {number} index The component index</span>","<span class=\"c\">   */</span>","  goToViewAt <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>pos<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">&gt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> current_pos <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>findItem <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>current_pos <span class=\"k\">===</span> pos<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>pos <span class=\"k\">&gt;</span> current_pos<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">while</span> <span class=\"k\">(</span>current_pos <span class=\"k\">&lt;</span> pos <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        current_pos <span class=\"k\">++;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span> instant<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">while</span> <span class=\"k\">(</span>pos <span class=\"k\">+</span> <span class=\"s\">1</span> <span class=\"k\">&lt;</span> current_pos <span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        current_pos <span class=\"k\">--;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span> instant<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Go to the next view if it exist.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToNextView</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return true if the transition is possible, false if not (no view exists)</span>","<span class=\"c\">   */</span>","  goToNextView <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Go to the previous view if it exist.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToPreviousView</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return true if the transition is possible, false if not (no view exists)</span>","<span class=\"c\">   */</span>","  goToPreviousView <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Go to the first view</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.StackController#goToFirstView</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   * </span>","<span class=\"c\">   * @return true if the transition is possible</span>","<span class=\"c\">   */</span>","  goToFirstView <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>fsmNotify <span class=\"k\">(</span>StackController<span class=\"k\">.</span>FIRST<span class=\"k\">,</span> instant<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  handleEvent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","  <span class=\"k\">{}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>StackController<span class=\"k\">,</span> Controller<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>StackController<span class=\"k\">,</span> <span class=\"k\">{</span>","","  <span class=\"s\">'viewSize'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","   <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter for view size.</span>","<span class=\"c\">     * @name vs.fx.StackController#viewSize </span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @type {Array.&lt;number&gt;}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span> ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>v<span class=\"k\">)</span> <span class=\"k\">||</span> v<span class=\"k\">.</span>length <span class=\"k\">!==</span> <span class=\"s\">2</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">||</span> <span class=\"k\">!</span>util<span class=\"k\">.</span>isNumber<span class=\"k\">(</span>v<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">=</span> <span class=\"k\">[];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">=</span> v <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">=</span> v <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/**</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @type {Array.&lt;number&gt;}</span>","<span class=\"c\">     */</span>","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>size<span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">.</span>slice <span class=\"k\">();</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'isTactile'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter for the tab bar style</span>","<span class=\"c\">     * @name vs.fx.StackController#isTactile </span>","<span class=\"c\">     * @type {boolean}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_is_tactile <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","  ","        <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event_extended<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>view<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_START<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>handleEvent<span class=\"k\">;</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>handleEvent <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>handleEvent<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event_extended <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_is_tactile <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event_extended<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>view<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_START<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>handleEvent <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event<span class=\"k\">;</span>","          ","          <span class=\"k\">this</span><span class=\"k\">.</span>_owner_handler_event_extended <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @return {boolean}</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_is_tactile<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'animationDuration'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Set the animation/transition temporisation (in millisecond)</span>","<span class=\"c\">     * @name vs.fx.StackController#animationDuration </span>","<span class=\"c\">     * @type {number}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>time<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>time<span class=\"k\">)</span> <span class=\"k\">{</span> time <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>time<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">}</span><span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">=</span> time<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>StackController <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.SlideController class &lt;br /&gt;</span>","<span class=\"c\"> *  This layer manage a list of children using a horizontal layout.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  Children can be slided horizontally (right &lt;-&gt; left) or vertically </span>","<span class=\"c\"> *  (top &lt;-&gt; bottom) using a pointing device (mouse, touch screen, ...),</span>","<span class=\"c\"> *  or using methods goToNextView and goToPreviousView.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  By default the slider is horizontal, but you can change it using the </span>","<span class=\"c\"> *  property \"orientation\".</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  The following example shows a typical example with panels</span>","<span class=\"c\"> *  (components 1 to 4) that are shows sequentially according user touch slide.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre&gt;</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164; &#226;&#142;&#162;   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;      &#226;&#142;&#162; &#226;&#142;&#162;   &#226;&#142;&#159;      &#226;&#142;&#162;   &#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;  (1) &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;  (2) &#226;&#142;&#162; &#226;&#142;&#162;   &#226;&#142;&#159;  (3) &#226;&#142;&#162;   &#226;&#142;&#159;  (4) &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;      &#226;&#142;&#162; &#226;&#142;&#162;   &#226;&#142;&#159;      &#226;&#142;&#162;   &#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162;   &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#163;______&#226;&#142;&#166;</span>","<span class=\"c\"> *                &#226;&#142;&#163;____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  (*) : device screen</span>","<span class=\"c\"> *  (1, ... ,4) : components managed by the SliderLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *   &lt;/pre&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller),</span>","<span class=\"c\"> *         Called when the view changed</span>","<span class=\"c\"> *    &lt;li/&gt;controllerAnimationDidEnd : function (from vs.ui.View, to vs.ui.View, controller), Called just after </span>","<span class=\"c\"> *         the animation ended</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  var layer = new vs.fx.SlideController (myComp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  layer.push ('APanel', {id: '1', data: {...}});</span>","<span class=\"c\"> *  layer.push ('APanel', {id: '2', data: {...}});</span>","<span class=\"c\"> *  layer.push ('APanel', {id: '3', data: {...}});</span>","<span class=\"c\"> *  layer.push ('APanel', {id: '4', data: {...}});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.StackController</span>","<span class=\"c\"> * @name vs.fx.SlideController</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.SlideController.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> SlideController <span class=\"k\">(</span>owner<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> SlideController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","  ","  <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1 <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2 <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","","  <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> SlideController<span class=\"k\">.</span>ANIMATION_DURATION<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The duration of the animation between two views</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.SlideController.ANIMATION_DURATION</span>","<span class=\"c\"> */</span>","SlideController<span class=\"k\">.</span>ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">500</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Horizontal slide (defaut)</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.SlideController.HORIZONTAL</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","SlideController<span class=\"k\">.</span>HORIZONTAL <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Vertical slide</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.SlideController.VERTICAL</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","SlideController<span class=\"k\">.</span>VERTICAL <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","SlideController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  _delta <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  _orientation <span class=\"k\">:</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">,</span>","    ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_out_1 <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_out_2 <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","    ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_clear <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>  ","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 behavior update</span>","<span class=\"c\"> *********************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _updateViewSize <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">,</span> i<span class=\"k\">,</span> state_id<span class=\"k\">,</span> state<span class=\"k\">,</span> transform<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>x <span class=\"k\">=</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>y <span class=\"k\">=</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">// define transformation for view before current one</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(-\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0,0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(0,-\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span>","    <span class=\"k\">{</span>","      state_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span>i<span class=\"k\">];</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state <span class=\"k\">||</span> <span class=\"k\">!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state <span class=\"k\">===</span> state_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"c\">// define transformation for view after current one</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0,0)\"</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(0,\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        ","        <span class=\"c\">// set no transformation for the current one</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","        setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> <span class=\"s\">\"translate3D(0,0,0)\"</span><span class=\"k\">);</span>","        <span class=\"k\">continue</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","      setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","    <span class=\"k\">}</span> ","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myController = new vs.fx.SlideController (this | myView);</span>","<span class=\"c\">   *  myController.init ();</span>","<span class=\"c\">   *  myController.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myController.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myController.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.SlideController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call","      <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>push <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">++;</span> ","","    <span class=\"c\">// first item</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">===</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>initialComponent <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","","      <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">);</span>","<span class=\"c\">//    this.addTransition </span>","<span class=\"c\">//      (state_id, this._initial_component, StackController.FIRST);</span>","    ","    <span class=\"c\">// create the second view </span>","    state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"Unknown error in vs.fx.StackController.push\"</span><span class=\"k\">);</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels<span class=\"k\">);</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNewComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> transform<span class=\"k\">,</span> size<span class=\"k\">;</span>","    size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">;</span>      ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0,0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">=</span> <span class=\"s\">\"translate3D(0,\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","    setElementTransform <span class=\"k\">(</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  handleEvent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> t_ok <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">,</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>size<span class=\"k\">,</span>","      duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_animation_duration<span class=\"k\">;</span>","          ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_START<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      event<span class=\"k\">.</span>preventDefault <span class=\"k\">();</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>  ","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_END<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">50</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToPreviousView <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"k\">-</span><span class=\"s\">50</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToNextView <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>t_ok<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> SlideController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          duration <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor <span class=\"k\">(</span>duration <span class=\"k\">*</span> <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">/</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> duration<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>","          duration <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor <span class=\"k\">(</span>duration <span class=\"k\">*</span> <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">/</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> duration<span class=\"k\">;</span>","        <span class=\"k\">}</span>","<span class=\"c\">//        this.__curent_comp.translate (0, 0);</span>","      <span class=\"k\">}</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  refresh<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>refresh<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">//   /**</span>","<span class=\"c\">//    * @protected</span>","<span class=\"c\">//    *</span>","<span class=\"c\">//    * @param {number} orientation = {0, 180, -90, 90}</span>","<span class=\"c\">//    */</span>","<span class=\"c\">//   orientationDidChange: function (orientation)</span>","<span class=\"c\">//   { </span>","<span class=\"c\">//     this.refresh ();</span>","<span class=\"c\">//   },</span>","","<span class=\"c\">//   /**</span>","<span class=\"c\">//    *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">//    *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">//    *  crossing a transition</span>","<span class=\"c\">//    *  @private</span>","<span class=\"c\">//    *</span>","<span class=\"c\">//    * @param {String} id_sate the id of target state.</span>","<span class=\"c\">//    * @param {String} output</span>","<span class=\"c\">//    * @param {Object} event the event</span>","<span class=\"c\">//    */</span>","<span class=\"c\">//   goTo : function (state_id, output, event)</span>","<span class=\"c\">//   {</span>","<span class=\"c\">//     var state_to, index = this._states_array.indexOf (state_id),</span>","<span class=\"c\">//       size = this.owner.size, callback, self = this,</span>","<span class=\"c\">//       duration = self._animation_duration, __delta = this.owner.__delta;</span>","<span class=\"c\">//     // manage output</span>","<span class=\"c\">//     // TODO WARNING</span>","<span class=\"c\">//     StackController.prototype.goTo.call (self, state_id, output, event);</span>","<span class=\"c\">//     if (!state_id) { return; }</span>","<span class=\"c\">// </span>","<span class=\"c\">//     state_to = self._list_of_state [self._current_state];</span>","<span class=\"c\">//     if (self._orientation === SlideController.HORIZONTAL)</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       self._delta = index * size [0];</span>","<span class=\"c\">//       self.owner._sub_view.style.width = (index + 1) * size [0] + 'px';</span>","<span class=\"c\">//       self.owner._sub_view.style.height = size [1] + 'px';</span>","<span class=\"c\">//     }</span>","<span class=\"c\">//     else</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       self._delta = index * size [1];</span>","<span class=\"c\">//       self.owner._sub_view.style.width = size [0] + 'px';</span>","<span class=\"c\">//       self.owner._sub_view.style.height = (index + 1) * size [1] + 'px';</span>","<span class=\"c\">//     }</span>","<span class=\"c\">//         </span>","<span class=\"c\">//     function initState (index)</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       var state_id = self._states_array [index],</span>","<span class=\"c\">//           state = self._list_of_state [state_id];</span>","<span class=\"c\">//       </span>","<span class=\"c\">//       if (!state) { return; }</span>","<span class=\"c\">// </span>","<span class=\"c\">//       if (!state.comp)</span>","<span class=\"c\">//       {</span>","<span class=\"c\">//         state.comp = self.owner.createAndAddComponent</span>","<span class=\"c\">//           (state.comp_name, state.init_data, state.extension);</span>","<span class=\"c\">//           </span>","<span class=\"c\">//         state.comp.configure (state.init_data);</span>","<span class=\"c\">//         if (state.comp &amp;&amp; state.comp.propertiesDidChange) </span>","<span class=\"c\">//         { </span>","<span class=\"c\">//           state.comp.propertiesDidChange ();</span>","<span class=\"c\">//         }</span>","<span class=\"c\">//         state.comp.propertyChange ();</span>","<span class=\"c\">//       }</span>","<span class=\"c\">//       state.comp.show ();  </span>","<span class=\"c\">//     }</span>","<span class=\"c\">//     </span>","<span class=\"c\">//     /// left/top component </span>","<span class=\"c\">//     if (index &gt; 0) { initState.call (self, index - 1); }</span>","<span class=\"c\">// </span>","<span class=\"c\">//     /// right/bottom component </span>","<span class=\"c\">//     if (index &lt; self._states_array.length - 1)</span>","<span class=\"c\">//     { initState.call (self, index + 1); }</span>","<span class=\"c\">//      </span>","<span class=\"c\">//     callback = function () </span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       if (self._delegate &amp;&amp; self._delegate.animationDidEnd)</span>","<span class=\"c\">//       { self._delegate.animationDidEnd (self); }</span>","<span class=\"c\">//     }</span>","<span class=\"c\">// </span>","<span class=\"c\">//     if (!util.isNumber (__delta)) { __delta = 0; }</span>","<span class=\"c\">//     else { __delta = Math.abs (__delta); }</span>","<span class=\"c\">//     if (self._orientation === SlideController.HORIZONTAL)</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       duration = Math.floor (duration * (size[0] - __delta) / size [0]);</span>","<span class=\"c\">//       self.owner.animationDuration = duration;</span>","<span class=\"c\">//       self.owner.insideTranslate (-self._delta, 0, callback);</span>","<span class=\"c\">//     }</span>","<span class=\"c\">//     else</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       duration = Math.floor (duration * (size[1] - __delta) / size [1]);</span>","<span class=\"c\">//       self.owner.animationDuration = duration;</span>","<span class=\"c\">//       self.owner.insideTranslate (0, -self._delta, callback);</span>","<span class=\"c\">//     }</span>","<span class=\"c\">// </span>","<span class=\"c\">//     if (output &amp;&amp; self._output_action [output])</span>","<span class=\"c\">//     {</span>","<span class=\"c\">//       var clb = self._output_action [output];</span>","<span class=\"c\">//       if (clb instanceof Function)</span>","<span class=\"c\">//       {</span>","<span class=\"c\">//         clb.call (self.owner, event);</span>","<span class=\"c\">//       }</span>","<span class=\"c\">//       else if (util.isString (clb))</span>","<span class=\"c\">//       {</span>","<span class=\"c\">//         self.owner [self._output_action [output]] (event);</span>","<span class=\"c\">//       }</span>","<span class=\"c\">//     }</span>","<span class=\"c\">//   }</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>SlideController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>SlideController<span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"s\">'orientation'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter for page slide orientation. It can take the value</span>","<span class=\"c\">     * vs.fx.SlideController.HORIZONTAL or vs.fx.SlideController.VERTICAL.</span>","<span class=\"c\">     * By default the slider is horizontal.</span>","<span class=\"c\">     * @name vs.fx.SlideController#orientation </span>","<span class=\"c\">     * @type String</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> state<span class=\"k\">,</span> state_id<span class=\"k\">,</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> pos <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>v <span class=\"k\">!==</span> SlideController<span class=\"k\">.</span>HORIZONTAL <span class=\"k\">&amp;&amp;</span>","          v <span class=\"k\">!==</span> SlideController<span class=\"k\">.</span>VERTICAL<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">=</span> v<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @return {String}</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_orientation<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'animationDuration'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Set the animation/transition temporisation (in millisecond)</span>","<span class=\"c\">     * @name vs.fx.SlideController#animationDuration </span>","<span class=\"c\">     * @type {number}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> v <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">}</span><span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">=</span> v<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_1<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out_2<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>SlideController <span class=\"k\">=</span> SlideController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.NavigationController class implements a controller for navigating</span>","<span class=\"c\"> *  on hierarchical contents.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.Controller</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  The vs.fx.NavigationController class implements a controller for navigating</span>","<span class=\"c\"> *  on hierarchical contents.</span>","<span class=\"c\"> *  &lt;p/&gt;</span>","<span class=\"c\"> *  The controller shows a first view (the initialComponent) and allows to</span>","<span class=\"c\"> *  navigate from this first view to a second view and a third ... and back</span>","<span class=\"c\"> *  to the previous one til the first view.</span>","<span class=\"c\"> *  &lt;p/&gt;</span>","<span class=\"c\"> *  The next picture shows a example of hierarchical contents navigation.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre&gt;                 </span>","<span class=\"c\"> *                </span>","<span class=\"c\"> *   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;__&gt; &#226;&#142;&#162;      &#226;&#142;&#162;__&gt;&#226;&#142;&#159;      &#226;&#142;&#162; </span>","<span class=\"c\"> *   &#226;&#142;&#159;  (1) &#226;&#142;&#162;    &#226;&#142;&#162;  (2) &#226;&#142;&#162;   &#226;&#142;&#159;  (3) &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;&lt;__ &#226;&#142;&#162;      &#226;&#142;&#162;&lt;__&#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#163;______&#226;&#142;&#166;</span>","<span class=\"c\"> *        | |   </span>","<span class=\"c\"> *        | |    &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;   &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *        | &#226;&#142;&#163;__&gt;&#226;&#142;&#162;      &#226;&#142;&#162;--&gt;&#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        | |    &#226;&#142;&#162;  (4) &#226;&#142;&#162;   &#226;&#142;&#159;  (5) &#226;&#142;&#162; </span>","<span class=\"c\"> *        | |&lt;___&#226;&#142;&#162;      &#226;&#142;&#162;&lt;__&#226;&#142;&#159;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        |      &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#163;______</span>","<span class=\"c\"> *        |            |   </span>","<span class=\"c\"> *        |            |    &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *        |            &#226;&#142;&#163;__&gt;&#226;&#142;&#162;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        |            |    &#226;&#142;&#162;  (6) &#226;&#142;&#162;</span>","<span class=\"c\"> *        |            |&lt;___&#226;&#142;&#162;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        |                 &#226;&#142;&#163;______&#226;&#142;&#166;</span>","<span class=\"c\"> *        |   </span>","<span class=\"c\"> *        |    &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *        &#226;&#142;&#163;__&gt;&#226;&#142;&#162;      &#226;&#142;&#162;</span>","<span class=\"c\"> *        |    &#226;&#142;&#162;  (7) &#226;&#142;&#162;</span>","<span class=\"c\"> *        |&lt;___&#226;&#142;&#162;      &#226;&#142;&#162;</span>","<span class=\"c\"> *             &#226;&#142;&#163;______&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  (1, ... ,7) : component's views managed by the SliderLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;/pre&gt;</span>","<span class=\"c\"> *  The controller can manage a navigation bar during the user navigates.</span>","<span class=\"c\"> *  For instance it can hides or shows components (button, label, ...) and/or</span>","<span class=\"c\"> *  reconfigurate them. (for instance change the text value of a label.</span>","<span class=\"c\"> *  &lt;p/&gt;</span>","<span class=\"c\"> *  Example:</span>","<span class=\"c\"> *  &lt;pre class='code'&gt;</span>","<span class=\"c\"> *  this.controller = new vs.fx.NavigationController (this, this.navBar);</span>","<span class=\"c\"> *  this.controller.init ();</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  // 1.1 put the first view into the controller</span>","<span class=\"c\"> *  this.controller.push (this.firstView);</span>","<span class=\"c\"> *  // 1.2 configure the navigation bar for the first view (nothing)</span>","<span class=\"c\"> *  this.controller.configureNavigationBarState (this.firstView.id, []);</span>","<span class=\"c\"> *  // 1.3 finally configure the first view as the initial component</span>","<span class=\"c\"> *  this.controller.initialComponent = this.firstView.id;</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  var backId = this.navBar.backButton.id;</span>","<span class=\"c\"> *  var titleId = this.navBar.title.id;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  // 2.1 set the second view, with parameters</span>","<span class=\"c\"> *  var id = this.controller.push ('PanelOne', {position: [0, 44]});</span>","<span class=\"c\"> *  // 2.2 configure the navigation bar to show the back button, the title</span>","<span class=\"c\"> *  //  and set the text title</span>","<span class=\"c\"> *  this.controller.configureNavigationBarState</span>","<span class=\"c\"> *    (id, [{comp: backId}, </span>","<span class=\"c\"> *          {comp: titleId, properties: {text: 'Panel One'}}]);    </span>","<span class=\"c\"> *  // 2.3 configure the transition between the first and second view</span>","<span class=\"c\"> *  this.controller.configureTransition (this.firstView.id, id, 'goToOne');</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  // 3 set the third view</span>","<span class=\"c\"> *  id = this.controller.push ('PanelTwo', {position: [0, 44]});</span>","<span class=\"c\"> *  this.controller.configureNavigationBarState</span>","<span class=\"c\"> *    (id, [{comp: backId}, </span>","<span class=\"c\"> *          {comp: titleId, properties: {text: 'Panel Two'}}]);    </span>","<span class=\"c\"> *  this.controller.configureTransition (this.firstView.id, id, 'goToTwo');</span>","<span class=\"c\"> *  </span>","<span class=\"c\"> *  // 3 set the last view</span>","<span class=\"c\"> *  id = this.controller.push ('PanelThree', {position: [0, 44]});</span>","<span class=\"c\"> *  this.controller.configureNavigationBarState</span>","<span class=\"c\"> *    (id, [{comp: backId}, </span>","<span class=\"c\"> *          {comp: titleId, properties: {text: 'Panel Three'}}]);    </span>","<span class=\"c\"> *  this.controller.configureTransition (this.firstView.id, id, 'goToThree');</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  &lt;/pre&gt;</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> * @name vs.fx.NavigationController</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.NavigationController.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.ui.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> * @param {number} animationType Select the animation use during transition. </span>","<span class=\"c\"> *     [optional]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> NavigationController <span class=\"k\">(</span>owner<span class=\"k\">,</span> navBar<span class=\"k\">,</span> type<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> Controller<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> NavigationController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(!</span>arguments<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(</span>type <span class=\"k\">==</span> NavigationController<span class=\"k\">.</span>NO_ANIMATION <span class=\"k\">||</span>","      type <span class=\"k\">==</span> NavigationController<span class=\"k\">.</span>CARD_ANIMATION <span class=\"k\">||</span>","      type <span class=\"k\">==</span> NavigationController<span class=\"k\">.</span>SLIDE_ANIMATION<span class=\"k\">)</span>","  <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_type <span class=\"k\">=</span> type<span class=\"k\">;</span> <span class=\"k\">}</span>","  ","  <span class=\"k\">else</span>","  <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_type <span class=\"k\">=</span> NavigationController<span class=\"k\">.</span>DEFAULT_ANIMATION<span class=\"k\">;</span> <span class=\"k\">}</span>","     ","  <span class=\"k\">this</span><span class=\"k\">.</span>setNavigationBar <span class=\"k\">(</span>navBar<span class=\"k\">);</span>","  ","  <span class=\"k\">this</span><span class=\"k\">.</span>__nav_bar_states <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  There is no animation during transition between two views.</span>","<span class=\"c\"> *  &lt;br /&gt;</span>","<span class=\"c\"> *  If the platform you are targeting does not support animations or</span>","<span class=\"c\"> *  does not support accelerated animations, you should use this</span>","<span class=\"c\"> *  configuration.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.NavigationController.NO_ANIMATION</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>NO_ANIMATION <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * There is card animation during transition between two views.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.NavigationController.CARD_ANIMATION</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>CARD_ANIMATION <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * There is slide animation during transition between two views.</span>","<span class=\"c\"> *  &lt;br /&gt;</span>","<span class=\"c\"> *  This is the default configuration</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.NavigationController.SLIDE_ANIMATION</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>SLIDE_ANIMATION <span class=\"k\">=</span> <span class=\"s\">2</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Select the default animation configuration (Slide animations)</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @name vs.fx.NavigationController.DEFAULT_ANIMATION</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>DEFAULT_ANIMATION <span class=\"k\">=</span> ","  NavigationController<span class=\"k\">.</span>SLIDE_ANIMATION<span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * @private</span>","<span class=\"c\"> */</span>","NavigationController<span class=\"k\">.</span>BACK <span class=\"k\">=</span> <span class=\"s\">'back'</span><span class=\"k\">;</span>","","NavigationController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _nav_bar <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  __nav_bar_states <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _animation_type <span class=\"k\">:</span> NavigationController<span class=\"k\">.</span>DEFAULT_ANIMATION<span class=\"k\">,</span>",""," <span class=\"c\">/**********************************************************************</span>","","<span class=\"c\">  *********************************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  destructor<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>destructor<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  initComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>initComponent<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","   ","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>size<span class=\"k\">;</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_left <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(-</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_left <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Defines the Navigation Bar</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#setNavigationBar</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.NavigationBar} navBar the ab bar</span>","<span class=\"c\">   */</span>","  setNavigationBar <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>navBar<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>navBar <span class=\"k\">||</span> <span class=\"k\">!</span>navBar <span class=\"k\">instanceof</span> ui<span class=\"k\">.</span>NavigationBar<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_nav_bar <span class=\"k\">=</span> navBar<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  refresh<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>refresh<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _updateViewSize <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">,</span> i<span class=\"k\">,</span> state_id<span class=\"k\">,</span> state<span class=\"k\">,</span> transform<span class=\"k\">;</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_left<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">.</span>x <span class=\"k\">=</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add the a child component to the Navigation Controller</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myComp = new MyComp (conf);</span>","<span class=\"c\">   *  myComp.controller = new vs.fx.NavigationController (myComp);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  // push a component name (the component will be instanciated when needs)</span>","<span class=\"c\">   *  myComp.controller.push ('AComponent1', {id: 'comp1'});</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  // instanciate a component and push it </span>","<span class=\"c\">   *  var comp2 = myComp.createAndAddComponent ('AComponent1', {id: 'comp2'});</span>","<span class=\"c\">   *  myComp.controller.push (comp2);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   *  // create a button object and push it</span>","<span class=\"c\">   *  var comp3 = new vs.ui.Button ({id: 'comp3', text: 'hello'});</span>","<span class=\"c\">   *  myComp.controller.push (comp3);</span>","<span class=\"c\">   *  myComp.controller.initComponent = comp2.id;</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String | vs.ui.View} comp The GUI component name to instanciate or </span>","<span class=\"c\">   *    the instance of the component  </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the </span>","<span class=\"c\">   *     component [optional]</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> size<span class=\"k\">,</span> state_id <span class=\"k\">=</span>","      Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> bindings<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} state The state (component id)  </span>","<span class=\"c\">   * @param {Array} configurations configuration parameters </span>","<span class=\"c\">   *     Structure have to follow : [{comp: vs.core.Object|String, properties:{prop_name: value}}</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#configureNavigationBarState</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNavigationBarState <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> configurations<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">],</span> comp<span class=\"k\">,</span> i<span class=\"k\">,</span> l<span class=\"k\">,</span> conf<span class=\"k\">,</span>","      components <span class=\"k\">=</span> <span class=\"k\">[],</span> state_conf <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state <span class=\"k\">||</span> <span class=\"k\">!</span>configurations<span class=\"k\">)</span>","    <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> l <span class=\"k\">=</span> configurations<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> l<span class=\"k\">;</span> i<span class=\"k\">++)</span>","    <span class=\"k\">{</span>","      conf <span class=\"k\">=</span> configurations <span class=\"k\">[</span>i<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>conf<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      comp <span class=\"k\">=</span> conf<span class=\"k\">.</span>comp<span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"c\">// component is specified by an id</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","      <span class=\"k\">{</span> comp <span class=\"k\">=</span> core<span class=\"k\">.</span>Object<span class=\"k\">.</span>_obs <span class=\"k\">[</span>comp<span class=\"k\">];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>comp <span class=\"k\">instanceof</span> vs<span class=\"k\">.</span>ui<span class=\"k\">.</span>View<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">continue</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      components<span class=\"k\">.</span>push <span class=\"k\">(</span>comp<span class=\"k\">);</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>conf<span class=\"k\">.</span>properties<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state_conf <span class=\"k\">[</span>comp<span class=\"k\">.</span>id<span class=\"k\">]</span> <span class=\"k\">=</span> conf<span class=\"k\">.</span>properties<span class=\"k\">;</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>__nav_bar_states <span class=\"k\">[</span>state_id<span class=\"k\">]</span> <span class=\"k\">=</span> state_conf<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_nav_bar<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_nav_bar<span class=\"k\">.</span>setStateItems <span class=\"k\">(</span>state_id<span class=\"k\">,</span> components<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *   Add a new transition from the state \"from\" to the state \"to\".</span>","<span class=\"c\">   *   The states have to be already specified.</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#configureTransition</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {string} from State from</span>","<span class=\"c\">   * @param {string} to State to</span>","<span class=\"c\">   * @param {string} on input lexem which cause the crossing of transition</span>","<span class=\"c\">   * @param {string} output optional ouput lexem that will be produce by the </span>","<span class=\"c\">   *                  transition</span>","<span class=\"c\">   * @param {string} anim optional animation name</span>","<span class=\"c\">   */</span>","  configureTransition <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>from <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>from<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>to <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>to<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>on<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existInput <span class=\"k\">(</span>on<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>addInput <span class=\"k\">(</span>on<span class=\"k\">);</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_animation_type <span class=\"k\">===</span> NavigationController<span class=\"k\">.</span>SLIDE_ANIMATION<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">,</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_left<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">);</span>","        ","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>to<span class=\"k\">,</span> from<span class=\"k\">,</span> NavigationController<span class=\"k\">.</span>BACK<span class=\"k\">,</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_left<span class=\"k\">);</span>","","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_left<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_left<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_animation_type <span class=\"k\">===</span> NavigationController<span class=\"k\">.</span>CARD_ANIMATION<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">,</span>","        <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">);</span>","                ","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>to<span class=\"k\">,</span> from<span class=\"k\">,</span> NavigationController<span class=\"k\">.</span>BACK<span class=\"k\">,</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">);</span>","","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"300ms\"</span> ","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"c\">// no animation</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>from<span class=\"k\">,</span> to<span class=\"k\">,</span> on<span class=\"k\">,</span>","        <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">);</span>","                ","      <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>to<span class=\"k\">,</span> from<span class=\"k\">,</span> NavigationController<span class=\"k\">.</span>BACK<span class=\"k\">,</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">);</span>","","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_in_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"0\"</span> ","      <span class=\"k\">this</span><span class=\"k\">.</span>__translate_out_right<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"s\">\"0\"</span> ","    <span class=\"k\">}</span>"," <span class=\"k\">}</span><span class=\"k\">,</span>","  ","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                 FSM management</span>","<span class=\"c\"> *********************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNewComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">;</span>","    ","    comp<span class=\"k\">.</span>translation <span class=\"k\">=</span> <span class=\"k\">[</span>size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> <span class=\"s\">0</span><span class=\"k\">];</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">   *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">   *  crossing a transition</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.NavigationController#goTo</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} id_sate the id of target state.</span>","<span class=\"c\">   * @param {String} output</span>","<span class=\"c\">   * @param {Object} event the event</span>","<span class=\"c\">   */</span>","  goTo <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">,</span> instant<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> ok <span class=\"k\">=</span> ","      Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>goTo<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">,</span> instant<span class=\"k\">);</span>"," ","    <span class=\"k\">if</span> <span class=\"k\">(</span>ok <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_nav_bar<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>_nav_bar<span class=\"k\">.</span>changeState","        <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>__nav_bar_states <span class=\"k\">[</span>state_id<span class=\"k\">]);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>NavigationController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>NavigationController<span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"s\">'viewSize'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","   <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter for view size.</span>","<span class=\"c\">     * @name vs.fx.NavigationController#viewSize </span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @type {Array.&lt;number&gt;}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span> ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isArray <span class=\"k\">(</span>v<span class=\"k\">)</span> <span class=\"k\">||</span> v<span class=\"k\">.</span>length <span class=\"k\">!==</span> <span class=\"s\">2</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">||</span> <span class=\"k\">!</span>util<span class=\"k\">.</span>isNumber<span class=\"k\">(</span>v<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">)</span>","      <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">=</span> <span class=\"k\">[];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">=</span> v <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_view_size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">=</span> v <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/**</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @type {Array.&lt;number&gt;}</span>","<span class=\"c\">     */</span>","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>size<span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_view_size<span class=\"k\">.</span>slice <span class=\"k\">();</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'initialComponent'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     *  Define the initiale component</span>","<span class=\"c\">     *  Generate a exception if the component was not already registered</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @name vs.fx.NavigationController#initialComponent </span>","<span class=\"c\">     * @param {string} state_id the state</span>","<span class=\"c\">     */</span>","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp_id<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>comp_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> undefined<span class=\"k\">;</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>existState <span class=\"k\">(</span>comp_id<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","  ","      <span class=\"c\">// set initial state and go to it   </span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component <span class=\"k\">=</span> comp_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>initialState <span class=\"k\">=</span> comp_id<span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>goTo <span class=\"k\">(</span>comp_id<span class=\"k\">);</span>","      <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>comp_id<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>translation <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    ","    <span class=\"c\">/**</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     */</span>","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>NavigationController <span class=\"k\">=</span> NavigationController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.CardController class &lt;br /&gt;</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  This layer manage a list of children using a card style animation.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  Children can be slided horizontally (right &lt;-&gt; left) or vertically </span>","<span class=\"c\"> *  (top &lt;-&gt; bottom) using a pointing device (mouse, touch screen, ...),</span>","<span class=\"c\"> *  or using methods goToNextView and goToPreviousView.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  By default the card slide to left out. You can change it using the </span>","<span class=\"c\"> *  property \"direction\". You can configure it with four directions:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li&gt;vs.fx.CardController.LEFT_OUT</span>","<span class=\"c\"> *    &lt;li&gt;vs.fx.CardController.RIGHT_OUT</span>","<span class=\"c\"> *    &lt;li&gt;vs.fx.CardController.TOP_OUT</span>","<span class=\"c\"> *    &lt;li&gt;vs.fx.CardController.BOTTOM_OUT</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  The following example shows a typical example with panels</span>","<span class=\"c\"> *  (components 1 to 3).</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre style=\"font-family:courier\"&gt;</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(1)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#161;(3)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#162;   &#226;&#142;&#163;_______&#226;&#142;&#166;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(3)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#161;(1)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#162;</span>","<span class=\"c\"> *     &#226;&#142;&#163;______&#226;&#142;&#166;  &#226;&#142;&#162;             &#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  (*) : device screen</span>","<span class=\"c\"> *  (1, ...,3) : components managed by the CardLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *   &lt;/pre&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller),</span>","<span class=\"c\"> *         Called when the view changed</span>","<span class=\"c\"> *    &lt;li/&gt;controllerAnimationDidEnd : function (from vs.ui.View, to vs.ui.View, controller), Called just after </span>","<span class=\"c\"> *         the animation ended</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  var myController = new vs.fx.CardController (myComp);</span>","<span class=\"c\"> *  myLayer.init ();</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  myController.push ('APanel', {id: '1', data: {...}});</span>","<span class=\"c\"> *  myController.push ('APanel', {id: '2', data: {...}});</span>","<span class=\"c\"> *  myController.push ('APanel', {id: '3', data: {...}});</span>","<span class=\"c\"> *  myController.push ('APanel', {id: '4', data: {...}});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.StackController</span>","<span class=\"c\"> * @name vs.fx.CardController</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.fx.CardController.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.ui.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> CardController <span class=\"k\">(</span>owner<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> CardController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(</span>owner<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear <span class=\"k\">=</span> <span class=\"k\">new</span> TranslateAnimation <span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","  ","    <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> CardController<span class=\"k\">.</span>ANIMATION_DURATION<span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The duration of the animation between two views</span>","<span class=\"c\"> * @name vs.fx.CardController.ANIMATION_DURATION</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">500</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Left out card slide (defaut)</span>","<span class=\"c\"> * @name vs.fx.CardController.LEFT_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Right out card slide</span>","<span class=\"c\"> * @name vs.fx.CardController.RIGHT_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>RIGHT_OUT <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Top out card slide</span>","<span class=\"c\"> * @name vs.fx.CardController.TOP_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>TOP_OUT <span class=\"k\">=</span> <span class=\"s\">2</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Bottom out card slide</span>","<span class=\"c\"> * @name vs.fx.CardController.BOTTOM_OUT</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CardController<span class=\"k\">.</span>BOTTOM_OUT <span class=\"k\">=</span> <span class=\"s\">3</span><span class=\"k\">;</span>","","CardController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  _direction <span class=\"k\">:</span> CardController<span class=\"k\">.</span>LEFT_OUT<span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_out <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {vs.fx.TranslateAnimation}</span>","<span class=\"c\">   */</span>","  _transition_clear <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>  ","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                behavior update</span>","<span class=\"c\"> *********************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  _updateViewSize <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>x <span class=\"k\">=</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>BOTTOM_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>y <span class=\"k\">=</span>  size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"k\">-</span>size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myController = new vs.fx.CardController (this | myView);</span>","<span class=\"c\">   *  myController.init ();</span>","<span class=\"c\">   *  myController.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myController.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myController.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.CardController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>data<span class=\"k\">)</span> <span class=\"k\">{</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> state_id <span class=\"k\">=</span> Controller<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call","      <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> extension<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>push <span class=\"k\">(</span>state_id<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">++;</span> ","","    <span class=\"c\">// first item</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels <span class=\"k\">===</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>initialComponent <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","","      <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> state_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>NEXT<span class=\"k\">,</span>","      <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addTransition <span class=\"k\">(</span>state_id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id<span class=\"k\">,</span> StackController<span class=\"k\">.</span>PRED<span class=\"k\">,</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">);</span>","<span class=\"c\">//    this.addTransition </span>","<span class=\"c\">//      (state_id, this._initial_component, StackController.FIRST);</span>","    ","    <span class=\"c\">// create the second view </span>","    state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      console<span class=\"k\">.</span>error <span class=\"k\">(</span><span class=\"s\">\"Unknown error in vs.fx.StackController.push\"</span><span class=\"k\">);</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>_initial_component<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      ","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels<span class=\"k\">);</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>__nb_panels<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>configureNewComponent <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_last_comp_id <span class=\"k\">=</span> state_id<span class=\"k\">;</span>","    <span class=\"k\">return</span> state_id<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  configureNewComponent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> transform<span class=\"k\">,</span> size<span class=\"k\">;</span>","    size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>viewSize<span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d\"</span><span class=\"k\">;</span>","    <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate\"</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">+=</span> <span class=\"s\">\"(-\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">+=</span> <span class=\"s\">\"(\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>BOTTOM_OUT<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">+=</span> <span class=\"s\">\"(0,\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","    <span class=\"k\">{</span>","      transform <span class=\"k\">+=</span> <span class=\"s\">\"(0,-\"</span> <span class=\"k\">+</span> size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span> transform <span class=\"k\">+=</span> <span class=\"s\">\",0)\"</span><span class=\"k\">;</span>","    <span class=\"k\">else</span> transform <span class=\"k\">+=</span> <span class=\"s\">\")\"</span><span class=\"k\">;</span>","","    comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","    setElementTransform <span class=\"k\">(</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  handleEvent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> t_ok <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">,</span> state<span class=\"k\">,</span> state_before_id<span class=\"k\">,</span> state_before<span class=\"k\">,</span> transform<span class=\"k\">,</span> index<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_START<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      event<span class=\"k\">.</span>preventDefault <span class=\"k\">();</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state ","        <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf ","        <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","      <span class=\"k\">{</span> state_before_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      ","        <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","        <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span> <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      ","        <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","        <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>TOP_OUT<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state_before <span class=\"k\">=</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>  ","            state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state_before <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">)+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">)+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">)+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">)+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>  ","            state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_END<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state   ","        <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>TOP_OUT<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">50</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToPreviousView <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"k\">-</span><span class=\"s\">50</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToNextView <span class=\"k\">();</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">50</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToNextView <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"k\">-</span><span class=\"s\">50</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>goToPreviousView <span class=\"k\">();</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>t_ok<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span> state_before_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">];</span> <span class=\"k\">}</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">((</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">||</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>TOP_OUT<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0,0,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0,0)\"</span><span class=\"k\">;</span>","","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">((</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT <span class=\"k\">||</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>BOTTOM_OUT<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0,0,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0,0)\"</span><span class=\"k\">;</span>","","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state_before <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_fsm<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d\"</span><span class=\"k\">;</span>","            <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate\"</span><span class=\"k\">;</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>LEFT_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> <span class=\"s\">\"(-\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0px\"</span><span class=\"k\">;</span> ","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>RIGHT_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> <span class=\"s\">\"(\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_size <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px,0px\"</span><span class=\"k\">;</span> ","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_direction <span class=\"k\">===</span> CardController<span class=\"k\">.</span>BOTTOM_OUT<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> <span class=\"s\">\"(0px,\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span> ","            <span class=\"k\">}</span>","            <span class=\"k\">else</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> <span class=\"s\">\"(0px,-\"</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>_size <span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span> ","            <span class=\"k\">}</span>    ","            <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span> transform <span class=\"k\">+=</span> <span class=\"s\">\",0)\"</span><span class=\"k\">;</span>","            <span class=\"k\">else</span> transform <span class=\"k\">+=</span> <span class=\"s\">\")\"</span><span class=\"k\">;</span>","","            state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","              <span class=\"k\">this</span><span class=\"k\">.</span>__controller__<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","            setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>CardController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperties <span class=\"k\">(</span>CardController<span class=\"k\">,</span> <span class=\"k\">{</span>","","  <span class=\"s\">'direction'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Getter|Setter Card slide direction </span>","<span class=\"c\">     * @name vs.fx.CardController#direction </span>","<span class=\"c\">     * @type String</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> state<span class=\"k\">,</span> state_id<span class=\"k\">,</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> pos <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> index<span class=\"k\">,</span> transform <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">,</span>","        size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_owner<span class=\"k\">.</span>size<span class=\"k\">;</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>v <span class=\"k\">!==</span> CardController<span class=\"k\">.</span>LEFT_OUT <span class=\"k\">&amp;&amp;</span>","          v <span class=\"k\">!==</span> CardController<span class=\"k\">.</span>RIGHT_OUT <span class=\"k\">&amp;&amp;</span>","          v <span class=\"k\">!==</span> CardController<span class=\"k\">.</span>BOTTOM_OUT <span class=\"k\">&amp;&amp;</span>","          v <span class=\"k\">!==</span> CardController<span class=\"k\">.</span>TOP_OUT<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_direction <span class=\"k\">=</span> v<span class=\"k\">;</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>_updateViewSize <span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","  ","    <span class=\"c\">/** </span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @return {String}</span>","<span class=\"c\">     */</span> ","    get <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span>","    <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_direction<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  <span class=\"s\">'animationDuration'</span><span class=\"k\">:</span> <span class=\"k\">{</span>","    <span class=\"c\">/** </span>","<span class=\"c\">     * Set the animation/transition temporisation (in millisecond)</span>","<span class=\"c\">     * @name vs.fx.CardController#animationDuration </span>","<span class=\"c\">     * @type {number}</span>","<span class=\"c\">     */</span> ","    set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>v<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>v<span class=\"k\">)</span> <span class=\"k\">{</span> v <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>v<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">}</span><span class=\"k\">;</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">=</span> v<span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">)</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_transition_out<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">)</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>_transition_clear<span class=\"k\">.</span>duration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>CardController <span class=\"k\">=</span> CardController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.CubicController class &lt;br /&gt;</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  This layer manage a list of children using a card layout.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  Children can be slided horizontally (right &lt;-&gt; left) or vertically </span>","<span class=\"c\"> *  (top &lt;-&gt; bottom) using a pointing device (mouse, touch screen, ...),</span>","<span class=\"c\"> *  or using methods goToNextView and goToPreviousView.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  By default the slider is horizontal, but you can change it using the </span>","<span class=\"c\"> *  property \"orientation\".</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  The following example shows a typical example with panels</span>","<span class=\"c\"> *  (components 1 to 3).</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre style=\"font-family:courier\"&gt;</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(1)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#161;(3)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#162;   &#226;&#142;&#163;_______&#226;&#142;&#166;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(3)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#161;(1)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#162;</span>","<span class=\"c\"> *     &#226;&#142;&#163;______&#226;&#142;&#166;  &#226;&#142;&#162;             &#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  (*) : device screen</span>","<span class=\"c\"> *  (1, ...,3) : components managed by the CardLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *   &lt;/pre&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller), Called when the view</span>","<span class=\"c\"> *        changed</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  theApplicatioin.layer = new vs.fx.CubicController (myComp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '1', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '2', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '3', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '4', data: {...}});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.StackController</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.ui.View.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.ui.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> CubicController <span class=\"k\">(</span>owner<span class=\"k\">,</span> extension<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">,</span> extension<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> CubicController<span class=\"k\">;</span>","  ","  <span class=\"k\">if</span> <span class=\"k\">(</span>owner<span class=\"k\">)</span> owner<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'-webkit-transform-style'</span><span class=\"k\">,</span> <span class=\"s\">'preserve-3d'</span><span class=\"k\">);</span>","  ","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  setter and getter declarations</span>","<span class=\"c\">********************************************************************/</span>","<span class=\"k\">}</span>","","CubicController<span class=\"k\">.</span>_translate_animation <span class=\"k\">=</span> <span class=\"k\">new</span> RotateXYZAnimation <span class=\"k\">(-</span><span class=\"s\">90</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>init <span class=\"k\">();</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">'from'</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">50</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:-</span><span class=\"s\">92</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">70</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:-</span><span class=\"s\">84</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">80</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:-</span><span class=\"s\">90</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>addKeyFrame <span class=\"k\">(</span><span class=\"s\">95</span><span class=\"k\">,</span> <span class=\"k\">{</span>degX<span class=\"k\">:-</span><span class=\"s\">88</span><span class=\"k\">}</span><span class=\"k\">);</span>","CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"s\">\"2s\"</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Horizontal slide (defaut)</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CubicController<span class=\"k\">.</span>HORIZONTAL <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Vertical slide</span>","<span class=\"c\"> * @const</span>","<span class=\"c\"> */</span>","CubicController<span class=\"k\">.</span>VERTICAL <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","","CubicController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span>","  _orientation <span class=\"k\">:</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">,</span>","","<span class=\"c\">/********************************************************************</span>","","<span class=\"c\">********************************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myComp = new MyComp (conf);</span>","<span class=\"c\">   *  myComp.layer = new vs.fx.StackController (myComp, 'children');</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.CubicController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">;</span>","      comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call","      <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   * @protected</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   */</span>","  handleEvent <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> t_ok <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">,</span> state<span class=\"k\">,</span> state_before_id<span class=\"k\">,</span> state_before<span class=\"k\">,</span> transform<span class=\"k\">,</span> index<span class=\"k\">;</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_START<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__pos <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY<span class=\"k\">;</span> <span class=\"k\">}</span>","      <span class=\"k\">}</span>","","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>addEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      ","      <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      event<span class=\"k\">.</span>preventDefault <span class=\"k\">();</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span> state_before_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">];</span> <span class=\"k\">}</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientX <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      ","        <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","        <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>changedTouches<span class=\"k\">)</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span>  event<span class=\"k\">.</span>changedTouches<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span>","        <span class=\"k\">{</span>  <span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">=</span> event<span class=\"k\">.</span>clientY <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>__pos<span class=\"k\">;</span> <span class=\"k\">}</span>","      ","        <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","        <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","        <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>  ","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state_before <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","              <span class=\"s\">\"translate(\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","          <span class=\"k\">}</span>","          <span class=\"k\">else</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate3d(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","              <span class=\"s\">\"translate(0px,\"</span><span class=\"k\">+(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta<span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","          <span class=\"k\">}</span>  ","          state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event<span class=\"k\">.</span>type <span class=\"k\">===</span> core<span class=\"k\">.</span>POINTER_END<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&gt;</span> <span class=\"s\">50</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>goToPreviousView <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"k\">-</span><span class=\"s\">50</span><span class=\"k\">)</span>","      <span class=\"k\">{</span>","        t_ok <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>goToNextView <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(!</span>t_ok<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_current_state<span class=\"k\">)</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span> state_before_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">];</span> <span class=\"k\">}</span>","        ","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__delta <span class=\"k\">&lt;</span> <span class=\"s\">0</span><span class=\"k\">)</span>","        <span class=\"k\">{</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","          <span class=\"k\">{</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate3d(0,0,0)\"</span><span class=\"k\">;</span> <span class=\"k\">}</span>","          <span class=\"k\">else</span> transform <span class=\"k\">=</span> <span class=\"s\">\"translate(0,0)\"</span><span class=\"k\">;</span>","","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","          setElementTransform <span class=\"k\">(</span>state<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>state_before_id<span class=\"k\">)</span>","        <span class=\"k\">{</span>","          state_before <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_before_id<span class=\"k\">];</span>","          <span class=\"k\">if</span> <span class=\"k\">(</span>state_before <span class=\"k\">&amp;&amp;</span> state_before<span class=\"k\">.</span>comp<span class=\"k\">)</span>","          <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]+</span><span class=\"s\">\"px,0px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]+</span><span class=\"s\">\"px,0px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span>","            <span class=\"k\">{</span>","              <span class=\"k\">if</span> <span class=\"k\">(</span>SUPPORT_3D_TRANSFORM<span class=\"k\">)</span>","              <span class=\"k\">{</span>","                transform <span class=\"k\">=</span> ","                  <span class=\"s\">\"translate3d(0px,-\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]+</span><span class=\"s\">\"px,0)\"</span><span class=\"k\">;</span>","              <span class=\"k\">}</span>","              <span class=\"k\">else</span> transform <span class=\"k\">=</span> ","                <span class=\"s\">\"translate(0px,-\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>_size<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]+</span><span class=\"s\">\"px)\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>  ","            state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitTransitionDuration <span class=\"k\">=</span>","              <span class=\"k\">this</span><span class=\"k\">.</span>__layer<span class=\"k\">.</span>_animation_duration <span class=\"k\">+</span> <span class=\"s\">'ms'</span><span class=\"k\">;</span>","            setElementTransform <span class=\"k\">(</span>state_before<span class=\"k\">.</span>comp<span class=\"k\">.</span>view<span class=\"k\">,</span> transform<span class=\"k\">);</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_END<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>removeEventListener <span class=\"k\">(</span>core<span class=\"k\">.</span>POINTER_MOVE<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">   *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">   *  crossing a transition</span>","<span class=\"c\">   *  @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.CubicController#goTo</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} id_sate the id of target state.</span>","<span class=\"c\">   * @param {String} output</span>","<span class=\"c\">   * @param {Object} event the event</span>","<span class=\"c\">   */</span>","  goTo <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> state_to<span class=\"k\">,</span> index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span>state_id<span class=\"k\">),</span> ","      state_from <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    <span class=\"c\">// manage output</span>","    <span class=\"c\">// TODO WARNING</span>","        ","    StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>goTo<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration<span class=\"k\">;</span>","","    state_to <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span>state_from <span class=\"k\">&amp;&amp;</span> state_to<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      state_from<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'-webkit-transform'</span><span class=\"k\">,</span> <span class=\"s\">'scale3d(.835,.835,.835) translateZ(200px)'</span><span class=\"k\">);</span>","      ","      state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'-webkit-transform'</span><span class=\"k\">,</span> <span class=\"s\">'scale3d(.835,.835,.835) rotateX(90deg) translateZ(200px)'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> initState <span class=\"k\">(</span>index<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">],</span>","          state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> state<span class=\"k\">.</span>extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>style <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>view<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        __setPos <span class=\"k\">(</span>state<span class=\"k\">.</span>view<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">}</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>style <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">/// left/top component </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span> initState<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> index <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">);</span> <span class=\"k\">}</span>","","    <span class=\"c\">/// right/bottom component </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span> initState<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> index <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">);</span> <span class=\"k\">}</span>","     ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event <span class=\"k\">&amp;&amp;</span> event<span class=\"k\">.</span>on <span class=\"k\">===</span> StackController<span class=\"k\">.</span>NEXT <span class=\"k\">&amp;&amp;</span> state_from<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_orientation <span class=\"k\">===</span> CubicController<span class=\"k\">.</span>HORIZONTAL<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>process <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>process <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event <span class=\"k\">&amp;&amp;</span> event<span class=\"k\">.</span>on <span class=\"k\">===</span> StackController<span class=\"k\">.</span>PRED <span class=\"k\">&amp;&amp;</span> state_to<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      CubicController<span class=\"k\">.</span>_translate_animation<span class=\"k\">.</span>process <span class=\"k\">(</span>state_to<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>output <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">])</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> clb <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb <span class=\"k\">instanceof</span> Function<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        clb<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">,</span> event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>clb<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>owner <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">]]</span> <span class=\"k\">(</span>event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>CubicController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>CubicController <span class=\"k\">=</span> CubicController<span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\">  Copyright (C) 2009-2012. David Thevenin, ViniSketch SARL (c), and </span>","<span class=\"c\">  contributors. All rights reserved</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is free software: you can redistribute it and/or modify</span>","<span class=\"c\">  it under the terms of the GNU Lesser General Public License as published</span>","<span class=\"c\">  by the Free Software Foundation, either version 3 of the License, or</span>","<span class=\"c\">  (at your option) any later version.</span>","<span class=\"c\">  </span>","<span class=\"c\">  This program is distributed in the hope that it will be useful,</span>","<span class=\"c\">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>","<span class=\"c\">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>","<span class=\"c\">  GNU Lesser General Public License for more details.</span>","<span class=\"c\">  </span>","<span class=\"c\">  You should have received a copy of the GNU Lesser General Public License</span>","<span class=\"c\">  along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>","<span class=\"c\">*/</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> *  The vs.fx.OpacityController class &lt;br /&gt;</span>","<span class=\"c\"> *  @class</span>","<span class=\"c\"> *  This layer manage a list of children using a card layout.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  Children can be slided horizontally (right &lt;-&gt; left) or vertically </span>","<span class=\"c\"> *  (top &lt;-&gt; bottom) using a pointing device (mouse, touch screen, ...),</span>","<span class=\"c\"> *  or using methods goToNextView and goToPreviousView.</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  By default the slider is horizontal, but you can change it using the </span>","<span class=\"c\"> *  property \"orientation\".</span>","<span class=\"c\"> *  &lt;p /&gt;</span>","<span class=\"c\"> *  The following example shows a typical example with panels</span>","<span class=\"c\"> *  (components 1 to 3).</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;pre style=\"font-family:courier\"&gt;</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(1)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#161;(3)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#159;      &#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166;    &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#162;   &#226;&#142;&#163;_______&#226;&#142;&#166;&#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *                   (*)</span>","<span class=\"c\"> *                &#226;&#142;&#161;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;</span>","<span class=\"c\"> *   &#226;&#142;&#161;(2)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;    &#226;&#142;&#162; &#226;&#142;&#161;(3)&#203;&#137;&#203;&#137;&#203;&#137;&#226;&#142;&#164;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#161;(1)&#203;&#137;&#226;&#142;&#162;&#203;&#137;&#226;&#142;&#164; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#162;&#226;&#142;&#162;    &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#162;       &#226;&#142;&#162;  &#226;&#142;&#162;</span>","<span class=\"c\"> *   &#226;&#142;&#163;______&#226;&#142;&#166; &#226;&#142;&#162; &#226;&#142;&#162; &#226;&#142;&#163;______&#226;&#142;&#166;   &#226;&#142;&#162;</span>","<span class=\"c\"> *     &#226;&#142;&#163;______&#226;&#142;&#166;  &#226;&#142;&#162;             &#226;&#142;&#162;</span>","<span class=\"c\"> *                &#226;&#142;&#163;_____________&#226;&#142;&#166;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  (*) : device screen</span>","<span class=\"c\"> *  (1, ...,3) : components managed by the CardLayer</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *   &lt;/pre&gt;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  Delegate:</span>","<span class=\"c\"> *  &lt;ul&gt;</span>","<span class=\"c\"> *    &lt;li/&gt;controllerViewWillChange : function (from vs.ui.View, to vs.ui.View, controller), Called when the view</span>","<span class=\"c\"> *        changed</span>","<span class=\"c\"> *  &lt;/ul&gt;</span>","<span class=\"c\"> *  &lt;p&gt;</span>","<span class=\"c\"> *  @example</span>","<span class=\"c\"> *  theApplicatioin.layer = new vs.fx.OpacityController (myComp);</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '1', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '2', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '3', data: {...}});</span>","<span class=\"c\"> *  myComp.layer.push ('APanel', {id: '4', data: {...}});</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @extends vs.fx.StackController</span>","<span class=\"c\"> * @name vs.fx.OpacityController</span>","<span class=\"c\"> * </span>","<span class=\"c\"> *  @author David Thevenin</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  @constructor</span>","<span class=\"c\"> *   Creates a new vs.ui.View.</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {vs.ui.View} owner the View using this Layer [mandatory]</span>","<span class=\"c\"> * @param {String} extension The hole into the vs.ui.View will be inserted. </span>","<span class=\"c\"> *     ['children' by default]</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> OpacityController <span class=\"k\">(</span>owner<span class=\"k\">,</span> extension<span class=\"k\">)</span>","<span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">=</span> StackController<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>parent <span class=\"k\">(</span>owner<span class=\"k\">,</span> extension<span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>constructor <span class=\"k\">=</span> OpacityController<span class=\"k\">;</span>","","  <span class=\"k\">this</span><span class=\"k\">.</span>animationDuration <span class=\"k\">=</span> OpacityController<span class=\"k\">.</span>ANIMATION_DURATION<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/** @private */</span>","OpacityController<span class=\"k\">.</span>_opacity_animation <span class=\"k\">=</span> <span class=\"k\">new</span> OpacityAnimation <span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span>","OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>init <span class=\"k\">();</span>","OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>durations <span class=\"k\">=</span> <span class=\"s\">\"0.2s\"</span><span class=\"k\">;</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * The duration of the animation between two views</span>","<span class=\"c\"> * @name vs.fx.OpacityController.ANIMATION_DURATION</span>","<span class=\"c\"> */</span>","OpacityController<span class=\"k\">.</span>ANIMATION_DURATION <span class=\"k\">=</span> <span class=\"s\">500</span><span class=\"k\">;</span>","","OpacityController<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  protected members declarations</span>","<span class=\"c\">********************************************************************/</span>","","<span class=\"c\">/********************************************************************</span>","","<span class=\"c\">********************************************************************/</span>","  ","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Add a child component to the Slider Manager</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component must be a graphic component (vs.ui.View).</span>","<span class=\"c\">   *  It will be instantiated, init and added automaticaly</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  The component instantiation is a lazy algorithm. The component will</span>","<span class=\"c\">   *  be instantiated and add into the DOM tree only when it has to be show</span>","<span class=\"c\">   *  to the user.</span>","<span class=\"c\">   *  &lt;p&gt;</span>","<span class=\"c\">   *  @example</span>","<span class=\"c\">   *  var myComp = new MyComp (conf);</span>","<span class=\"c\">   *  myComp.layer = new vs.fx.StackController (myComp, 'children');</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data1);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent1', data2);</span>","<span class=\"c\">   *  myComp.layer.push ('AComponent2', data3);</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.OpacityController#push</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {vs.ui.View | String} comp The GUI component or the component</span>","<span class=\"c\">   *     name to instanciate   </span>","<span class=\"c\">   * @param {Object} config Configuration structure need to build the component.</span>","<span class=\"c\">   * @param {Array} bindings Bindings configuration [[spec, observer, method], ...]</span>","<span class=\"c\">   */</span>","  push <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>comp<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>comp<span class=\"k\">))</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length<span class=\"k\">;</span>","      comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>push<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> comp<span class=\"k\">,</span> data<span class=\"k\">,</span> bindings<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","<span class=\"c\">/*********************************************************</span>","<span class=\"c\"> *                  Event management</span>","<span class=\"c\"> *********************************************************/</span>","  <span class=\"c\">/**</span>","<span class=\"c\">   *  Private method use by the fsm to cross a transition.</span>","<span class=\"c\">   *  @note for the moment only one ouput lexem can be generation when</span>","<span class=\"c\">   *  crossing a transition</span>","<span class=\"c\">   * @private</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @name vs.fx.OpacityController#goTo</span>","<span class=\"c\">   * @function</span>","<span class=\"c\">   *</span>","<span class=\"c\">   * @param {String} id_sate the id of target state.</span>","<span class=\"c\">   * @param {String} output</span>","<span class=\"c\">   * @param {Object} event the event</span>","<span class=\"c\">   */</span>","  goTo <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">var</span> state_to<span class=\"k\">,</span> index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>indexOf <span class=\"k\">(</span>state_id<span class=\"k\">),</span> ","      state_from <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    <span class=\"c\">// manage output</span>","    <span class=\"c\">// TODO WARNING</span>","    StackController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>goTo<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> state_id<span class=\"k\">,</span> output<span class=\"k\">,</span> event<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>state_id<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","<span class=\"c\">//    this.owner.animationDuration = this._animation_duration;</span>","","    state_to <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_current_state<span class=\"k\">];</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","    state_to<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","        ","    <span class=\"k\">function</span> initState <span class=\"k\">(</span>index<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> state_id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array <span class=\"k\">[</span>index<span class=\"k\">],</span>","          state <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_list_of_state <span class=\"k\">[</span>state_id<span class=\"k\">];</span>","      ","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"k\">return</span><span class=\"k\">;</span> <span class=\"k\">}</span>","","      <span class=\"k\">if</span> <span class=\"k\">(!</span>state<span class=\"k\">.</span>comp<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">.</span>createAndAddComponent","          <span class=\"k\">(</span>state<span class=\"k\">.</span>comp_name<span class=\"k\">,</span> state<span class=\"k\">.</span>init_data<span class=\"k\">,</span> state<span class=\"k\">.</span>extension<span class=\"k\">);</span>","          ","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>configure <span class=\"k\">(</span>state<span class=\"k\">.</span>init_data<span class=\"k\">);</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'position'</span><span class=\"k\">,</span> <span class=\"s\">'absolute'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>comp <span class=\"k\">&amp;&amp;</span> state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange<span class=\"k\">)</span> ","        <span class=\"k\">{</span> ","          state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertiesDidChange <span class=\"k\">();</span>","        <span class=\"k\">}</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>propertyChange <span class=\"k\">();</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>state<span class=\"k\">.</span>view<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        __setPos <span class=\"k\">(</span>state<span class=\"k\">.</span>view<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span>","      <span class=\"k\">{</span>","        state<span class=\"k\">.</span>comp<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">];</span>","      <span class=\"k\">}</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>show <span class=\"k\">();</span>","      state<span class=\"k\">.</span>comp<span class=\"k\">.</span>setStyle <span class=\"k\">(</span><span class=\"s\">'z-index'</span><span class=\"k\">,</span> <span class=\"s\">1000</span> <span class=\"k\">-</span> index<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">/// left/top component </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span> initState<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> index <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">);</span> <span class=\"k\">}</span>","","    <span class=\"c\">/// right/bottom component </span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_states_array<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">{</span> initState<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> index <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">);</span> <span class=\"k\">}</span>","     ","    <span class=\"k\">if</span> <span class=\"k\">(</span>event <span class=\"k\">&amp;&amp;</span> event<span class=\"k\">.</span>on <span class=\"k\">===</span> StackController<span class=\"k\">.</span>NEXT <span class=\"k\">&amp;&amp;</span> state_from<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>value <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","      OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>process <span class=\"k\">(</span>state_from<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>event <span class=\"k\">&amp;&amp;</span> event<span class=\"k\">.</span>on <span class=\"k\">===</span> StackController<span class=\"k\">.</span>PRED <span class=\"k\">&amp;&amp;</span> state_to<span class=\"k\">)</span>","    <span class=\"k\">{</span>","      OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>value <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","      OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>process <span class=\"k\">(</span>state_to<span class=\"k\">.</span>comp<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>output <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">])</span>","    <span class=\"k\">{</span>","      <span class=\"k\">var</span> clb <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">];</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>clb <span class=\"k\">instanceof</span> Function<span class=\"k\">)</span>","      <span class=\"k\">{</span>","        clb<span class=\"k\">.</span>call <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>owner<span class=\"k\">,</span> event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>util<span class=\"k\">.</span>isString <span class=\"k\">(</span>clb<span class=\"k\">))</span>","      <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>owner <span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>_output_action <span class=\"k\">[</span>output<span class=\"k\">]]</span> <span class=\"k\">(</span>event<span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","util<span class=\"k\">.</span>extendClass <span class=\"k\">(</span>OpacityController<span class=\"k\">,</span> StackController<span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                  Define class properties</span>","<span class=\"c\">********************************************************************/</span>","","util<span class=\"k\">.</span>defineClassProperty <span class=\"k\">(</span>OpacityController<span class=\"k\">,</span> <span class=\"s\">\"animationDuration\"</span><span class=\"k\">,</span> <span class=\"k\">{</span>","  <span class=\"c\">/** </span>","<span class=\"c\">   * Set the animation/transition temporisation (in millisecond)</span>","<span class=\"c\">   * @name vs.fx.OpacityController#animationDuration </span>","<span class=\"c\">   * @type {number}</span>","<span class=\"c\">   */</span> ","  set <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>time<span class=\"k\">)</span>","  <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>time<span class=\"k\">)</span> <span class=\"k\">{</span> time <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>util<span class=\"k\">.</span>isNumber <span class=\"k\">(</span>time<span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    <span class=\"k\">this</span><span class=\"k\">.</span>_animation_duration <span class=\"k\">=</span> time<span class=\"k\">;</span>","    OpacityController<span class=\"k\">.</span>_opacity_animation<span class=\"k\">.</span>durations <span class=\"k\">=</span> time <span class=\"k\">/</span> <span class=\"s\">1000</span> <span class=\"k\">+</span> <span class=\"s\">\"s\"</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","","<span class=\"c\">/********************************************************************</span>","<span class=\"c\">                      Export</span>","<span class=\"c\">*********************************************************************/</span>","<span class=\"c\">/** @private */</span>","fx<span class=\"k\">.</span>OpacityController <span class=\"k\">=</span> OpacityController<span class=\"k\">;</span>","","<span class=\"k\">}</span><span class=\"k\">)(</span>window<span class=\"k\">);</span>"];
_$jscoverage['js/vs_fx.js'][19]++;
(function (window, undefined) {
  _$jscoverage['js/vs_fx.js'][21]++;
  var document = window.document;
  _$jscoverage['js/vs_fx.js'][45]++;
  var vs = window.vs, util = vs.util, core = vs.core, ui = vs.ui, fx = vs.fx, setElementTransform = util.setElementTransform, getElementTransform = util.getElementTransform;
  _$jscoverage['js/vs_fx.js'][54]++;
  var SUPPORT_CSS_TRANSFORM = (util.vsTestStyle.webkitTransform || util.vsTestStyle.msTransform);
  _$jscoverage['js/vs_fx.js'][57]++;
  var SUPPORT_3D_TRANSFORM = (("WebKitCSSMatrix" in window) && ("m11" in new WebKitCSSMatrix()));
  _$jscoverage['js/vs_fx.js'][60]++;
  util.extend(fx, {SUPPORT_CSS_TRANSFORM: SUPPORT_CSS_TRANSFORM, SUPPORT_3D_TRANSFORM: SUPPORT_3D_TRANSFORM});
  _$jscoverage['js/vs_fx.js'][81]++;
  if ((util.vsTestStyle.webkitTransform !== undefined)) {
    _$jscoverage['js/vs_fx.js'][83]++;
    var ANIMATION_DURATION = "-webkit-animation-duration";
    _$jscoverage['js/vs_fx.js'][84]++;
    var ANIMATION_DELAY = "-webkit-animation-delay";
    _$jscoverage['js/vs_fx.js'][85]++;
    var ANIMATION_NAME = "-webkit-animation-name";
    _$jscoverage['js/vs_fx.js'][86]++;
    var ANIMATION_END = "webkitAnimationEnd";
    _$jscoverage['js/vs_fx.js'][87]++;
    var ANIMATION_TIMING_FUNC = "-webkit-animation-timing-function";
    _$jscoverage['js/vs_fx.js'][89]++;
    var TRANSITION_DURATION = "-webkit-transition-duration";
    _$jscoverage['js/vs_fx.js'][90]++;
    var TRANSITION_DELAY = "-webkit-transition-delay";
    _$jscoverage['js/vs_fx.js'][91]++;
    var TRANSITION_END = "webkitTransitionEnd";
    _$jscoverage['js/vs_fx.js'][92]++;
    var TRANSITION_TIMING_FUNC = "-webkit-transition-timing-function";
    _$jscoverage['js/vs_fx.js'][93]++;
    var TRANSITION_PROPERTY = "-webkit-transition-property";
    _$jscoverage['js/vs_fx.js'][95]++;
    var TRANSFORM_ORIGIN = "-webkit-transform-origin";
    _$jscoverage['js/vs_fx.js'][96]++;
    var ITERATION_COUNT = "-webkit-animation-iteration-count";
    _$jscoverage['js/vs_fx.js'][97]++;
    var TRANSFORM = "-webkit-transform";
    _$jscoverage['js/vs_fx.js'][98]++;
    var KEY_FRAMES = "-webkit-keyframes";
  }
  else {
    _$jscoverage['js/vs_fx.js'][100]++;
    if ((util.vsTestStyle.msTransform !== undefined)) {
      _$jscoverage['js/vs_fx.js'][102]++;
      var ANIMATION_DURATION = "-ms-animation-duration";
      _$jscoverage['js/vs_fx.js'][103]++;
      var ANIMATION_DELAY = "-ms-animation-delay";
      _$jscoverage['js/vs_fx.js'][104]++;
      var ANIMATION_NAME = "-ms-animation-name";
      _$jscoverage['js/vs_fx.js'][105]++;
      var ANIMATION_END = "msAnimationEnd";
      _$jscoverage['js/vs_fx.js'][106]++;
      var ANIMATION_TIMING_FUNC = "-ms-animation-timing-function";
      _$jscoverage['js/vs_fx.js'][108]++;
      var TRANSITION_DURATION = "-ms-transition-duration";
      _$jscoverage['js/vs_fx.js'][109]++;
      var TRANSITION_DELAY = "-ms-transition-delay";
      _$jscoverage['js/vs_fx.js'][110]++;
      var TRANSITION_END = "msTransitionEnd";
      _$jscoverage['js/vs_fx.js'][111]++;
      var TRANSITION_TIMING_FUNC = "-ms-transition-timing-function";
      _$jscoverage['js/vs_fx.js'][112]++;
      var TRANSITION_PROPERTY = "-ms-transition-property";
      _$jscoverage['js/vs_fx.js'][114]++;
      var TRANSFORM_ORIGIN = "-ms-transform-origin";
      _$jscoverage['js/vs_fx.js'][115]++;
      var ITERATION_COUNT = "-ms-animation-iteration-count";
      _$jscoverage['js/vs_fx.js'][116]++;
      var TRANSFORM = "-ms-transform";
      _$jscoverage['js/vs_fx.js'][117]++;
      var KEY_FRAMES = "-ms-keyframes";
    }
    else {
      _$jscoverage['js/vs_fx.js'][121]++;
      var ANIMATION_DURATION = "animation-duration";
      _$jscoverage['js/vs_fx.js'][122]++;
      var ANIMATION_DELAY = "animation-delay";
      _$jscoverage['js/vs_fx.js'][123]++;
      var ANIMATION_NAME = "animation-name";
      _$jscoverage['js/vs_fx.js'][124]++;
      var ANIMATION_END = "animationEnd";
      _$jscoverage['js/vs_fx.js'][125]++;
      var ANIMATION_TIMING_FUNC = "animation-timing-function";
      _$jscoverage['js/vs_fx.js'][127]++;
      var TRANSITION_DURATION = "transition-duration";
      _$jscoverage['js/vs_fx.js'][128]++;
      var TRANSITION_DELAY = "transition-delay";
      _$jscoverage['js/vs_fx.js'][129]++;
      var TRANSITION_END = "transitionEnd";
      _$jscoverage['js/vs_fx.js'][130]++;
      var TRANSITION_TIMING_FUNC = "transition-timing-function";
      _$jscoverage['js/vs_fx.js'][131]++;
      var TRANSITION_PROPERTY = "transition-property";
      _$jscoverage['js/vs_fx.js'][133]++;
      var TRANSFORM_ORIGIN = "transform-origin";
      _$jscoverage['js/vs_fx.js'][134]++;
      var ITERATION_COUNT = "animation-iteration-count";
      _$jscoverage['js/vs_fx.js'][135]++;
      var TRANSFORM = "transform";
      _$jscoverage['js/vs_fx.js'][136]++;
      var KEY_FRAMES = "keyframes";
    }
  }
  _$jscoverage['js/vs_fx.js'][143]++;
  var AnimationWidthRegExp = new RegExp(/\$width/g);
  _$jscoverage['js/vs_fx.js'][148]++;
  var AnimationHeightRegExp = new RegExp(/\$height/g);
  _$jscoverage['js/vs_fx.js'][153]++;
  var AnimationXRegExp = new RegExp(/\$x/g);
  _$jscoverage['js/vs_fx.js'][158]++;
  var AnimationYRegExp = new RegExp(/\$y/g);
  _$jscoverage['js/vs_fx.js'][163]++;
  var AnimationVariableRegExp = new RegExp(/\$\{([\w]+)\}/g);
  _$jscoverage['js/vs_fx.js'][170]++;
  function cancelAnimation(anim_id) {
    _$jscoverage['js/vs_fx.js'][172]++;
    if ((! anim_id)) {
      _$jscoverage['js/vs_fx.js'][172]++;
      return false;
    }
    _$jscoverage['js/vs_fx.js'][173]++;
    var anim_name, cssAnimation, anim_id = anim_id, data;
    _$jscoverage['js/vs_fx.js'][175]++;
    data = Animation.__css_animations[anim_id];
    _$jscoverage['js/vs_fx.js'][176]++;
    if ((data && (data.length === 2))) {
      _$jscoverage['js/vs_fx.js'][178]++;
      if (((! data[1]) || (! data[1].getStyle) || (! data[0]))) {
        _$jscoverage['js/vs_fx.js'][178]++;
        return false;
      }
      _$jscoverage['js/vs_fx.js'][180]++;
      anim_name = data[1].getStyle(ANIMATION_NAME);
      _$jscoverage['js/vs_fx.js'][181]++;
      if ((! anim_name)) {
        _$jscoverage['js/vs_fx.js'][181]++;
        return false;
      }
      _$jscoverage['js/vs_fx.js'][183]++;
      anim_name = anim_name.replace(anim_id, "");
      _$jscoverage['js/vs_fx.js'][184]++;
      data[1].setStyle(ANIMATION_NAME, anim_name);
      _$jscoverage['js/vs_fx.js'][186]++;
      try {
        _$jscoverage['js/vs_fx.js'][187]++;
        document.getElementsByTagName("head")[0].removeChild(data[0]);
      }
      catch (e) {
        _$jscoverage['js/vs_fx.js'][191]++;
        console.error(e);
        _$jscoverage['js/vs_fx.js'][192]++;
        return false;
      }
      _$jscoverage['js/vs_fx.js'][194]++;
      (delete Animation.__css_animations[anim_id]);
    }
    else {
      _$jscoverage['js/vs_fx.js'][196]++;
      return false;
    }
    _$jscoverage['js/vs_fx.js'][198]++;
    return true;
}
  _$jscoverage['js/vs_fx.js'][211]++;
  var procesAnimation = (function (comp, animation, clb, ctx) {
  _$jscoverage['js/vs_fx.js'][213]++;
  if (((! animation) || (! comp) || (! comp.view))) {
    _$jscoverage['js/vs_fx.js'][215]++;
    console.error("procesAnimation: invalid component parameter!");
    _$jscoverage['js/vs_fx.js'][216]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][219]++;
  function isComplexAnimation() {
    _$jscoverage['js/vs_fx.js'][221]++;
    if (animation.keyFrames["0%"]) {
      _$jscoverage['js/vs_fx.js'][221]++;
      return true;
    }
    _$jscoverage['js/vs_fx.js'][222]++;
    return false;
}
  _$jscoverage['js/vs_fx.js'][225]++;
  var initWithParameters, parseValue, applySimpleAnimation, applyStyleTo, runComplexAnimation, applyComplexAnimation, cssAnimation, anim_id = core.createId(), isComplex = isComplexAnimation();
  _$jscoverage['js/vs_fx.js'][230]++;
  initWithParameters = (function () {
  _$jscoverage['js/vs_fx.js'][232]++;
  var property;
  _$jscoverage['js/vs_fx.js'][233]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][234]++;
    property = ANIMATION_DURATION;
  }
  else {
    _$jscoverage['js/vs_fx.js'][235]++;
    property = TRANSITION_DURATION;
  }
  _$jscoverage['js/vs_fx.js'][237]++;
  if ((util.isArray(animation.origin) && (animation.origin.length === 2))) {
    _$jscoverage['js/vs_fx.js'][239]++;
    var value = (animation.origin[0] + "% " + animation.origin[1] + "%");
    _$jscoverage['js/vs_fx.js'][240]++;
    comp.setStyle(TRANSFORM_ORIGIN, value);
  }
  _$jscoverage['js/vs_fx.js'][243]++;
  if (util.isString(animation.durations)) {
    _$jscoverage['js/vs_fx.js'][245]++;
    comp.setStyle(property, animation.durations);
  }
  else {
    _$jscoverage['js/vs_fx.js'][247]++;
    if (util.isArray(animation.durations)) {
      _$jscoverage['js/vs_fx.js'][249]++;
      comp.setStyle(property, animation.durations.join(", "));
    }
    else {
      _$jscoverage['js/vs_fx.js'][253]++;
      comp.setStyle(property, Animation.DEFAULT_DURATION);
    }
  }
  _$jscoverage['js/vs_fx.js'][256]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][256]++;
    property = ANIMATION_DELAY;
  }
  else {
    _$jscoverage['js/vs_fx.js'][257]++;
    property = TRANSITION_DELAY;
  }
  _$jscoverage['js/vs_fx.js'][259]++;
  if (util.isNumber(animation.delay)) {
    _$jscoverage['js/vs_fx.js'][261]++;
    comp.setStyle(property, (animation.delay + "ms"));
  }
  else {
    _$jscoverage['js/vs_fx.js'][264]++;
    comp.setStyle(property, "0");
  }
  _$jscoverage['js/vs_fx.js'][266]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][266]++;
    property = ANIMATION_TIMING_FUNC;
  }
  else {
    _$jscoverage['js/vs_fx.js'][267]++;
    property = TRANSITION_TIMING_FUNC;
  }
  _$jscoverage['js/vs_fx.js'][269]++;
  if (util.isString(animation.timings)) {
    _$jscoverage['js/vs_fx.js'][271]++;
    comp.setStyle(property, animation.timings);
  }
  else {
    _$jscoverage['js/vs_fx.js'][273]++;
    if (util.isArray(animation.timings)) {
      _$jscoverage['js/vs_fx.js'][275]++;
      comp.setStyle(property, animation.timings.join(", "));
    }
    else {
      _$jscoverage['js/vs_fx.js'][279]++;
      comp.setStyle(property, Animation.EASE);
    }
  }
  _$jscoverage['js/vs_fx.js'][282]++;
  if ((animation.iterationCount === "infinite")) {
    _$jscoverage['js/vs_fx.js'][284]++;
    comp.setStyle(ITERATION_COUNT, "infinite");
  }
  else {
    _$jscoverage['js/vs_fx.js'][286]++;
    if (((! animation.iterationCount) || (! util.isNumber(animation.iterationCount)))) {
      _$jscoverage['js/vs_fx.js'][289]++;
      comp.setStyle(ITERATION_COUNT, "1");
    }
    else {
      _$jscoverage['js/vs_fx.js'][293]++;
      comp.setStyle(ITERATION_COUNT, animation.iterationCount);
    }
  }
});
  _$jscoverage['js/vs_fx.js'][297]++;
  parseValue = (function (v, data) {
  _$jscoverage['js/vs_fx.js'][299]++;
  var matches, i, props = [], prop;
  _$jscoverage['js/vs_fx.js'][301]++;
  if (util.isNumber(v)) {
    _$jscoverage['js/vs_fx.js'][301]++;
    return v;
  }
  _$jscoverage['js/vs_fx.js'][303]++;
  if (util.isString(v)) {
    _$jscoverage['js/vs_fx.js'][305]++;
    v = v.replace(AnimationWidthRegExp, (comp.size[0] + "px"));
    _$jscoverage['js/vs_fx.js'][306]++;
    v = v.replace(AnimationHeightRegExp, (comp.size[1] + "px"));
    _$jscoverage['js/vs_fx.js'][307]++;
    v = v.replace(AnimationXRegExp, (comp.position[0] + "px"));
    _$jscoverage['js/vs_fx.js'][308]++;
    v = v.replace(AnimationYRegExp, (comp.position[1] + "px"));
    _$jscoverage['js/vs_fx.js'][310]++;
    var matches = AnimationVariableRegExp.exec(v);
    _$jscoverage['js/vs_fx.js'][311]++;
    while ((matches && (matches.length === 2))) {
      _$jscoverage['js/vs_fx.js'][313]++;
      props.push(matches[1]);
      _$jscoverage['js/vs_fx.js'][314]++;
      matches = AnimationVariableRegExp.exec(v);
}
    _$jscoverage['js/vs_fx.js'][316]++;
    for (var i = 0; (i < props.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][318]++;
      prop = props[i];
      _$jscoverage['js/vs_fx.js'][319]++;
      if (((typeof data[prop]) !== "undefined")) {
        _$jscoverage['js/vs_fx.js'][320]++;
        v = v.replace(("${" + prop + "}"), data[prop]);
      }
      else {
        _$jscoverage['js/vs_fx.js'][321]++;
        if (((typeof animation[prop]) !== "undefined")) {
          _$jscoverage['js/vs_fx.js'][322]++;
          v = v.replace(("${" + prop + "}"), animation[prop]);
        }
      }
}
    _$jscoverage['js/vs_fx.js'][325]++;
    return v;
  }
  _$jscoverage['js/vs_fx.js'][328]++;
  console.warn(("vs.fx.Animation._parseValue. Unknown value's type: " + v));
  _$jscoverage['js/vs_fx.js'][330]++;
  return 0;
});
  _$jscoverage['js/vs_fx.js'][333]++;
  applySimpleAnimation = (function () {
  _$jscoverage['js/vs_fx.js'][335]++;
  initWithParameters();
  _$jscoverage['js/vs_fx.js'][336]++;
  var callback, i, self = this;
  _$jscoverage['js/vs_fx.js'][338]++;
  callback = (function (event) {
  _$jscoverage['js/vs_fx.js'][341]++;
  if ((event.currentTarget !== comp.view)) {
    _$jscoverage['js/vs_fx.js'][341]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][343]++;
  comp.view.removeEventListener(TRANSITION_END, callback, false);
  _$jscoverage['js/vs_fx.js'][346]++;
  comp.view.style.removeProperty(TRANSITION_DURATION);
  _$jscoverage['js/vs_fx.js'][347]++;
  comp.view.style.removeProperty(TRANSITION_DELAY);
  _$jscoverage['js/vs_fx.js'][349]++;
  if ((animation.delegate && animation.delegate.taskDidEnd)) {
    _$jscoverage['js/vs_fx.js'][350]++;
    animation.delegate.taskDidEnd(animation);
  }
  _$jscoverage['js/vs_fx.js'][352]++;
  if (clb) {
    _$jscoverage['js/vs_fx.js'][352]++;
    clb.call((ctx? ctx: self));
  }
});
  _$jscoverage['js/vs_fx.js'][355]++;
  comp.view.addEventListener(TRANSITION_END, callback, false);
  _$jscoverage['js/vs_fx.js'][357]++;
  applyStyleTo();
});
  _$jscoverage['js/vs_fx.js'][360]++;
  applyStyleTo = (function () {
  _$jscoverage['js/vs_fx.js'][362]++;
  var data = (animation.keyFrames["100%"]? animation.keyFrames["100%"]: animation), transform = "", property, properties = [], value;
  _$jscoverage['js/vs_fx.js'][366]++;
  if (data) {
    _$jscoverage['js/vs_fx.js'][366]++;
    for (i = 0; (i < animation.properties.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][368]++;
      property = animation.properties[i];
      _$jscoverage['js/vs_fx.js'][369]++;
      value = parseValue(animation.values[i], data);
      _$jscoverage['js/vs_fx.js'][370]++;
      if ((property === "rotate")) {
        _$jscoverage['js/vs_fx.js'][371]++;
        transform += ("rotate(" + value + ") ");
        _$jscoverage['js/vs_fx.js'][371]++;
        property = TRANSFORM;
      }
      else {
        _$jscoverage['js/vs_fx.js'][372]++;
        if ((property === "skew")) {
          _$jscoverage['js/vs_fx.js'][373]++;
          transform += ("skew(" + value + ") ");
          _$jscoverage['js/vs_fx.js'][373]++;
          property = TRANSFORM;
        }
        else {
          _$jscoverage['js/vs_fx.js'][374]++;
          if ((SUPPORT_3D_TRANSFORM && (property === "translate"))) {
            _$jscoverage['js/vs_fx.js'][375]++;
            transform += ("translate3d(" + value + ") ");
            _$jscoverage['js/vs_fx.js'][375]++;
            property = TRANSFORM;
          }
          else {
            _$jscoverage['js/vs_fx.js'][376]++;
            if ((property === "translate")) {
              _$jscoverage['js/vs_fx.js'][377]++;
              transform += ("translate(" + value + ") ");
              _$jscoverage['js/vs_fx.js'][377]++;
              property = TRANSFORM;
            }
            else {
              _$jscoverage['js/vs_fx.js'][378]++;
              if ((property === "translateX")) {
                _$jscoverage['js/vs_fx.js'][379]++;
                transform += ("translateX(" + value + ") ");
                _$jscoverage['js/vs_fx.js'][379]++;
                property = TRANSFORM;
              }
              else {
                _$jscoverage['js/vs_fx.js'][380]++;
                if ((property === "translateY")) {
                  _$jscoverage['js/vs_fx.js'][381]++;
                  transform += ("translateY(" + value + ") ");
                  _$jscoverage['js/vs_fx.js'][381]++;
                  property = TRANSFORM;
                }
                else {
                  _$jscoverage['js/vs_fx.js'][382]++;
                  if ((property === "rotateX")) {
                    _$jscoverage['js/vs_fx.js'][383]++;
                    transform += ("rotateX(" + value + ") ");
                    _$jscoverage['js/vs_fx.js'][383]++;
                    property = TRANSFORM;
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][384]++;
                    if ((property === "rotateY")) {
                      _$jscoverage['js/vs_fx.js'][385]++;
                      transform += ("rotateY(" + value + ") ");
                      _$jscoverage['js/vs_fx.js'][385]++;
                      property = TRANSFORM;
                    }
                    else {
                      _$jscoverage['js/vs_fx.js'][386]++;
                      if ((property === "scale")) {
                        _$jscoverage['js/vs_fx.js'][387]++;
                        transform += ("scale(" + value + ") ");
                        _$jscoverage['js/vs_fx.js'][387]++;
                        property = TRANSFORM;
                      }
                      else {
                        _$jscoverage['js/vs_fx.js'][389]++;
                        comp.setStyle(property, value);
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      _$jscoverage['js/vs_fx.js'][391]++;
      if ((properties.indexOf(property) == -1)) {
        _$jscoverage['js/vs_fx.js'][391]++;
        properties.push(property);
      }
}
  }
  _$jscoverage['js/vs_fx.js'][393]++;
  if (transform) {
    _$jscoverage['js/vs_fx.js'][395]++;
    setElementTransform(comp.view, transform);
  }
  _$jscoverage['js/vs_fx.js'][397]++;
  comp.setStyle(TRANSITION_PROPERTY, properties.join(","));
});
  _$jscoverage['js/vs_fx.js'][400]++;
  runComplexAnimation = (function () {
  _$jscoverage['js/vs_fx.js'][402]++;
  initWithParameters();
  _$jscoverage['js/vs_fx.js'][404]++;
  var i, callback, value, anim_name, callback = (function (event) {
  _$jscoverage['js/vs_fx.js'][409]++;
  if ((event.currentTarget !== comp.view)) {
    _$jscoverage['js/vs_fx.js'][409]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][411]++;
  comp.view.removeEventListener(ANIMATION_END, callback, false);
  _$jscoverage['js/vs_fx.js'][414]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][414]++;
    applyStyleTo();
  }
  _$jscoverage['js/vs_fx.js'][417]++;
  comp.view.style.removeProperty(ANIMATION_DURATION);
  _$jscoverage['js/vs_fx.js'][418]++;
  comp.view.style.removeProperty(ANIMATION_DELAY);
  _$jscoverage['js/vs_fx.js'][421]++;
  anim_name = comp.getStyle(ANIMATION_NAME);
  _$jscoverage['js/vs_fx.js'][422]++;
  if (anim_name) {
    _$jscoverage['js/vs_fx.js'][424]++;
    anim_name = anim_name.replace(anim_id, "");
    _$jscoverage['js/vs_fx.js'][425]++;
    comp.setStyle(ANIMATION_NAME, anim_name);
  }
  _$jscoverage['js/vs_fx.js'][428]++;
  try {
    _$jscoverage['js/vs_fx.js'][430]++;
    data = Animation.__css_animations[anim_id];
    _$jscoverage['js/vs_fx.js'][431]++;
    if ((data && (data.length === 2))) {
      _$jscoverage['js/vs_fx.js'][433]++;
      document.getElementsByTagName("head")[0].removeChild(data[0]);
      _$jscoverage['js/vs_fx.js'][434]++;
      (delete Animation.__css_animations[anim_id]);
    }
  }
  catch (e) {
    _$jscoverage['js/vs_fx.js'][439]++;
    console.error(e);
    _$jscoverage['js/vs_fx.js'][440]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][443]++;
  if ((animation.delegate && animation.delegate.taskDidStop)) {
    _$jscoverage['js/vs_fx.js'][444]++;
    animation.delegate.taskDidEnd(animation);
  }
  _$jscoverage['js/vs_fx.js'][446]++;
  if (clb) {
    _$jscoverage['js/vs_fx.js'][446]++;
    clb.call((ctx? ctx: self));
  }
});
  _$jscoverage['js/vs_fx.js'][449]++;
  comp.view.addEventListener(ANIMATION_END, callback, false);
  _$jscoverage['js/vs_fx.js'][450]++;
  anim_name = comp.getStyle(ANIMATION_NAME);
  _$jscoverage['js/vs_fx.js'][452]++;
  if ((! anim_name)) {
    _$jscoverage['js/vs_fx.js'][452]++;
    anim_name = anim_id;
  }
  else {
    _$jscoverage['js/vs_fx.js'][453]++;
    anim_name += (", " + anim_id);
  }
  _$jscoverage['js/vs_fx.js'][455]++;
  comp.setStyle(ANIMATION_NAME, anim_name);
});
  _$jscoverage['js/vs_fx.js'][458]++;
  applyComplexAnimation = (function () {
  _$jscoverage['js/vs_fx.js'][460]++;
  var data, key, style, i, property, transform, value, cssAnimation = document.createElement("style");
  _$jscoverage['js/vs_fx.js'][462]++;
  cssAnimation.type = "text/css";
  _$jscoverage['js/vs_fx.js'][464]++;
  var rules_str = "";
  _$jscoverage['js/vs_fx.js'][465]++;
  for (key in animation.keyFrames) {
    _$jscoverage['js/vs_fx.js'][467]++;
    transform = "";
    _$jscoverage['js/vs_fx.js'][468]++;
    data = animation.keyFrames[key];
    _$jscoverage['js/vs_fx.js'][469]++;
    style = "";
    _$jscoverage['js/vs_fx.js'][470]++;
    if (util.isArray(data)) {
      _$jscoverage['js/vs_fx.js'][472]++;
      for (var i = 0; (i < data.length); (i++)) {
        _$jscoverage['js/vs_fx.js'][474]++;
        value = data[i];
        _$jscoverage['js/vs_fx.js'][475]++;
        if (((value == null) || ((typeof value) == "undefined"))) {
          _$jscoverage['js/vs_fx.js'][475]++;
          continue;
        }
        _$jscoverage['js/vs_fx.js'][476]++;
        value = parseValue(value, animation);
        _$jscoverage['js/vs_fx.js'][477]++;
        property = animation.properties[i];
        _$jscoverage['js/vs_fx.js'][478]++;
        if ((! property)) {
          _$jscoverage['js/vs_fx.js'][478]++;
          continue;
        }
        _$jscoverage['js/vs_fx.js'][479]++;
        if ((property === "rotate")) {
          _$jscoverage['js/vs_fx.js'][480]++;
          transform += ("rotate(" + value + ") ");
        }
        else {
          _$jscoverage['js/vs_fx.js'][481]++;
          if ((property === "skew")) {
            _$jscoverage['js/vs_fx.js'][482]++;
            transform += ("skew(" + value + ") ");
          }
          else {
            _$jscoverage['js/vs_fx.js'][483]++;
            if ((SUPPORT_3D_TRANSFORM && (property === "translate"))) {
              _$jscoverage['js/vs_fx.js'][484]++;
              transform += ("translate3d(" + value + ") ");
            }
            else {
              _$jscoverage['js/vs_fx.js'][485]++;
              if ((property === "translate")) {
                _$jscoverage['js/vs_fx.js'][486]++;
                transform += ("translate(" + value + ") ");
              }
              else {
                _$jscoverage['js/vs_fx.js'][487]++;
                if ((property === "translateX")) {
                  _$jscoverage['js/vs_fx.js'][488]++;
                  transform += ("translateX(" + value + ") ");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][489]++;
                  if ((property === "translateY")) {
                    _$jscoverage['js/vs_fx.js'][490]++;
                    transform += ("translateY(" + value + ") ");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][491]++;
                    if ((property === "rotateX")) {
                      _$jscoverage['js/vs_fx.js'][492]++;
                      transform += ("rotateX(" + value + ") ");
                    }
                    else {
                      _$jscoverage['js/vs_fx.js'][493]++;
                      if ((property === "rotateY")) {
                        _$jscoverage['js/vs_fx.js'][494]++;
                        transform += ("rotateY(" + value + ") ");
                      }
                      else {
                        _$jscoverage['js/vs_fx.js'][495]++;
                        if ((property === "scale")) {
                          _$jscoverage['js/vs_fx.js'][496]++;
                          transform += ("scale(" + value + ") ");
                        }
                        else {
                          _$jscoverage['js/vs_fx.js'][498]++;
                          style += (property + ":" + value + ";");
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
}
    }
    else {
      _$jscoverage['js/vs_fx.js'][503]++;
      for (i = 0; (i < animation.properties.length); (i++)) {
        _$jscoverage['js/vs_fx.js'][505]++;
        value = parseValue(animation.values[i], data);
        _$jscoverage['js/vs_fx.js'][506]++;
        property = animation.properties[i];
        _$jscoverage['js/vs_fx.js'][507]++;
        if ((! property)) {
          _$jscoverage['js/vs_fx.js'][507]++;
          continue;
        }
        _$jscoverage['js/vs_fx.js'][508]++;
        if ((property === "rotate")) {
          _$jscoverage['js/vs_fx.js'][509]++;
          transform += ("rotate(" + value + ") ");
        }
        else {
          _$jscoverage['js/vs_fx.js'][510]++;
          if ((property === "skew")) {
            _$jscoverage['js/vs_fx.js'][511]++;
            transform += ("skew(" + value + ") ");
          }
          else {
            _$jscoverage['js/vs_fx.js'][512]++;
            if ((SUPPORT_3D_TRANSFORM && (property === "translate"))) {
              _$jscoverage['js/vs_fx.js'][513]++;
              transform += ("translate3d(" + value + ") ");
            }
            else {
              _$jscoverage['js/vs_fx.js'][514]++;
              if ((property === "translate")) {
                _$jscoverage['js/vs_fx.js'][515]++;
                transform += ("translate(" + value + ") ");
              }
              else {
                _$jscoverage['js/vs_fx.js'][516]++;
                if ((property === "translateX")) {
                  _$jscoverage['js/vs_fx.js'][517]++;
                  transform += ("translateX(" + value + ") ");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][518]++;
                  if ((property === "translateY")) {
                    _$jscoverage['js/vs_fx.js'][519]++;
                    transform += ("translateY(" + value + ") ");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][520]++;
                    if ((property === "rotateX")) {
                      _$jscoverage['js/vs_fx.js'][521]++;
                      transform += ("rotateX(" + value + ") ");
                    }
                    else {
                      _$jscoverage['js/vs_fx.js'][522]++;
                      if ((property === "rotateY")) {
                        _$jscoverage['js/vs_fx.js'][523]++;
                        transform += ("rotateY(" + value + ") ");
                      }
                      else {
                        _$jscoverage['js/vs_fx.js'][524]++;
                        if ((property === "scale")) {
                          _$jscoverage['js/vs_fx.js'][525]++;
                          transform += ("scale(" + value + ") ");
                        }
                        else {
                          _$jscoverage['js/vs_fx.js'][527]++;
                          style += (property + ":" + value + ";");
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
}
    }
    _$jscoverage['js/vs_fx.js'][530]++;
    if (transform) {
      _$jscoverage['js/vs_fx.js'][532]++;
      style += (TRANSFORM + ": " + transform + ";");
    }
    _$jscoverage['js/vs_fx.js'][535]++;
    rules_str += (key + " { " + style + " } ");
}
  _$jscoverage['js/vs_fx.js'][538]++;
  var rules = document.createTextNode(("@" + KEY_FRAMES + " " + anim_id + " { " + rules_str + " }"));
  _$jscoverage['js/vs_fx.js'][541]++;
  cssAnimation.appendChild(rules);
  _$jscoverage['js/vs_fx.js'][542]++;
  document.getElementsByTagName("head")[0].appendChild(cssAnimation);
  _$jscoverage['js/vs_fx.js'][544]++;
  Animation.__css_animations[anim_id] = [cssAnimation, comp];
  _$jscoverage['js/vs_fx.js'][546]++;
  runComplexAnimation();
});
  _$jscoverage['js/vs_fx.js'][549]++;
  if (isComplex) {
    _$jscoverage['js/vs_fx.js'][549]++;
    applyComplexAnimation();
  }
  else {
    _$jscoverage['js/vs_fx.js'][550]++;
    applySimpleAnimation();
  }
  _$jscoverage['js/vs_fx.js'][552]++;
  return anim_id;
});
  _$jscoverage['js/vs_fx.js'][618]++;
  function Animation(animations) {
    _$jscoverage['js/vs_fx.js'][620]++;
    this.parent = core.Task;
    _$jscoverage['js/vs_fx.js'][621]++;
    this.parent();
    _$jscoverage['js/vs_fx.js'][622]++;
    this.constructor = Animation;
    _$jscoverage['js/vs_fx.js'][624]++;
    if (arguments.length) {
      _$jscoverage['js/vs_fx.js'][626]++;
      this.setAnimations(arguments);
      _$jscoverage['js/vs_fx.js'][627]++;
      this.keyFrames["100%"] = this;
    }
}
  _$jscoverage['js/vs_fx.js'][629]++;
  ;
  _$jscoverage['js/vs_fx.js'][634]++;
  Animation.__css_animations = {};
  _$jscoverage['js/vs_fx.js'][636]++;
  Animation.DEFAULT_DURATION = "0.3s";
  _$jscoverage['js/vs_fx.js'][637]++;
  Animation.DEFAULT_TIMING = Animation.EASE;
  _$jscoverage['js/vs_fx.js'][639]++;
  Animation.prototype = {properties: null, values: null, durations: null, timings: null, origin: null, iterationCount: 1, delay: 0, keyFrames: null, setAnimations: (function (animations) {
  _$jscoverage['js/vs_fx.js'][742]++;
  var i, prop, value, option;
  _$jscoverage['js/vs_fx.js'][744]++;
  this.properties = [];
  _$jscoverage['js/vs_fx.js'][745]++;
  this.values = [];
  _$jscoverage['js/vs_fx.js'][746]++;
  this.timings = [];
  _$jscoverage['js/vs_fx.js'][747]++;
  this.keyFrames = {};
  _$jscoverage['js/vs_fx.js'][748]++;
  this.origin = null;
  _$jscoverage['js/vs_fx.js'][749]++;
  this.durations = null;
  _$jscoverage['js/vs_fx.js'][750]++;
  this.timings = null;
  _$jscoverage['js/vs_fx.js'][752]++;
  for (i = 0; (i < animations.length); (i++)) {
    _$jscoverage['js/vs_fx.js'][754]++;
    option = animations[i];
    _$jscoverage['js/vs_fx.js'][755]++;
    if (((! util.isArray(option)) || (option.length !== 2))) {
      _$jscoverage['js/vs_fx.js'][757]++;
      console.warn("vs.fx.Animation, invalid animations");
      _$jscoverage['js/vs_fx.js'][758]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][760]++;
    prop = option[0];
    _$jscoverage['js/vs_fx.js'][760]++;
    value = option[1];
    _$jscoverage['js/vs_fx.js'][761]++;
    if (((! util.isString(prop)) || (! util.isString(value)))) {
      _$jscoverage['js/vs_fx.js'][763]++;
      console.warn(("vs.fx.Animation, invalid constructor argument option: [" + prop + ", " + value + "]"));
      _$jscoverage['js/vs_fx.js'][765]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][768]++;
    this.properties.push(prop);
    _$jscoverage['js/vs_fx.js'][769]++;
    this.values.push(value);
}
}), addKeyFrame: (function (pos, values) {
  _$jscoverage['js/vs_fx.js'][803]++;
  if ((! values)) {
    _$jscoverage['js/vs_fx.js'][803]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][804]++;
  if ((pos === "from")) {
    _$jscoverage['js/vs_fx.js'][806]++;
    this.keyFrames["0%"] = values;
    _$jscoverage['js/vs_fx.js'][807]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][809]++;
  if ((pos === "to")) {
    _$jscoverage['js/vs_fx.js'][811]++;
    this.keyFrames["100%"] = values;
    _$jscoverage['js/vs_fx.js'][812]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][814]++;
  if (((! util.isNumber(pos)) || (pos < 0) || (pos > 100))) {
    _$jscoverage['js/vs_fx.js'][814]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][816]++;
  this.keyFrames[(pos + "%")] = values;
}), process: (function (comp, clb, ctx) {
  _$jscoverage['js/vs_fx.js'][846]++;
  return procesAnimation(comp, this, clb, ctx);
}), clone: (function () {
  _$jscoverage['js/vs_fx.js'][862]++;
  var anim = new Animation(), key, data;
  _$jscoverage['js/vs_fx.js'][864]++;
  if (this.properties) {
    _$jscoverage['js/vs_fx.js'][865]++;
    anim.properties = this.properties.slice();
  }
  _$jscoverage['js/vs_fx.js'][866]++;
  if (this.values) {
    _$jscoverage['js/vs_fx.js'][867]++;
    anim.values = this.values.slice();
  }
  _$jscoverage['js/vs_fx.js'][868]++;
  if (this.durations) {
    _$jscoverage['js/vs_fx.js'][869]++;
    anim.durations = this.durations;
  }
  _$jscoverage['js/vs_fx.js'][870]++;
  if (this.timings) {
    _$jscoverage['js/vs_fx.js'][871]++;
    anim.timings = this.timings.slice();
  }
  _$jscoverage['js/vs_fx.js'][872]++;
  if (this.origin) {
    _$jscoverage['js/vs_fx.js'][873]++;
    anim.origin = this.origin.slice();
  }
  _$jscoverage['js/vs_fx.js'][874]++;
  if (this.keyFrames) {
    _$jscoverage['js/vs_fx.js'][876]++;
    for (key in this.keyFrames) {
      _$jscoverage['js/vs_fx.js'][878]++;
      if ((key === "100%")) {
        _$jscoverage['js/vs_fx.js'][878]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][879]++;
      data = this.keyFrames[key];
      _$jscoverage['js/vs_fx.js'][880]++;
      if (util.isArray(data)) {
        _$jscoverage['js/vs_fx.js'][880]++;
        anim.keyFrames[key] = data.slice();
      }
      else {
        _$jscoverage['js/vs_fx.js'][881]++;
        anim.keyFrames[key] = vs.util.clone(data);
      }
}
  }
  _$jscoverage['js/vs_fx.js'][885]++;
  anim.iterationCount = this.iterationCount;
  _$jscoverage['js/vs_fx.js'][886]++;
  anim.delay = this.delay;
  _$jscoverage['js/vs_fx.js'][888]++;
  return anim;
}), start: (function (param) {
  _$jscoverage['js/vs_fx.js'][904]++;
  this.process(param);
})};
  _$jscoverage['js/vs_fx.js'][907]++;
  util.extendClass(Animation, core.Task);
  _$jscoverage['js/vs_fx.js'][913]++;
  util.defineClassProperties(Animation, {"duration": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][923]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][923]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][925]++;
  this.durations = [v];
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][933]++;
  if ((this.durations && this.durations.length)) {
    _$jscoverage['js/vs_fx.js'][934]++;
    return this.durations[0];
  }
  else {
    _$jscoverage['js/vs_fx.js'][936]++;
    return Animation.DEFAULT_DURATION;
  }
})}, "timing": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][948]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][948]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][950]++;
  this.timings = [v];
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][958]++;
  if ((this.timings && this.timings.length)) {
    _$jscoverage['js/vs_fx.js'][959]++;
    return this.timings[0];
  }
  else {
    _$jscoverage['js/vs_fx.js'][961]++;
    return Animation.EASE;
  }
})}});
  _$jscoverage['js/vs_fx.js'][976]++;
  Animation.EASE = "ease";
  _$jscoverage['js/vs_fx.js'][984]++;
  Animation.LINEAR = "linear";
  _$jscoverage['js/vs_fx.js'][992]++;
  Animation.EASE_IN = "ease-in";
  _$jscoverage['js/vs_fx.js'][1000]++;
  Animation.EASE_OUT = "ease-out";
  _$jscoverage['js/vs_fx.js'][1008]++;
  Animation.EASE_IN_OUT = "ease-in-out";
  _$jscoverage['js/vs_fx.js'][1040]++;
  TranslateAnimation = (function (x, y, z) {
  _$jscoverage['js/vs_fx.js'][1042]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1043]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1045]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1049]++;
    if (SUPPORT_3D_TRANSFORM) {
      _$jscoverage['js/vs_fx.js'][1050]++;
      this.parent(["translate", "${x}px,${y}px,${z}px"]);
    }
    else {
      _$jscoverage['js/vs_fx.js'][1052]++;
      this.parent(["translate", "${x}px,${y}px"]);
    }
    _$jscoverage['js/vs_fx.js'][1054]++;
    if (util.isNumber(x)) {
      _$jscoverage['js/vs_fx.js'][1054]++;
      this.x = x;
    }
    _$jscoverage['js/vs_fx.js'][1055]++;
    if (util.isNumber(y)) {
      _$jscoverage['js/vs_fx.js'][1055]++;
      this.y = y;
    }
    _$jscoverage['js/vs_fx.js'][1056]++;
    if (util.isNumber(z)) {
      _$jscoverage['js/vs_fx.js'][1056]++;
      this.z = z;
    }
  }
  _$jscoverage['js/vs_fx.js'][1058]++;
  this.constructor = TranslateAnimation;
});
  _$jscoverage['js/vs_fx.js'][1061]++;
  TranslateAnimation.prototype = {x: 0, y: 0, z: 0};
  _$jscoverage['js/vs_fx.js'][1087]++;
  util.extendClass(TranslateAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1112]++;
  RotateAnimation = (function (deg) {
  _$jscoverage['js/vs_fx.js'][1114]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1115]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1117]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1121]++;
    this.parent(["rotate", "${deg}deg"]);
    _$jscoverage['js/vs_fx.js'][1123]++;
    if (util.isNumber(deg)) {
      _$jscoverage['js/vs_fx.js'][1123]++;
      this.deg = deg;
    }
  }
  _$jscoverage['js/vs_fx.js'][1125]++;
  this.constructor = RotateAnimation;
});
  _$jscoverage['js/vs_fx.js'][1128]++;
  RotateAnimation.prototype = {deg: 0};
  _$jscoverage['js/vs_fx.js'][1138]++;
  util.extendClass(RotateAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1161]++;
  RotateXYZAnimation = (function (degX, degY, degZ) {
  _$jscoverage['js/vs_fx.js'][1163]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1164]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1166]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1170]++;
    this.parent(["rotateX", "${degX}deg"], ["rotateY", "${degY}deg"], ["rotate", "${degZ}deg"]);
    _$jscoverage['js/vs_fx.js'][1173]++;
    if (util.isNumber(degX)) {
      _$jscoverage['js/vs_fx.js'][1173]++;
      this.degX = degX;
    }
    _$jscoverage['js/vs_fx.js'][1174]++;
    if (util.isNumber(degY)) {
      _$jscoverage['js/vs_fx.js'][1174]++;
      this.degY = degY;
    }
    _$jscoverage['js/vs_fx.js'][1175]++;
    if (util.isNumber(degZ)) {
      _$jscoverage['js/vs_fx.js'][1175]++;
      this.degZ = degZ;
    }
  }
  _$jscoverage['js/vs_fx.js'][1177]++;
  this.constructor = RotateXYZAnimation;
});
  _$jscoverage['js/vs_fx.js'][1180]++;
  RotateXYZAnimation.prototype = {degX: 0, degY: 0, degZ: 0};
  _$jscoverage['js/vs_fx.js'][1206]++;
  util.extendClass(RotateXYZAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1230]++;
  ScaleAnimation = (function (sx, sy) {
  _$jscoverage['js/vs_fx.js'][1232]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1233]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1235]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1239]++;
    this.parent(["scale", "${sx},${sy}"]);
    _$jscoverage['js/vs_fx.js'][1241]++;
    if (util.isNumber(sx)) {
      _$jscoverage['js/vs_fx.js'][1241]++;
      this.sx = sx;
    }
    _$jscoverage['js/vs_fx.js'][1242]++;
    if (util.isNumber(sy)) {
      _$jscoverage['js/vs_fx.js'][1242]++;
      this.sy = sy;
    }
    _$jscoverage['js/vs_fx.js'][1243]++;
    if ((! util.isNumber(sy))) {
      _$jscoverage['js/vs_fx.js'][1243]++;
      this.sy = this.sx;
    }
  }
  _$jscoverage['js/vs_fx.js'][1245]++;
  this.constructor = ScaleAnimation;
});
  _$jscoverage['js/vs_fx.js'][1248]++;
  ScaleAnimation.prototype = {sx: 1, sy: 1};
  _$jscoverage['js/vs_fx.js'][1266]++;
  util.extendClass(ScaleAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1291]++;
  SkewAnimation = (function (ax, ay) {
  _$jscoverage['js/vs_fx.js'][1293]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1294]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1296]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1300]++;
    this.parent(["skew", "${ax}deg,${ay}deg"]);
    _$jscoverage['js/vs_fx.js'][1302]++;
    if (util.isNumber(ax)) {
      _$jscoverage['js/vs_fx.js'][1302]++;
      this.ax = ax;
    }
    _$jscoverage['js/vs_fx.js'][1303]++;
    if (util.isNumber(ay)) {
      _$jscoverage['js/vs_fx.js'][1303]++;
      this.ay = ay;
    }
  }
  _$jscoverage['js/vs_fx.js'][1305]++;
  this.constructor = SkewAnimation;
});
  _$jscoverage['js/vs_fx.js'][1308]++;
  SkewAnimation.prototype = {ax: 0, ay: 0};
  _$jscoverage['js/vs_fx.js'][1326]++;
  util.extendClass(SkewAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1355]++;
  OpacityAnimation = (function (value) {
  _$jscoverage['js/vs_fx.js'][1357]++;
  this.parent = Animation;
  _$jscoverage['js/vs_fx.js'][1358]++;
  if ((! arguments.length)) {
    _$jscoverage['js/vs_fx.js'][1360]++;
    this.parent();
  }
  else {
    _$jscoverage['js/vs_fx.js'][1364]++;
    this.parent(["opacity", "${value}"]);
    _$jscoverage['js/vs_fx.js'][1366]++;
    if (util.isNumber(value)) {
      _$jscoverage['js/vs_fx.js'][1366]++;
      this.value = value;
    }
  }
  _$jscoverage['js/vs_fx.js'][1368]++;
  this.constructor = OpacityAnimation;
});
  _$jscoverage['js/vs_fx.js'][1371]++;
  OpacityAnimation.prototype = {value: 1};
  _$jscoverage['js/vs_fx.js'][1381]++;
  util.extendClass(OpacityAnimation, Animation);
  _$jscoverage['js/vs_fx.js'][1392]++;
  Animation.SlideOutRight = new Animation(["translateX", "$width"]);
  _$jscoverage['js/vs_fx.js'][1393]++;
  Animation.SlideOutRight.addKeyFrame(0, ["0px"]);
  _$jscoverage['js/vs_fx.js'][1399]++;
  Animation.SlideOutLeft = new Animation(["translateX", "-$width"]);
  _$jscoverage['js/vs_fx.js'][1400]++;
  Animation.SlideOutLeft.addKeyFrame(0, ["0px"]);
  _$jscoverage['js/vs_fx.js'][1407]++;
  Animation.SlideOutTop = new Animation(["translateY", "-$height"]);
  _$jscoverage['js/vs_fx.js'][1408]++;
  Animation.SlideOutTop.addKeyFrame(0, ["0px"]);
  _$jscoverage['js/vs_fx.js'][1415]++;
  Animation.SlideOutBottom = new Animation(["translateY", "$height"]);
  _$jscoverage['js/vs_fx.js'][1416]++;
  Animation.SlideOutBottom.addKeyFrame(0, ["0px"]);
  _$jscoverage['js/vs_fx.js'][1423]++;
  Animation.SlideInRight = new Animation(["translateX", "0px"]);
  _$jscoverage['js/vs_fx.js'][1424]++;
  Animation.SlideInRight.addKeyFrame(0, ["$width"]);
  _$jscoverage['js/vs_fx.js'][1431]++;
  Animation.SlideInLeft = new Animation(["translateX", "0px"]);
  _$jscoverage['js/vs_fx.js'][1432]++;
  Animation.SlideInLeft.addKeyFrame(0, ["-$width"]);
  _$jscoverage['js/vs_fx.js'][1439]++;
  Animation.SlideInTop = new Animation(["translateY", "0px"]);
  _$jscoverage['js/vs_fx.js'][1440]++;
  Animation.SlideInTop.addKeyFrame(0, ["-$height"]);
  _$jscoverage['js/vs_fx.js'][1447]++;
  Animation.SlideInBottom = new Animation(["translateY", "0px"]);
  _$jscoverage['js/vs_fx.js'][1448]++;
  Animation.SlideInBottom.addKeyFrame(0, ["$height"]);
  _$jscoverage['js/vs_fx.js'][1455]++;
  Animation.FadeIn = new Animation(["opacity", "1"]);
  _$jscoverage['js/vs_fx.js'][1456]++;
  Animation.FadeIn.addKeyFrame(0, ["0"]);
  _$jscoverage['js/vs_fx.js'][1463]++;
  Animation.FadeOut = new Animation(["opacity", "0"]);
  _$jscoverage['js/vs_fx.js'][1464]++;
  Animation.FadeOut.addKeyFrame(0, ["1"]);
  _$jscoverage['js/vs_fx.js'][1470]++;
  fx.Animation = Animation;
  _$jscoverage['js/vs_fx.js'][1471]++;
  fx.cancelAnimation = cancelAnimation;
  _$jscoverage['js/vs_fx.js'][1472]++;
  fx.TranslateAnimation = TranslateAnimation;
  _$jscoverage['js/vs_fx.js'][1473]++;
  fx.RotateAnimation = RotateAnimation;
  _$jscoverage['js/vs_fx.js'][1474]++;
  fx.RotateXYZAnimation = RotateXYZAnimation;
  _$jscoverage['js/vs_fx.js'][1475]++;
  fx.ScaleAnimation = ScaleAnimation;
  _$jscoverage['js/vs_fx.js'][1476]++;
  fx.SkewAnimation = SkewAnimation;
  _$jscoverage['js/vs_fx.js'][1477]++;
  fx.OpacityAnimation = OpacityAnimation;
  _$jscoverage['js/vs_fx.js'][1576]++;
  function Controller(owner) {
    _$jscoverage['js/vs_fx.js'][1578]++;
    this.parent = core.EventSource;
    _$jscoverage['js/vs_fx.js'][1579]++;
    this.parent();
    _$jscoverage['js/vs_fx.js'][1580]++;
    this.constructor = Controller;
    _$jscoverage['js/vs_fx.js'][1582]++;
    if (owner) {
      _$jscoverage['js/vs_fx.js'][1584]++;
      this._fsm = new (core.Fsm)(this);
      _$jscoverage['js/vs_fx.js'][1587]++;
      this._fsm.goTo = this.goTo;
      _$jscoverage['js/vs_fx.js'][1588]++;
      this._owner = owner;
    }
}
  _$jscoverage['js/vs_fx.js'][1592]++;
  Controller.prototype = {_delegate: null, _owner: null, _fsm: null, _initial_component: null, destructor: (function () {
  _$jscoverage['js/vs_fx.js'][1628]++;
  if (this._owner) {
    _$jscoverage['js/vs_fx.js'][1630]++;
    this._owner.__controller__ = undefined;
    _$jscoverage['js/vs_fx.js'][1632]++;
    this._owner.remove = this._owner._ab_controller_remove;
    _$jscoverage['js/vs_fx.js'][1633]++;
    this._owner._ab_controller_remove = undefined;
  }
  _$jscoverage['js/vs_fx.js'][1636]++;
  this._delegate = undefined;
  _$jscoverage['js/vs_fx.js'][1638]++;
  util.free(this._fsm);
  _$jscoverage['js/vs_fx.js'][1639]++;
  core.EventSource.prototype.destructor.call(this);
}), initComponent: (function () {
  _$jscoverage['js/vs_fx.js'][1648]++;
  core.EventSource.prototype.initComponent.call(this);
  _$jscoverage['js/vs_fx.js'][1650]++;
  if (this._fsm) {
    _$jscoverage['js/vs_fx.js'][1650]++;
    this._fsm.init();
  }
  _$jscoverage['js/vs_fx.js'][1652]++;
  if ((! this._owner)) {
    _$jscoverage['js/vs_fx.js'][1654]++;
    console.error(("Invalid vs.fx.Controller, owner is null vs.fx.Controller.id = '" + this._id + "'"));
    _$jscoverage['js/vs_fx.js'][1655]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1657]++;
  if (this._owner.__controller__) {
    _$jscoverage['js/vs_fx.js'][1659]++;
    console.error("The owner already use a controller");
    _$jscoverage['js/vs_fx.js'][1660]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1662]++;
  this._owner.__controller__ = this;
  _$jscoverage['js/vs_fx.js'][1664]++;
  this._owner._ab_controller_remove = this._owner.remove;
  _$jscoverage['js/vs_fx.js'][1665]++;
  this._owner.remove = this.ab_controller_remove;
}), ab_controller_remove: (function (child) {
  _$jscoverage['js/vs_fx.js'][1679]++;
  if ((! child)) {
    _$jscoverage['js/vs_fx.js'][1679]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1681]++;
  state = this.__controller__._fsm._list_of_state[child.id];
  _$jscoverage['js/vs_fx.js'][1682]++;
  if (state) {
    _$jscoverage['js/vs_fx.js'][1684]++;
    this.__controller__.remove(child);
  }
  else {
    _$jscoverage['js/vs_fx.js'][1688]++;
    this._ab_controller_remove(child);
  }
}), isStateExit: (function (id) {
  _$jscoverage['js/vs_fx.js'][1707]++;
  if ((! this._fsm)) {
    _$jscoverage['js/vs_fx.js'][1707]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][1709]++;
  if (this._fsm._list_of_state[id]) {
    _$jscoverage['js/vs_fx.js'][1710]++;
    return true;
  }
  _$jscoverage['js/vs_fx.js'][1712]++;
  return false;
}), add: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][1722]++;
  console.warn("vs.fx.Controller.add is deprecated. Use vs.fx.Controller.push");
  _$jscoverage['js/vs_fx.js'][1723]++;
  return this.push(comp, data, extension, bindings);
}), push: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][1754]++;
  if (((! comp) || (! this._fsm))) {
    _$jscoverage['js/vs_fx.js'][1754]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1755]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][1755]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][1757]++;
  var state_id = null, binding, i, state;
  _$jscoverage['js/vs_fx.js'][1758]++;
  if ((util.isString(comp) && data.id)) {
    _$jscoverage['js/vs_fx.js'][1759]++;
    state_id = data.id;
  }
  else {
    _$jscoverage['js/vs_fx.js'][1760]++;
    if (((! util.isString(comp)) && comp.id)) {
      _$jscoverage['js/vs_fx.js'][1761]++;
      state_id = comp.id;
    }
    else {
      _$jscoverage['js/vs_fx.js'][1762]++;
      state_id = core.createId();
    }
  }
  _$jscoverage['js/vs_fx.js'][1764]++;
  if (this.isStateExit(state_id)) {
    _$jscoverage['js/vs_fx.js'][1765]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1767]++;
  this._fsm.addState(state_id);
  _$jscoverage['js/vs_fx.js'][1768]++;
  state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][1769]++;
  state.bindings = {};
  _$jscoverage['js/vs_fx.js'][1771]++;
  if ((bindings && bindings.length)) {
    _$jscoverage['js/vs_fx.js'][1773]++;
    for (i = 0; (i < bindings.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][1775]++;
      binding = bindings[i];
      _$jscoverage['js/vs_fx.js'][1776]++;
      if (((! binding) || (binding.length !== 3))) {
        _$jscoverage['js/vs_fx.js'][1778]++;
        console.warn("vs.fx.Controller.push: invalid binding information");
        _$jscoverage['js/vs_fx.js'][1779]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][1781]++;
      this.componentBind(state_id, binding[0], binding[1], binding[2]);
}
  }
  _$jscoverage['js/vs_fx.js'][1785]++;
  this.setStateComponentInformation(state_id, comp, extension, data);
  _$jscoverage['js/vs_fx.js'][1787]++;
  return state_id;
}), remove: (function (comp) {
  _$jscoverage['js/vs_fx.js'][1806]++;
  if (((! comp) || (! this._owner) || (! this._fsm))) {
    _$jscoverage['js/vs_fx.js'][1806]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1808]++;
  var state_id = null;
  _$jscoverage['js/vs_fx.js'][1809]++;
  if (util.isString(comp)) {
    _$jscoverage['js/vs_fx.js'][1810]++;
    state_id = comp;
  }
  else {
    _$jscoverage['js/vs_fx.js'][1811]++;
    if ((! util.isString(comp))) {
      _$jscoverage['js/vs_fx.js'][1812]++;
      state_id = comp.id;
    }
  }
  _$jscoverage['js/vs_fx.js'][1814]++;
  var state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][1815]++;
  if ((state && state.comp)) {
    _$jscoverage['js/vs_fx.js'][1817]++;
    this._owner._ab_controller_remove(state.comp);
  }
  _$jscoverage['js/vs_fx.js'][1819]++;
  this._fsm.removeState(state_id);
}), setStateComponentInformation: (function (state_id, comp, extension, init_data) {
  _$jscoverage['js/vs_fx.js'][1838]++;
  if (((! state_id) || (! this._fsm) || (! this._fsm.existState(state_id)))) {
    _$jscoverage['js/vs_fx.js'][1838]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1839]++;
  if (((! comp) || (! this._owner))) {
    _$jscoverage['js/vs_fx.js'][1839]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1841]++;
  if ((! init_data)) {
    _$jscoverage['js/vs_fx.js'][1841]++;
    init_data = {};
  }
  else {
    _$jscoverage['js/vs_fx.js'][1842]++;
    init_data = util.clone(init_data);
  }
  _$jscoverage['js/vs_fx.js'][1844]++;
  var state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][1845]++;
  state.init_data = init_data;
  _$jscoverage['js/vs_fx.js'][1847]++;
  if (util.isString(comp)) {
    _$jscoverage['js/vs_fx.js'][1849]++;
    state.comp_name = comp;
    _$jscoverage['js/vs_fx.js'][1850]++;
    state.comp = undefined;
  }
  else {
    _$jscoverage['js/vs_fx.js'][1854]++;
    state.comp_name = "";
    _$jscoverage['js/vs_fx.js'][1855]++;
    state.comp = comp;
    _$jscoverage['js/vs_fx.js'][1856]++;
    if ((! this._owner.isChild(comp))) {
      _$jscoverage['js/vs_fx.js'][1858]++;
      this._owner.add(comp, extension);
    }
  }
}), addTransition: (function (from, to, on, animation_out, animation_in) {
  _$jscoverage['js/vs_fx.js'][1884]++;
  var key, t;
  _$jscoverage['js/vs_fx.js'][1886]++;
  if (((! from) || (! this._fsm) || (! this._fsm.existState(from)))) {
    _$jscoverage['js/vs_fx.js'][1886]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1887]++;
  if (((! to) || (! this._fsm.existState(to)))) {
    _$jscoverage['js/vs_fx.js'][1887]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1888]++;
  if ((! on)) {
    _$jscoverage['js/vs_fx.js'][1888]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][1890]++;
  if ((! this._fsm.existInput(on))) {
    _$jscoverage['js/vs_fx.js'][1892]++;
    this._fsm.addInput(on);
  }
  _$jscoverage['js/vs_fx.js'][1895]++;
  this._fsm.addTransition(from, to, on);
  _$jscoverage['js/vs_fx.js'][1897]++;
  for (key in this._fsm._list_of_state[from].transitionEvents) {
    _$jscoverage['js/vs_fx.js'][1899]++;
    t = this._fsm._list_of_state[from].transitionEvents[key];
    _$jscoverage['js/vs_fx.js'][1900]++;
    if ((t.to !== to)) {
      _$jscoverage['js/vs_fx.js'][1900]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][1902]++;
    t.animation_out = animation_out;
    _$jscoverage['js/vs_fx.js'][1903]++;
    t.animation_in = animation_in;
}
}), _animateComponents: (function (fromComp, toComp, animationOut, animationIn, animation_clb, instant) {
  _$jscoverage['js/vs_fx.js'][1913]++;
  var self = this, runAnimation, callback = (function () {
  _$jscoverage['js/vs_fx.js'][1915]++;
  try {
    _$jscoverage['js/vs_fx.js'][1917]++;
    if (animation_clb) {
      _$jscoverage['js/vs_fx.js'][1919]++;
      animation_clb.call(self._owner);
    }
    _$jscoverage['js/vs_fx.js'][1921]++;
    if ((self._delegate && self._delegate.animationDidEnd)) {
      _$jscoverage['js/vs_fx.js'][1923]++;
      console.warn("animationDidEnd is deprecated. Please use 'controllerAnimationDidEnd'.");
      _$jscoverage['js/vs_fx.js'][1924]++;
      self._delegate.animationDidEnd(self);
    }
    _$jscoverage['js/vs_fx.js'][1926]++;
    if ((self._delegate && self._delegate.controllerAnimationDidEnd)) {
      _$jscoverage['js/vs_fx.js'][1928]++;
      self._delegate.controllerAnimationDidEnd(fromComp, toComp, self);
    }
  }
  catch (e) {
    _$jscoverage['js/vs_fx.js'][1930]++;
    console.error(e);
  }
});
  _$jscoverage['js/vs_fx.js'][1932]++;
  runAnimation = (function () {
  _$jscoverage['js/vs_fx.js'][1934]++;
  try {
    _$jscoverage['js/vs_fx.js'][1936]++;
    toComp.show();
    _$jscoverage['js/vs_fx.js'][1937]++;
    if (((! animationIn) && (! animationOut))) {
      _$jscoverage['js/vs_fx.js'][1939]++;
      callback.call(self);
      _$jscoverage['js/vs_fx.js'][1940]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][1942]++;
    if (instant) {
      _$jscoverage['js/vs_fx.js'][1944]++;
      if (animationIn) {
        _$jscoverage['js/vs_fx.js'][1946]++;
        var inDurations = animationIn.durations;
        _$jscoverage['js/vs_fx.js'][1947]++;
        animationIn.durations = "0s";
      }
      _$jscoverage['js/vs_fx.js'][1949]++;
      if (animationOut) {
        _$jscoverage['js/vs_fx.js'][1951]++;
        var outDurations = animationOut.durations;
        _$jscoverage['js/vs_fx.js'][1952]++;
        animationOut.durations = "0s";
      }
    }
    _$jscoverage['js/vs_fx.js'][1955]++;
    if ((animationIn && (! animationOut))) {
      _$jscoverage['js/vs_fx.js'][1957]++;
      animationIn.process(toComp, callback, self);
    }
    else {
      _$jscoverage['js/vs_fx.js'][1959]++;
      if (((! animationIn) && animationOut)) {
        _$jscoverage['js/vs_fx.js'][1961]++;
        animationOut.process(fromComp, callback, self);
      }
      else {
        _$jscoverage['js/vs_fx.js'][1965]++;
        if (animationIn) {
          _$jscoverage['js/vs_fx.js'][1965]++;
          animationIn.process(toComp, callback, self);
        }
        _$jscoverage['js/vs_fx.js'][1966]++;
        if (animationOut) {
          _$jscoverage['js/vs_fx.js'][1966]++;
          animationOut.process(fromComp);
        }
      }
    }
    _$jscoverage['js/vs_fx.js'][1968]++;
    if (instant) {
      _$jscoverage['js/vs_fx.js'][1970]++;
      if (animationIn) {
        _$jscoverage['js/vs_fx.js'][1970]++;
        animationIn.durations = inDurations;
      }
      _$jscoverage['js/vs_fx.js'][1971]++;
      if (animationOut) {
        _$jscoverage['js/vs_fx.js'][1971]++;
        animationOut.durations = outDurations;
      }
    }
  }
  catch (e) {
    _$jscoverage['js/vs_fx.js'][1974]++;
    console.error(e);
  }
});
  _$jscoverage['js/vs_fx.js'][1976]++;
  window.setTimeout((function () {
  _$jscoverage['js/vs_fx.js'][1976]++;
  runAnimation();
}), 0);
}), componentBind: (function (comp_id, event, obj, func) {
  _$jscoverage['js/vs_fx.js'][2002]++;
  if ((! this._fsm)) {
    _$jscoverage['js/vs_fx.js'][2002]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2004]++;
  var state = this._fsm._list_of_state[comp_id], a;
  _$jscoverage['js/vs_fx.js'][2006]++;
  if ((! state)) {
    _$jscoverage['js/vs_fx.js'][2006]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2008]++;
  a = state.bindings[event];
  _$jscoverage['js/vs_fx.js'][2009]++;
  if ((! a)) {
    _$jscoverage['js/vs_fx.js'][2011]++;
    a = [];
    _$jscoverage['js/vs_fx.js'][2012]++;
    state.bindings[event] = a;
  }
  _$jscoverage['js/vs_fx.js'][2015]++;
  a.push([obj, func]);
  _$jscoverage['js/vs_fx.js'][2016]++;
  if ((comp_id === this._current_state)) {
    _$jscoverage['js/vs_fx.js'][2018]++;
    state.comp.bind(event, obj, func);
  }
}), refresh: (function () {
}), getCurrentState: (function () {
  _$jscoverage['js/vs_fx.js'][2044]++;
  if ((! this._fsm)) {
    _$jscoverage['js/vs_fx.js'][2044]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2046]++;
  return this._fsm._current_state;
}), configureNewComponent: (function (comp) {
}), _beforeStateEnter: (function (state, data) {
  _$jscoverage['js/vs_fx.js'][2063]++;
  if (((! state) || (! (state.comp_name || state.comp)))) {
    _$jscoverage['js/vs_fx.js'][2063]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2065]++;
  var spec, events, i, key, e, new_data;
  _$jscoverage['js/vs_fx.js'][2069]++;
  if ((! state.comp)) {
    _$jscoverage['js/vs_fx.js'][2071]++;
    state.comp = this._owner.createAndAddComponent(state.comp_name, state.init_data, state.extension);
    _$jscoverage['js/vs_fx.js'][2074]++;
    state.comp.configure(state.init_data);
    _$jscoverage['js/vs_fx.js'][2075]++;
    if ((state.comp && state.comp.propertiesDidChange)) {
      _$jscoverage['js/vs_fx.js'][2077]++;
      state.comp.propertiesDidChange();
    }
    _$jscoverage['js/vs_fx.js'][2079]++;
    state.comp.propertyChange();
    _$jscoverage['js/vs_fx.js'][2080]++;
    this.configureNewComponent(state.comp);
  }
  _$jscoverage['js/vs_fx.js'][2085]++;
  new_data = data;
  _$jscoverage['js/vs_fx.js'][2087]++;
  if (state.data_adaptation_func) {
    _$jscoverage['js/vs_fx.js'][2089]++;
    new_data = state.data_adaptation_func(data);
  }
  _$jscoverage['js/vs_fx.js'][2092]++;
  if (new_data) {
    _$jscoverage['js/vs_fx.js'][2095]++;
    for (key in new_data) {
      _$jscoverage['js/vs_fx.js'][2097]++;
      if (((! state.comp.__lookupSetter__(key)) && (! state.comp.hasOwnProperty(key)))) {
        _$jscoverage['js/vs_fx.js'][2100]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2102]++;
      state.comp[key] = new_data[key];
}
    _$jscoverage['js/vs_fx.js'][2106]++;
    state.comp.propertyChange();
  }
  _$jscoverage['js/vs_fx.js'][2111]++;
  for (spec in state.bindings) {
    _$jscoverage['js/vs_fx.js'][2113]++;
    events = state.bindings[spec];
    _$jscoverage['js/vs_fx.js'][2114]++;
    if ((! events)) {
      _$jscoverage['js/vs_fx.js'][2114]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][2116]++;
    for (i = 0; (i < events.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][2118]++;
      e = events[i];
      _$jscoverage['js/vs_fx.js'][2119]++;
      if ((! e)) {
        _$jscoverage['js/vs_fx.js'][2119]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2120]++;
      if (e[1]) {
        _$jscoverage['js/vs_fx.js'][2120]++;
        state.comp.bind(spec, e[0], e[1]);
      }
      else {
        _$jscoverage['js/vs_fx.js'][2121]++;
        state.comp.bind(spec, e[0]);
      }
}
}
}), _beforeStateExit: (function (state) {
  _$jscoverage['js/vs_fx.js'][2132]++;
  if (((! state) || (! state.comp))) {
    _$jscoverage['js/vs_fx.js'][2132]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2134]++;
  var spec, events, i, e;
  _$jscoverage['js/vs_fx.js'][2138]++;
  for (spec in state.bindings) {
    _$jscoverage['js/vs_fx.js'][2140]++;
    events = state.bindings[spec];
    _$jscoverage['js/vs_fx.js'][2141]++;
    if ((! events)) {
      _$jscoverage['js/vs_fx.js'][2141]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][2143]++;
    for (i = 0; (i < events.length); (i++)) {
      _$jscoverage['js/vs_fx.js'][2145]++;
      e = events[i];
      _$jscoverage['js/vs_fx.js'][2146]++;
      if ((! e)) {
        _$jscoverage['js/vs_fx.js'][2146]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2147]++;
      if (e[1]) {
        _$jscoverage['js/vs_fx.js'][2147]++;
        state.comp.unbind(spec, e[0], e[1]);
      }
      else {
        _$jscoverage['js/vs_fx.js'][2148]++;
        state.comp.bind(spec, e[0]);
      }
}
}
}), goTo: (function (state_id, output, event, instant) {
  _$jscoverage['js/vs_fx.js'][2172]++;
  var state_from, state_to, transition = null;
  _$jscoverage['js/vs_fx.js'][2174]++;
  if (((! state_id) || (! this._list_of_state[state_id]))) {
    _$jscoverage['js/vs_fx.js'][2176]++;
    console.warn(("vs.fx.Controller.goTo unknown State id:" + state_id));
    _$jscoverage['js/vs_fx.js'][2177]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][2181]++;
  if (this._current_state) {
    _$jscoverage['js/vs_fx.js'][2183]++;
    if (event) {
      _$jscoverage['js/vs_fx.js'][2185]++;
      transition = this._list_of_state[this._current_state].transitionEvents[event.on];
    }
    _$jscoverage['js/vs_fx.js'][2188]++;
    state_from = this._list_of_state[this._current_state];
    _$jscoverage['js/vs_fx.js'][2189]++;
    this.owner._beforeStateExit(state_from);
  }
  _$jscoverage['js/vs_fx.js'][2193]++;
  this._current_state = state_id;
  _$jscoverage['js/vs_fx.js'][2196]++;
  state_to = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][2197]++;
  this.owner._beforeStateEnter(state_to, (event? event.data: null));
  _$jscoverage['js/vs_fx.js'][2199]++;
  if ((state_from && state_from.comp && state_from.comp.viewWillDisappear)) {
    _$jscoverage['js/vs_fx.js'][2201]++;
    state_from.comp.viewWillDisappear();
  }
  _$jscoverage['js/vs_fx.js'][2203]++;
  if (state_to.comp.viewWillAppear) {
    _$jscoverage['js/vs_fx.js'][2205]++;
    state_to.comp.viewWillAppear();
  }
  _$jscoverage['js/vs_fx.js'][2207]++;
  if ((this.owner._delegate && this.owner._delegate.controllerViewWillChange)) {
    _$jscoverage['js/vs_fx.js'][2209]++;
    if (state_from) {
      _$jscoverage['js/vs_fx.js'][2211]++;
      this.owner._delegate.controllerViewWillChange(state_from.comp, state_to.comp, this.owner);
    }
    else {
      _$jscoverage['js/vs_fx.js'][2216]++;
      this.owner._delegate.controllerViewWillChange(null, state_to.comp, this.owner);
    }
  }
  _$jscoverage['js/vs_fx.js'][2221]++;
  if (transition) {
    _$jscoverage['js/vs_fx.js'][2223]++;
    this.owner._animateComponents(state_from.comp, state_to.comp, transition.animation_out, transition.animation_in, null, instant);
  }
  else {
    _$jscoverage['js/vs_fx.js'][2230]++;
    state_to.comp.show();
  }
  _$jscoverage['js/vs_fx.js'][2233]++;
  if ((output && this._output_action[output])) {
    _$jscoverage['js/vs_fx.js'][2235]++;
    var clb = this._output_action[output];
    _$jscoverage['js/vs_fx.js'][2236]++;
    if ((clb instanceof Function)) {
      _$jscoverage['js/vs_fx.js'][2238]++;
      clb.call(this._owner, event);
    }
    else {
      _$jscoverage['js/vs_fx.js'][2240]++;
      if (util.isString(clb)) {
        _$jscoverage['js/vs_fx.js'][2242]++;
        (this._owner[this._output_action[output]])(event);
      }
    }
  }
  _$jscoverage['js/vs_fx.js'][2246]++;
  return true;
}), notify: (function (event, instant) {
  _$jscoverage['js/vs_fx.js'][2255]++;
  if (((! this._fsm) || (! event) || (! event.type))) {
    _$jscoverage['js/vs_fx.js'][2255]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2256]++;
  this._fsm.fsmNotify(event.type, event.data, instant);
}), clear: (function () {
  _$jscoverage['js/vs_fx.js'][2272]++;
  if ((! this._fsm)) {
    _$jscoverage['js/vs_fx.js'][2272]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2274]++;
  this._fsm.clear();
})};
  _$jscoverage['js/vs_fx.js'][2277]++;
  util.extendClass(Controller, core.EventSource);
  _$jscoverage['js/vs_fx.js'][2283]++;
  util.defineClassProperties(Controller, {"initialComponent": {set: (function (comp_id) {
  _$jscoverage['js/vs_fx.js'][2298]++;
  if (((! this._fsm) || (! comp_id))) {
    _$jscoverage['js/vs_fx.js'][2300]++;
    this._initial_component = undefined;
    _$jscoverage['js/vs_fx.js'][2301]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2304]++;
  if ((! this._fsm.existState(comp_id))) {
    _$jscoverage['js/vs_fx.js'][2304]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2307]++;
  this._initial_component = comp_id;
  _$jscoverage['js/vs_fx.js'][2308]++;
  this._fsm.initialState = comp_id;
  _$jscoverage['js/vs_fx.js'][2310]++;
  this._fsm.goTo(comp_id);
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][2318]++;
  return this._initial_component;
})}, "delegate": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][2340]++;
  this._delegate = v;
})}});
  _$jscoverage['js/vs_fx.js'][2348]++;
  fx.Controller = Controller;
  _$jscoverage['js/vs_fx.js'][2390]++;
  function StackController(owner) {
    _$jscoverage['js/vs_fx.js'][2392]++;
    this.parent = Controller;
    _$jscoverage['js/vs_fx.js'][2393]++;
    this.parent(owner);
    _$jscoverage['js/vs_fx.js'][2394]++;
    this.constructor = StackController;
    _$jscoverage['js/vs_fx.js'][2396]++;
    if ((! arguments.length)) {
      _$jscoverage['js/vs_fx.js'][2396]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][2398]++;
    this._fsm.addInput(StackController.NEXT);
    _$jscoverage['js/vs_fx.js'][2399]++;
    this._fsm.addInput(StackController.PRED);
    _$jscoverage['js/vs_fx.js'][2400]++;
    this._fsm.addInput(StackController.FIRST);
    _$jscoverage['js/vs_fx.js'][2402]++;
    this._states_array = new Array();
}
  _$jscoverage['js/vs_fx.js'][2409]++;
  StackController.ANIMATION_DURATION = 350;
  _$jscoverage['js/vs_fx.js'][2416]++;
  StackController.NEXT = "next";
  _$jscoverage['js/vs_fx.js'][2423]++;
  StackController.PRED = "pred";
  _$jscoverage['js/vs_fx.js'][2430]++;
  StackController.FIRST = "first";
  _$jscoverage['js/vs_fx.js'][2432]++;
  StackController.prototype = {_is_tactile: false, _owner_handler_event_extended: false, _owner_handler_event: null, _animation_duration: StackController.ANIMATION_DURATION, _last_comp_id: null, _states_array: null, __nb_panels: 0, _view_size: null, destructor: (function () {
  _$jscoverage['js/vs_fx.js'][2497]++;
  (delete this._states_array);
  _$jscoverage['js/vs_fx.js'][2499]++;
  Controller.prototype.destructor.call(this);
}), initComponent: (function () {
  _$jscoverage['js/vs_fx.js'][2508]++;
  Controller.prototype.initComponent.call(this);
  _$jscoverage['js/vs_fx.js'][2510]++;
  this.isTactile = this._is_tactile;
  _$jscoverage['js/vs_fx.js'][2511]++;
  this._updateViewSize();
}), push: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][2546]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][2546]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2547]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][2547]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][2549]++;
  var state_id = Controller.prototype.push.call(this, comp, data, extension, bindings);
  _$jscoverage['js/vs_fx.js'][2551]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][2551]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2553]++;
  this._states_array.push(state_id);
  _$jscoverage['js/vs_fx.js'][2554]++;
  (this.__nb_panels++);
  _$jscoverage['js/vs_fx.js'][2557]++;
  if ((this.__nb_panels === 1)) {
    _$jscoverage['js/vs_fx.js'][2559]++;
    this.initialComponent = state_id;
    _$jscoverage['js/vs_fx.js'][2560]++;
    this._last_comp_id = state_id;
    _$jscoverage['js/vs_fx.js'][2562]++;
    return state_id;
  }
  _$jscoverage['js/vs_fx.js'][2565]++;
  this.addTransition(this._last_comp_id, state_id, StackController.NEXT);
  _$jscoverage['js/vs_fx.js'][2566]++;
  this.addTransition(state_id, this._last_comp_id, StackController.PRED);
  _$jscoverage['js/vs_fx.js'][2567]++;
  this.addTransition(state_id, this._initial_component, StackController.FIRST);
  _$jscoverage['js/vs_fx.js'][2571]++;
  if ((this._last_comp_id === this._initial_state)) {
    _$jscoverage['js/vs_fx.js'][2573]++;
    state = this._fsm._list_of_state[state_id];
    _$jscoverage['js/vs_fx.js'][2574]++;
    if ((! state)) {
      _$jscoverage['js/vs_fx.js'][2576]++;
      console.error("Unknown error in vs.fx.StackController.push");
      _$jscoverage['js/vs_fx.js'][2577]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][2579]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][2581]++;
      state.comp = this._owner.createAndAddComponent(state.comp_name, state.init_data, extension);
      _$jscoverage['js/vs_fx.js'][2584]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][2585]++;
      state.comp.setStyle("position", "absolute");
      _$jscoverage['js/vs_fx.js'][2586]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][2588]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][2590]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][2593]++;
    state.comp.show();
  }
  _$jscoverage['js/vs_fx.js'][2596]++;
  this._last_comp_id = state_id;
  _$jscoverage['js/vs_fx.js'][2597]++;
  return state_id;
}), _updateViewSize: (function () {
}), remove: (function (comp) {
  _$jscoverage['js/vs_fx.js'][2623]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][2623]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2625]++;
  var state_id = null;
  _$jscoverage['js/vs_fx.js'][2626]++;
  if (util.isString(comp)) {
    _$jscoverage['js/vs_fx.js'][2627]++;
    state_id = comp;
  }
  else {
    _$jscoverage['js/vs_fx.js'][2628]++;
    if ((! util.isString(comp))) {
      _$jscoverage['js/vs_fx.js'][2629]++;
      state_id = comp.id;
    }
  }
  _$jscoverage['js/vs_fx.js'][2631]++;
  var pos = this._states_array.findItem(state_id);
  _$jscoverage['js/vs_fx.js'][2632]++;
  if ((pos === -1)) {
    _$jscoverage['js/vs_fx.js'][2632]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2634]++;
  this._fsm.removeTransitionTo(state_id, StackController.NEXT);
  _$jscoverage['js/vs_fx.js'][2635]++;
  this._fsm.removeTransitionFrom(state_id, StackController.PRED);
  _$jscoverage['js/vs_fx.js'][2636]++;
  this._fsm.removeTransitionFrom(state_id, StackController.FIRST);
  _$jscoverage['js/vs_fx.js'][2638]++;
  this._states_array.remove(pos);
  _$jscoverage['js/vs_fx.js'][2640]++;
  (this.__nb_panels--);
  _$jscoverage['js/vs_fx.js'][2641]++;
  var state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][2643]++;
  if (((pos === 0) && (this.__nb_panels > 0))) {
    _$jscoverage['js/vs_fx.js'][2645]++;
    this._initial_component = this._states_array[0];
    _$jscoverage['js/vs_fx.js'][2648]++;
    for (var state_id_temp in this._states_array) {
      _$jscoverage['js/vs_fx.js'][2650]++;
      if ((state_id_temp === state_id)) {
        _$jscoverage['js/vs_fx.js'][2650]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2651]++;
      if ((state_id_temp === this._initial_component)) {
        _$jscoverage['js/vs_fx.js'][2651]++;
        continue;
      }
      _$jscoverage['js/vs_fx.js'][2653]++;
      this._fsm.removeTransitionFrom(state_id_temp, StackController.FIRST);
      _$jscoverage['js/vs_fx.js'][2654]++;
      this.addTransition(state_id_temp, this._initial_component, StackController.FIRST);
}
  }
  _$jscoverage['js/vs_fx.js'][2658]++;
  if ((this.__nb_panels === 0)) {
    _$jscoverage['js/vs_fx.js'][2660]++;
    this._initial_component = undefined;
    _$jscoverage['js/vs_fx.js'][2661]++;
    this._fsm._current_state = undefined;
  }
  _$jscoverage['js/vs_fx.js'][2664]++;
  if (this._initial_component) {
    _$jscoverage['js/vs_fx.js'][2666]++;
    if ((this._fsm._current_state === state_id)) {
      _$jscoverage['js/vs_fx.js'][2668]++;
      if ((pos === 0)) {
        _$jscoverage['js/vs_fx.js'][2670]++;
        this._fsm.goTo(this._initial_component);
      }
      else {
        _$jscoverage['js/vs_fx.js'][2674]++;
        if ((pos === this._states_array.length)) {
          _$jscoverage['js/vs_fx.js'][2674]++;
          (pos--);
        }
        _$jscoverage['js/vs_fx.js'][2675]++;
        this._fsm.goTo(this._states_array[pos]);
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][2680]++;
      this._fsm.goTo(this._fsm._current_state);
    }
  }
  _$jscoverage['js/vs_fx.js'][2683]++;
  Controller.prototype.remove.call(this, comp);
}), orientationDidChange: (function (orientation) {
  _$jscoverage['js/vs_fx.js'][2694]++;
  this._updateViewSize();
}), goToViewId: (function (id, instant) {
  _$jscoverage['js/vs_fx.js'][2711]++;
  var pos = this._states_array.findItem(id);
  _$jscoverage['js/vs_fx.js'][2712]++;
  if ((pos === -1)) {
    _$jscoverage['js/vs_fx.js'][2712]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][2714]++;
  this.goToViewAt(pos, instant);
}), goToViewAt: (function (pos, instant) {
  _$jscoverage['js/vs_fx.js'][2727]++;
  if ((pos < 0)) {
    _$jscoverage['js/vs_fx.js'][2727]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][2728]++;
  if ((pos > this._states_array.length)) {
    _$jscoverage['js/vs_fx.js'][2728]++;
    return false;
  }
  _$jscoverage['js/vs_fx.js'][2730]++;
  var current_pos = this._states_array.findItem(this._fsm._current_state);
  _$jscoverage['js/vs_fx.js'][2731]++;
  if ((current_pos === pos)) {
    _$jscoverage['js/vs_fx.js'][2731]++;
    return true;
  }
  _$jscoverage['js/vs_fx.js'][2733]++;
  if ((pos > current_pos)) {
    _$jscoverage['js/vs_fx.js'][2735]++;
    while ((current_pos < (pos - 1))) {
      _$jscoverage['js/vs_fx.js'][2737]++;
      this._fsm.fsmNotify(StackController.NEXT, null, true);
      _$jscoverage['js/vs_fx.js'][2738]++;
      (current_pos++);
}
    _$jscoverage['js/vs_fx.js'][2740]++;
    return this._fsm.fsmNotify(StackController.NEXT, instant);
  }
  else {
    _$jscoverage['js/vs_fx.js'][2744]++;
    while (((pos + 1) < current_pos)) {
      _$jscoverage['js/vs_fx.js'][2746]++;
      this._fsm.fsmNotify(StackController.PRED, null, true);
      _$jscoverage['js/vs_fx.js'][2747]++;
      (current_pos--);
}
    _$jscoverage['js/vs_fx.js'][2749]++;
    return this._fsm.fsmNotify(StackController.PRED, instant);
  }
}), goToNextView: (function (instant) {
  _$jscoverage['js/vs_fx.js'][2763]++;
  return this._fsm.fsmNotify(StackController.NEXT, null, instant);
}), goToPreviousView: (function (instant) {
  _$jscoverage['js/vs_fx.js'][2776]++;
  return this._fsm.fsmNotify(StackController.PRED, null, instant);
}), goToFirstView: (function (instant) {
  _$jscoverage['js/vs_fx.js'][2789]++;
  return this._fsm.fsmNotify(StackController.FIRST, instant);
}), handleEvent: (function (event) {
})};
  _$jscoverage['js/vs_fx.js'][2799]++;
  util.extendClass(StackController, Controller);
  _$jscoverage['js/vs_fx.js'][2805]++;
  util.defineClassProperties(StackController, {"viewSize": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][2816]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][2816]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2817]++;
  if (((! util.isArray(v)) || (v.length !== 2))) {
    _$jscoverage['js/vs_fx.js'][2817]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2818]++;
  if (((! util.isNumber(v[0])) || (! util.isNumber(v[1])))) {
    _$jscoverage['js/vs_fx.js'][2818]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2820]++;
  if ((! this._view_size)) {
    _$jscoverage['js/vs_fx.js'][2821]++;
    this._view_size = [];
  }
  _$jscoverage['js/vs_fx.js'][2823]++;
  this._view_size[0] = v[0];
  _$jscoverage['js/vs_fx.js'][2824]++;
  this._view_size[1] = v[1];
  _$jscoverage['js/vs_fx.js'][2826]++;
  this._updateViewSize();
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][2835]++;
  if ((! this._view_size)) {
    _$jscoverage['js/vs_fx.js'][2837]++;
    return this._owner.size;
  }
  _$jscoverage['js/vs_fx.js'][2839]++;
  return this._view_size.slice();
})}, "isTactile": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][2850]++;
  if (v) {
    _$jscoverage['js/vs_fx.js'][2852]++;
    this._is_tactile = true;
    _$jscoverage['js/vs_fx.js'][2854]++;
    if ((! this._owner_handler_event_extended)) {
      _$jscoverage['js/vs_fx.js'][2856]++;
      this._owner.view.addEventListener(core.POINTER_START, this._owner, false);
      _$jscoverage['js/vs_fx.js'][2857]++;
      this._owner_handler_event = this._owner.handleEvent;
      _$jscoverage['js/vs_fx.js'][2858]++;
      this._owner.handleEvent = this.handleEvent;
    }
    _$jscoverage['js/vs_fx.js'][2860]++;
    this._owner_handler_event_extended = true;
  }
  else {
    _$jscoverage['js/vs_fx.js'][2864]++;
    this._is_tactile = false;
    _$jscoverage['js/vs_fx.js'][2866]++;
    if (this._owner_handler_event_extended) {
      _$jscoverage['js/vs_fx.js'][2868]++;
      this._owner.view.removeEventListener(core.POINTER_START, this._owner, false);
      _$jscoverage['js/vs_fx.js'][2869]++;
      this._owner.handleEvent = this._owner_handler_event;
      _$jscoverage['js/vs_fx.js'][2871]++;
      this._owner_handler_event_extended = false;
    }
  }
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][2882]++;
  return this._is_tactile;
})}, "animationDuration": {set: (function (time) {
  _$jscoverage['js/vs_fx.js'][2893]++;
  if ((! time)) {
    _$jscoverage['js/vs_fx.js'][2893]++;
    time = 0;
  }
  _$jscoverage['js/vs_fx.js'][2894]++;
  if ((! util.isNumber(time))) {
    _$jscoverage['js/vs_fx.js'][2894]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][2894]++;
  ;
  _$jscoverage['js/vs_fx.js'][2896]++;
  this._animation_duration = time;
})}});
  _$jscoverage['js/vs_fx.js'][2904]++;
  fx.StackController = StackController;
  _$jscoverage['js/vs_fx.js'][2981]++;
  function SlideController(owner) {
    _$jscoverage['js/vs_fx.js'][2983]++;
    this.parent = StackController;
    _$jscoverage['js/vs_fx.js'][2984]++;
    this.parent(owner);
    _$jscoverage['js/vs_fx.js'][2985]++;
    this.constructor = SlideController;
    _$jscoverage['js/vs_fx.js'][2987]++;
    if ((! arguments.length)) {
      _$jscoverage['js/vs_fx.js'][2987]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][2989]++;
    this._transition_out_1 = new TranslateAnimation(0, 0, 0);
    _$jscoverage['js/vs_fx.js'][2990]++;
    this._transition_out_2 = new TranslateAnimation(0, 0, 0);
    _$jscoverage['js/vs_fx.js'][2991]++;
    this._transition_clear = new TranslateAnimation(0, 0, 0);
    _$jscoverage['js/vs_fx.js'][2993]++;
    this.animationDuration = SlideController.ANIMATION_DURATION;
}
  _$jscoverage['js/vs_fx.js'][3001]++;
  SlideController.ANIMATION_DURATION = 500;
  _$jscoverage['js/vs_fx.js'][3009]++;
  SlideController.HORIZONTAL = 0;
  _$jscoverage['js/vs_fx.js'][3017]++;
  SlideController.VERTICAL = 1;
  _$jscoverage['js/vs_fx.js'][3019]++;
  SlideController.prototype = {_delta: 0, _orientation: SlideController.HORIZONTAL, _transition_out_1: null, _transition_out_2: null, _transition_clear: null, _updateViewSize: (function () {
  _$jscoverage['js/vs_fx.js'][3068]++;
  var size = this.viewSize, i, state_id, state, transform;
  _$jscoverage['js/vs_fx.js'][3069]++;
  if ((this._orientation === SlideController.HORIZONTAL)) {
    _$jscoverage['js/vs_fx.js'][3071]++;
    this._transition_out_1.x = (- size[0]);
    _$jscoverage['js/vs_fx.js'][3072]++;
    this._transition_out_1.y = 0;
    _$jscoverage['js/vs_fx.js'][3073]++;
    this._transition_out_2.x = size[0];
    _$jscoverage['js/vs_fx.js'][3074]++;
    this._transition_out_2.y = 0;
  }
  else {
    _$jscoverage['js/vs_fx.js'][3076]++;
    if ((this._orientation === SlideController.VERTICAL)) {
      _$jscoverage['js/vs_fx.js'][3078]++;
      this._transition_out_1.x = 0;
      _$jscoverage['js/vs_fx.js'][3079]++;
      this._transition_out_1.y = (- size[1]);
      _$jscoverage['js/vs_fx.js'][3080]++;
      this._transition_out_2.x = 0;
      _$jscoverage['js/vs_fx.js'][3081]++;
      this._transition_out_2.y = size[1];
    }
  }
  _$jscoverage['js/vs_fx.js'][3085]++;
  if ((this._orientation === SlideController.HORIZONTAL)) {
    _$jscoverage['js/vs_fx.js'][3087]++;
    transform = ("translate3D(-" + size[0] + "px,0,0)");
  }
  else {
    _$jscoverage['js/vs_fx.js'][3089]++;
    if ((this._orientation === SlideController.VERTICAL)) {
      _$jscoverage['js/vs_fx.js'][3091]++;
      transform = ("translate3D(0,-" + size[1] + "px,0)");
    }
  }
  _$jscoverage['js/vs_fx.js'][3094]++;
  for (i = 0; (i < this._states_array.length); (i++)) {
    _$jscoverage['js/vs_fx.js'][3096]++;
    state_id = this._states_array[i];
    _$jscoverage['js/vs_fx.js'][3097]++;
    state = this._fsm._list_of_state[state_id];
    _$jscoverage['js/vs_fx.js'][3099]++;
    if (((! state) || (! state.comp))) {
      _$jscoverage['js/vs_fx.js'][3099]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3101]++;
    if ((this._fsm._current_state === state_id)) {
      _$jscoverage['js/vs_fx.js'][3104]++;
      if ((this._orientation === SlideController.HORIZONTAL)) {
        _$jscoverage['js/vs_fx.js'][3106]++;
        transform = ("translate3D(" + size[0] + "px,0,0)");
      }
      else {
        _$jscoverage['js/vs_fx.js'][3108]++;
        if ((this._orientation === SlideController.VERTICAL)) {
          _$jscoverage['js/vs_fx.js'][3110]++;
          transform = ("translate3D(0," + size[1] + "px,0)");
        }
      }
      _$jscoverage['js/vs_fx.js'][3114]++;
      state.comp.view.style.webkitTransitionDuration = "0";
      _$jscoverage['js/vs_fx.js'][3115]++;
      setElementTransform(state.comp.view, "translate3D(0,0,0)");
      _$jscoverage['js/vs_fx.js'][3116]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3119]++;
    state.comp.view.style.webkitTransitionDuration = "0";
    _$jscoverage['js/vs_fx.js'][3120]++;
    setElementTransform(state.comp.view, transform);
}
}), push: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][3151]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][3151]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3152]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][3152]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][3154]++;
  var state_id = Controller.prototype.push.call(this, comp, data, extension, bindings);
  _$jscoverage['js/vs_fx.js'][3156]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][3156]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3158]++;
  this._states_array.push(state_id);
  _$jscoverage['js/vs_fx.js'][3159]++;
  (this.__nb_panels++);
  _$jscoverage['js/vs_fx.js'][3162]++;
  if ((this.__nb_panels === 1)) {
    _$jscoverage['js/vs_fx.js'][3164]++;
    this.initialComponent = state_id;
    _$jscoverage['js/vs_fx.js'][3165]++;
    this._last_comp_id = state_id;
    _$jscoverage['js/vs_fx.js'][3167]++;
    return state_id;
  }
  _$jscoverage['js/vs_fx.js'][3170]++;
  this.addTransition(this._last_comp_id, state_id, StackController.NEXT, this._transition_out_1, this._transition_clear);
  _$jscoverage['js/vs_fx.js'][3172]++;
  this.addTransition(state_id, this._last_comp_id, StackController.PRED, this._transition_out_2, this._transition_clear);
  _$jscoverage['js/vs_fx.js'][3178]++;
  state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][3179]++;
  if ((! state)) {
    _$jscoverage['js/vs_fx.js'][3181]++;
    console.error("Unknown error in vs.fx.StackController.push");
    _$jscoverage['js/vs_fx.js'][3182]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3184]++;
  if ((this._last_comp_id === this._initial_component)) {
    _$jscoverage['js/vs_fx.js'][3186]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][3188]++;
      state.comp = this._owner.createAndAddComponent(state.comp_name, state.init_data, extension);
      _$jscoverage['js/vs_fx.js'][3191]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][3192]++;
      state.comp.setStyle("position", "absolute");
      _$jscoverage['js/vs_fx.js'][3193]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][3195]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][3197]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][3200]++;
    state.comp.show();
    _$jscoverage['js/vs_fx.js'][3201]++;
    state.comp.setStyle("z-index", this.__nb_panels);
    _$jscoverage['js/vs_fx.js'][3202]++;
    this.configureNewComponent(state.comp);
  }
  else {
    _$jscoverage['js/vs_fx.js'][3206]++;
    if (state.comp) {
      _$jscoverage['js/vs_fx.js'][3208]++;
      state.comp.setStyle("z-index", this.__nb_panels);
      _$jscoverage['js/vs_fx.js'][3209]++;
      this.configureNewComponent(state.comp);
    }
  }
  _$jscoverage['js/vs_fx.js'][3213]++;
  this._last_comp_id = state_id;
  _$jscoverage['js/vs_fx.js'][3214]++;
  return state_id;
}), configureNewComponent: (function (comp) {
  _$jscoverage['js/vs_fx.js'][3223]++;
  var transform, size;
  _$jscoverage['js/vs_fx.js'][3224]++;
  size = this.viewSize;
  _$jscoverage['js/vs_fx.js'][3225]++;
  if ((this._orientation === SlideController.HORIZONTAL)) {
    _$jscoverage['js/vs_fx.js'][3227]++;
    transform = ("translate3D(" + size[0] + "px,0,0)");
  }
  else {
    _$jscoverage['js/vs_fx.js'][3229]++;
    if ((this._orientation === SlideController.VERTICAL)) {
      _$jscoverage['js/vs_fx.js'][3231]++;
      transform = ("translate3D(0," + size[1] + "px,0)");
    }
  }
  _$jscoverage['js/vs_fx.js'][3234]++;
  comp.view.style.webkitTransitionDuration = "0";
  _$jscoverage['js/vs_fx.js'][3235]++;
  setElementTransform(comp.view, transform);
}), handleEvent: (function (event) {
  _$jscoverage['js/vs_fx.js'][3247]++;
  var t_ok = false, size = this.size, duration = this.__controller__._animation_duration;
  _$jscoverage['js/vs_fx.js'][3250]++;
  if ((event.type === core.POINTER_START)) {
    _$jscoverage['js/vs_fx.js'][3252]++;
    if ((this.__controller__._orientation === SlideController.HORIZONTAL)) {
      _$jscoverage['js/vs_fx.js'][3254]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][3255]++;
        this.__pos = event.changedTouches[0].clientX;
      }
      else {
        _$jscoverage['js/vs_fx.js'][3257]++;
        this.__pos = event.clientX;
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][3261]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][3262]++;
        this.__pos = event.changedTouches[0].clientY;
      }
      else {
        _$jscoverage['js/vs_fx.js'][3264]++;
        this.__pos = event.clientY;
      }
    }
    _$jscoverage['js/vs_fx.js'][3267]++;
    document.addEventListener(core.POINTER_END, this, true);
    _$jscoverage['js/vs_fx.js'][3268]++;
    document.addEventListener(core.POINTER_MOVE, this, true);
    _$jscoverage['js/vs_fx.js'][3270]++;
    this.animationDuration = 0;
    _$jscoverage['js/vs_fx.js'][3271]++;
    this.__delta = 0;
  }
  else {
    _$jscoverage['js/vs_fx.js'][3273]++;
    if ((event.type === core.POINTER_MOVE)) {
      _$jscoverage['js/vs_fx.js'][3275]++;
      event.preventDefault();
      _$jscoverage['js/vs_fx.js'][3276]++;
      if ((this.__controller__._orientation === SlideController.HORIZONTAL)) {
        _$jscoverage['js/vs_fx.js'][3278]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][3279]++;
          this.__delta = (event.changedTouches[0].clientX - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][3281]++;
          this.__delta = (event.clientX - this.__pos);
        }
      }
      else {
        _$jscoverage['js/vs_fx.js'][3285]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][3286]++;
          this.__delta = (event.changedTouches[0].clientY - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][3288]++;
          this.__delta = (event.clientY - this.__pos);
        }
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][3291]++;
      if ((event.type === core.POINTER_END)) {
        _$jscoverage['js/vs_fx.js'][3293]++;
        if ((this.__delta > 50)) {
          _$jscoverage['js/vs_fx.js'][3295]++;
          t_ok = this.__controller__.goToPreviousView();
        }
        else {
          _$jscoverage['js/vs_fx.js'][3297]++;
          if ((this.__delta < -50)) {
            _$jscoverage['js/vs_fx.js'][3299]++;
            t_ok = this.__controller__.goToNextView();
          }
        }
        _$jscoverage['js/vs_fx.js'][3301]++;
        if ((! t_ok)) {
          _$jscoverage['js/vs_fx.js'][3303]++;
          if ((this.__controller__._orientation === SlideController.HORIZONTAL)) {
            _$jscoverage['js/vs_fx.js'][3305]++;
            duration = Math.floor(((duration * this.__delta) / size[0]));
            _$jscoverage['js/vs_fx.js'][3306]++;
            this.animationDuration = duration;
          }
          else {
            _$jscoverage['js/vs_fx.js'][3310]++;
            duration = Math.floor(((duration * this.__delta) / size[1]));
            _$jscoverage['js/vs_fx.js'][3311]++;
            this.animationDuration = duration;
          }
        }
        _$jscoverage['js/vs_fx.js'][3315]++;
        document.removeEventListener(core.POINTER_END, this, true);
        _$jscoverage['js/vs_fx.js'][3316]++;
        document.removeEventListener(core.POINTER_MOVE, this, true);
      }
    }
  }
}), refresh: (function () {
  _$jscoverage['js/vs_fx.js'][3326]++;
  StackController.prototype.refresh.call(this);
  _$jscoverage['js/vs_fx.js'][3327]++;
  this._updateViewSize();
})};
  _$jscoverage['js/vs_fx.js'][3438]++;
  util.extendClass(SlideController, StackController);
  _$jscoverage['js/vs_fx.js'][3444]++;
  util.defineClassProperties(SlideController, {"orientation": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][3455]++;
  var state, state_id, i = 0, pos = 0;
  _$jscoverage['js/vs_fx.js'][3457]++;
  if (((v !== SlideController.HORIZONTAL) && (v !== SlideController.VERTICAL))) {
    _$jscoverage['js/vs_fx.js'][3458]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3460]++;
  this._orientation = v;
  _$jscoverage['js/vs_fx.js'][3461]++;
  this._updateViewSize();
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][3470]++;
  return this._orientation;
})}, "animationDuration": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][3481]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][3481]++;
    v = 0;
  }
  _$jscoverage['js/vs_fx.js'][3482]++;
  if ((! util.isNumber(v))) {
    _$jscoverage['js/vs_fx.js'][3482]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3482]++;
  ;
  _$jscoverage['js/vs_fx.js'][3484]++;
  this._animation_duration = v;
  _$jscoverage['js/vs_fx.js'][3485]++;
  this._transition_out_1.duration = (this._animation_duration + "ms");
  _$jscoverage['js/vs_fx.js'][3486]++;
  this._transition_out_2.duration = (this._animation_duration + "ms");
  _$jscoverage['js/vs_fx.js'][3487]++;
  this._transition_clear.duration = (this._animation_duration + "ms");
})}});
  _$jscoverage['js/vs_fx.js'][3495]++;
  fx.SlideController = SlideController;
  _$jscoverage['js/vs_fx.js'][3617]++;
  function NavigationController(owner, navBar, type) {
    _$jscoverage['js/vs_fx.js'][3619]++;
    this.parent = Controller;
    _$jscoverage['js/vs_fx.js'][3620]++;
    this.parent(owner);
    _$jscoverage['js/vs_fx.js'][3621]++;
    this.constructor = NavigationController;
    _$jscoverage['js/vs_fx.js'][3623]++;
    if ((! arguments.length)) {
      _$jscoverage['js/vs_fx.js'][3623]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][3625]++;
    if (((type == NavigationController.NO_ANIMATION) || (type == NavigationController.CARD_ANIMATION) || (type == NavigationController.SLIDE_ANIMATION))) {
      _$jscoverage['js/vs_fx.js'][3628]++;
      this._animation_type = type;
    }
    else {
      _$jscoverage['js/vs_fx.js'][3631]++;
      this._animation_type = NavigationController.DEFAULT_ANIMATION;
    }
    _$jscoverage['js/vs_fx.js'][3633]++;
    this.setNavigationBar(navBar);
    _$jscoverage['js/vs_fx.js'][3635]++;
    this.__nav_bar_states = {};
}
  _$jscoverage['js/vs_fx.js'][3647]++;
  NavigationController.NO_ANIMATION = 0;
  _$jscoverage['js/vs_fx.js'][3654]++;
  NavigationController.CARD_ANIMATION = 1;
  _$jscoverage['js/vs_fx.js'][3663]++;
  NavigationController.SLIDE_ANIMATION = 2;
  _$jscoverage['js/vs_fx.js'][3670]++;
  NavigationController.DEFAULT_ANIMATION = NavigationController.SLIDE_ANIMATION;
  _$jscoverage['js/vs_fx.js'][3676]++;
  NavigationController.BACK = "back";
  _$jscoverage['js/vs_fx.js'][3678]++;
  NavigationController.prototype = {_nav_bar: null, __nav_bar_states: null, _animation_type: NavigationController.DEFAULT_ANIMATION, destructor: (function () {
  _$jscoverage['js/vs_fx.js'][3708]++;
  Controller.prototype.destructor.call(this);
}), initComponent: (function () {
  _$jscoverage['js/vs_fx.js'][3717]++;
  Controller.prototype.initComponent.call(this);
  _$jscoverage['js/vs_fx.js'][3719]++;
  var size = this._owner.size;
  _$jscoverage['js/vs_fx.js'][3721]++;
  this.__translate_in_right = new TranslateAnimation(0);
  _$jscoverage['js/vs_fx.js'][3722]++;
  this.__translate_out_right = new TranslateAnimation(size[0]);
  _$jscoverage['js/vs_fx.js'][3723]++;
  this.__translate_out_left = new TranslateAnimation((- size[0]));
  _$jscoverage['js/vs_fx.js'][3724]++;
  this.__translate_in_left = new TranslateAnimation(0);
}), setNavigationBar: (function (navBar) {
  _$jscoverage['js/vs_fx.js'][3737]++;
  if (((! navBar) || ((! navBar) instanceof ui.NavigationBar))) {
    _$jscoverage['js/vs_fx.js'][3737]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3739]++;
  this._nav_bar = navBar;
}), refresh: (function () {
  _$jscoverage['js/vs_fx.js'][3748]++;
  Controller.prototype.refresh.call(this);
  _$jscoverage['js/vs_fx.js'][3749]++;
  this._updateViewSize();
}), _updateViewSize: (function () {
  _$jscoverage['js/vs_fx.js'][3758]++;
  var size = this.viewSize, i, state_id, state, transform;
  _$jscoverage['js/vs_fx.js'][3760]++;
  this.__translate_out_left.x = (- size[0]);
  _$jscoverage['js/vs_fx.js'][3761]++;
  this.__translate_out_right.x = size[0];
}), push: (function (comp, data, bindings) {
  _$jscoverage['js/vs_fx.js'][3801]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][3801]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3802]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][3802]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][3804]++;
  var size, state_id = Controller.prototype.push.call(this, comp, data, null, bindings);
  _$jscoverage['js/vs_fx.js'][3806]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][3806]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3808]++;
  var state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][3809]++;
  if ((state && state.comp)) {
    _$jscoverage['js/vs_fx.js'][3811]++;
    this.configureNewComponent(state.comp);
  }
  _$jscoverage['js/vs_fx.js'][3814]++;
  return state_id;
}), configureNavigationBarState: (function (state_id, configurations) {
  _$jscoverage['js/vs_fx.js'][3828]++;
  var state = this._fsm._list_of_state[state_id], comp, i, l, conf, components = [], state_conf = {};
  _$jscoverage['js/vs_fx.js'][3830]++;
  if (((! state) || (! configurations))) {
    _$jscoverage['js/vs_fx.js'][3831]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3833]++;
  for (((i = 0), (l = configurations.length)); (i < l); (i++)) {
    _$jscoverage['js/vs_fx.js'][3835]++;
    conf = configurations[i];
    _$jscoverage['js/vs_fx.js'][3836]++;
    if ((! conf)) {
      _$jscoverage['js/vs_fx.js'][3836]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3838]++;
    comp = conf.comp;
    _$jscoverage['js/vs_fx.js'][3839]++;
    if ((! comp)) {
      _$jscoverage['js/vs_fx.js'][3839]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3842]++;
    if (util.isString(comp)) {
      _$jscoverage['js/vs_fx.js'][3843]++;
      comp = core.Object._obs[comp];
    }
    _$jscoverage['js/vs_fx.js'][3845]++;
    if (((! comp) instanceof vs.ui.View)) {
      _$jscoverage['js/vs_fx.js'][3846]++;
      continue;
    }
    _$jscoverage['js/vs_fx.js'][3848]++;
    components.push(comp);
    _$jscoverage['js/vs_fx.js'][3849]++;
    if (conf.properties) {
      _$jscoverage['js/vs_fx.js'][3851]++;
      state_conf[comp.id] = conf.properties;
    }
}
  _$jscoverage['js/vs_fx.js'][3855]++;
  this.__nav_bar_states[state_id] = state_conf;
  _$jscoverage['js/vs_fx.js'][3856]++;
  if (this._nav_bar) {
    _$jscoverage['js/vs_fx.js'][3858]++;
    this._nav_bar.setStateItems(state_id, components);
  }
}), configureTransition: (function (from, to, on) {
  _$jscoverage['js/vs_fx.js'][3878]++;
  if (((! from) || (! this._fsm.existState(from)))) {
    _$jscoverage['js/vs_fx.js'][3878]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3879]++;
  if (((! to) || (! this._fsm.existState(to)))) {
    _$jscoverage['js/vs_fx.js'][3879]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3880]++;
  if ((! on)) {
    _$jscoverage['js/vs_fx.js'][3880]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3882]++;
  if ((! this._fsm.existInput(on))) {
    _$jscoverage['js/vs_fx.js'][3882]++;
    this._fsm.addInput(on);
  }
  _$jscoverage['js/vs_fx.js'][3884]++;
  if ((this._animation_type === NavigationController.SLIDE_ANIMATION)) {
    _$jscoverage['js/vs_fx.js'][3886]++;
    this.addTransition(from, to, on, this.__translate_out_left, this.__translate_in_right);
    _$jscoverage['js/vs_fx.js'][3889]++;
    this.addTransition(to, from, NavigationController.BACK, this.__translate_out_right, this.__translate_in_left);
    _$jscoverage['js/vs_fx.js'][3892]++;
    this.__translate_in_left.duration = "300ms";
    _$jscoverage['js/vs_fx.js'][3893]++;
    this.__translate_out_left.duration = "300ms";
    _$jscoverage['js/vs_fx.js'][3894]++;
    this.__translate_in_right.duration = "300ms";
    _$jscoverage['js/vs_fx.js'][3895]++;
    this.__translate_out_right.duration = "300ms";
  }
  else {
    _$jscoverage['js/vs_fx.js'][3897]++;
    if ((this._animation_type === NavigationController.CARD_ANIMATION)) {
      _$jscoverage['js/vs_fx.js'][3899]++;
      this.addTransition(from, to, on, null, this.__translate_in_right);
      _$jscoverage['js/vs_fx.js'][3902]++;
      this.addTransition(to, from, NavigationController.BACK, this.__translate_out_right, null);
      _$jscoverage['js/vs_fx.js'][3905]++;
      this.__translate_in_right.duration = "300ms";
      _$jscoverage['js/vs_fx.js'][3906]++;
      this.__translate_out_right.duration = "300ms";
    }
    else {
      _$jscoverage['js/vs_fx.js'][3910]++;
      this.addTransition(from, to, on, null, this.__translate_in_right);
      _$jscoverage['js/vs_fx.js'][3913]++;
      this.addTransition(to, from, NavigationController.BACK, this.__translate_out_right, null);
      _$jscoverage['js/vs_fx.js'][3916]++;
      this.__translate_in_right.duration = "0";
      _$jscoverage['js/vs_fx.js'][3917]++;
      this.__translate_out_right.duration = "0";
    }
  }
}), configureNewComponent: (function (comp) {
  _$jscoverage['js/vs_fx.js'][3932]++;
  var size = this.viewSize;
  _$jscoverage['js/vs_fx.js'][3934]++;
  comp.translation = [size[0], 0];
}), goTo: (function (state_id, output, event, instant) {
  _$jscoverage['js/vs_fx.js'][3952]++;
  var ok = Controller.prototype.goTo.call(this, state_id, output, event, instant);
  _$jscoverage['js/vs_fx.js'][3955]++;
  if ((ok && this.owner._nav_bar)) {
    _$jscoverage['js/vs_fx.js'][3957]++;
    this.owner._nav_bar.changeState(state_id, this.owner.__nav_bar_states[state_id]);
  }
})};
  _$jscoverage['js/vs_fx.js'][3962]++;
  util.extendClass(NavigationController, StackController);
  _$jscoverage['js/vs_fx.js'][3968]++;
  util.defineClassProperties(NavigationController, {"viewSize": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][3978]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][3978]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3979]++;
  if (((! util.isArray(v)) || (v.length !== 2))) {
    _$jscoverage['js/vs_fx.js'][3979]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3980]++;
  if (((! util.isNumber(v[0])) || (! util.isNumber(v[1])))) {
    _$jscoverage['js/vs_fx.js'][3980]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][3982]++;
  if ((! this._view_size)) {
    _$jscoverage['js/vs_fx.js'][3983]++;
    this._view_size = [];
  }
  _$jscoverage['js/vs_fx.js'][3985]++;
  this._view_size[0] = v[0];
  _$jscoverage['js/vs_fx.js'][3986]++;
  this._view_size[1] = v[1];
  _$jscoverage['js/vs_fx.js'][3988]++;
  this._updateViewSize();
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][3997]++;
  if ((! this._view_size)) {
    _$jscoverage['js/vs_fx.js'][3999]++;
    return this._owner.size;
  }
  _$jscoverage['js/vs_fx.js'][4001]++;
  return this._view_size.slice();
})}, "initialComponent": {set: (function (comp_id) {
  _$jscoverage['js/vs_fx.js'][4014]++;
  if ((! comp_id)) {
    _$jscoverage['js/vs_fx.js'][4016]++;
    this._initial_component = undefined;
    _$jscoverage['js/vs_fx.js'][4017]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4020]++;
  if ((! this._fsm.existState(comp_id))) {
    _$jscoverage['js/vs_fx.js'][4020]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4023]++;
  this._initial_component = comp_id;
  _$jscoverage['js/vs_fx.js'][4024]++;
  this._fsm.initialState = comp_id;
  _$jscoverage['js/vs_fx.js'][4026]++;
  this._fsm.goTo(comp_id);
  _$jscoverage['js/vs_fx.js'][4027]++;
  var state = this._fsm._list_of_state[comp_id];
  _$jscoverage['js/vs_fx.js'][4028]++;
  if ((state && state.comp)) {
    _$jscoverage['js/vs_fx.js'][4030]++;
    state.comp.translation = [0, 0];
  }
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][4039]++;
  return this._initial_component;
})}});
  _$jscoverage['js/vs_fx.js'][4047]++;
  fx.NavigationController = NavigationController;
  _$jscoverage['js/vs_fx.js'][4144]++;
  function CardController(owner) {
    _$jscoverage['js/vs_fx.js'][4146]++;
    this.parent = StackController;
    _$jscoverage['js/vs_fx.js'][4147]++;
    this.parent(owner);
    _$jscoverage['js/vs_fx.js'][4148]++;
    this.constructor = CardController;
    _$jscoverage['js/vs_fx.js'][4150]++;
    if (owner) {
      _$jscoverage['js/vs_fx.js'][4152]++;
      this._transition_out = new TranslateAnimation(0, 0, 0);
      _$jscoverage['js/vs_fx.js'][4153]++;
      this._transition_clear = new TranslateAnimation(0, 0, 0);
      _$jscoverage['js/vs_fx.js'][4155]++;
      this.animationDuration = CardController.ANIMATION_DURATION;
    }
}
  _$jscoverage['js/vs_fx.js'][4163]++;
  CardController.ANIMATION_DURATION = 500;
  _$jscoverage['js/vs_fx.js'][4170]++;
  CardController.LEFT_OUT = 0;
  _$jscoverage['js/vs_fx.js'][4177]++;
  CardController.RIGHT_OUT = 1;
  _$jscoverage['js/vs_fx.js'][4184]++;
  CardController.TOP_OUT = 2;
  _$jscoverage['js/vs_fx.js'][4191]++;
  CardController.BOTTOM_OUT = 3;
  _$jscoverage['js/vs_fx.js'][4193]++;
  CardController.prototype = {_direction: CardController.LEFT_OUT, _transition_out: null, _transition_clear: null, _updateViewSize: (function () {
  _$jscoverage['js/vs_fx.js'][4230]++;
  var size = this.viewSize;
  _$jscoverage['js/vs_fx.js'][4231]++;
  if ((! this._transition_out)) {
    _$jscoverage['js/vs_fx.js'][4231]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4233]++;
  if ((this._direction === CardController.LEFT_OUT)) {
    _$jscoverage['js/vs_fx.js'][4235]++;
    this._transition_out.x = (- size[0]);
    _$jscoverage['js/vs_fx.js'][4236]++;
    this._transition_out.y = 0;
  }
  else {
    _$jscoverage['js/vs_fx.js'][4238]++;
    if ((this._direction === CardController.RIGHT_OUT)) {
      _$jscoverage['js/vs_fx.js'][4240]++;
      this._transition_out.x = size[0];
      _$jscoverage['js/vs_fx.js'][4241]++;
      this._transition_out.y = 0;
    }
    else {
      _$jscoverage['js/vs_fx.js'][4243]++;
      if ((this._direction === CardController.BOTTOM_OUT)) {
        _$jscoverage['js/vs_fx.js'][4245]++;
        this._transition_out.x = 0;
        _$jscoverage['js/vs_fx.js'][4246]++;
        this._transition_out.y = size[1];
      }
      else {
        _$jscoverage['js/vs_fx.js'][4250]++;
        this._transition_out.x = 0;
        _$jscoverage['js/vs_fx.js'][4251]++;
        this._transition_out.y = (- size[1]);
      }
    }
  }
}), push: (function (comp, data, extension, bindings) {
  _$jscoverage['js/vs_fx.js'][4286]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][4286]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4287]++;
  if ((! data)) {
    _$jscoverage['js/vs_fx.js'][4287]++;
    data = {};
  }
  _$jscoverage['js/vs_fx.js'][4289]++;
  var state_id = Controller.prototype.push.call(this, comp, data, extension, bindings);
  _$jscoverage['js/vs_fx.js'][4291]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][4291]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4293]++;
  this._states_array.push(state_id);
  _$jscoverage['js/vs_fx.js'][4294]++;
  (this.__nb_panels++);
  _$jscoverage['js/vs_fx.js'][4297]++;
  if ((this.__nb_panels === 1)) {
    _$jscoverage['js/vs_fx.js'][4299]++;
    this.initialComponent = state_id;
    _$jscoverage['js/vs_fx.js'][4300]++;
    this._last_comp_id = state_id;
    _$jscoverage['js/vs_fx.js'][4302]++;
    return state_id;
  }
  _$jscoverage['js/vs_fx.js'][4305]++;
  this.addTransition(this._last_comp_id, state_id, StackController.NEXT, null, this._transition_clear);
  _$jscoverage['js/vs_fx.js'][4307]++;
  this.addTransition(state_id, this._last_comp_id, StackController.PRED, this._transition_out, null);
  _$jscoverage['js/vs_fx.js'][4313]++;
  state = this._fsm._list_of_state[state_id];
  _$jscoverage['js/vs_fx.js'][4314]++;
  if ((! state)) {
    _$jscoverage['js/vs_fx.js'][4316]++;
    console.error("Unknown error in vs.fx.StackController.push");
    _$jscoverage['js/vs_fx.js'][4317]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4319]++;
  if ((this._last_comp_id === this._initial_component)) {
    _$jscoverage['js/vs_fx.js'][4321]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][4323]++;
      state.comp = this._owner.createAndAddComponent(state.comp_name, state.init_data, extension);
      _$jscoverage['js/vs_fx.js'][4326]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][4327]++;
      state.comp.setStyle("position", "absolute");
      _$jscoverage['js/vs_fx.js'][4328]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][4330]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][4332]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][4335]++;
    state.comp.show();
    _$jscoverage['js/vs_fx.js'][4336]++;
    state.comp.setStyle("z-index", this.__nb_panels);
    _$jscoverage['js/vs_fx.js'][4337]++;
    this.configureNewComponent(state.comp);
  }
  else {
    _$jscoverage['js/vs_fx.js'][4341]++;
    if (state.comp) {
      _$jscoverage['js/vs_fx.js'][4343]++;
      state.comp.setStyle("z-index", this.__nb_panels);
      _$jscoverage['js/vs_fx.js'][4344]++;
      this.configureNewComponent(state.comp);
    }
  }
  _$jscoverage['js/vs_fx.js'][4348]++;
  this._last_comp_id = state_id;
  _$jscoverage['js/vs_fx.js'][4349]++;
  return state_id;
}), configureNewComponent: (function (comp) {
  _$jscoverage['js/vs_fx.js'][4358]++;
  var transform, size;
  _$jscoverage['js/vs_fx.js'][4359]++;
  size = this.viewSize;
  _$jscoverage['js/vs_fx.js'][4360]++;
  if (SUPPORT_3D_TRANSFORM) {
    _$jscoverage['js/vs_fx.js'][4360]++;
    transform = "translate3d";
  }
  else {
    _$jscoverage['js/vs_fx.js'][4361]++;
    transform = "translate";
  }
  _$jscoverage['js/vs_fx.js'][4362]++;
  if ((this._direction === CardController.LEFT_OUT)) {
    _$jscoverage['js/vs_fx.js'][4364]++;
    transform += ("(-" + size[0] + "px,0");
  }
  else {
    _$jscoverage['js/vs_fx.js'][4366]++;
    if ((this._direction === CardController.RIGHT_OUT)) {
      _$jscoverage['js/vs_fx.js'][4368]++;
      transform += ("(" + size[0] + "px,0");
    }
    else {
      _$jscoverage['js/vs_fx.js'][4370]++;
      if ((this._direction === CardController.BOTTOM_OUT)) {
        _$jscoverage['js/vs_fx.js'][4372]++;
        transform += ("(0," + size[1] + "px");
      }
      else {
        _$jscoverage['js/vs_fx.js'][4376]++;
        transform += ("(0,-" + size[1] + "px");
      }
    }
  }
  _$jscoverage['js/vs_fx.js'][4378]++;
  if (SUPPORT_3D_TRANSFORM) {
    _$jscoverage['js/vs_fx.js'][4378]++;
    transform += ",0)";
  }
  else {
    _$jscoverage['js/vs_fx.js'][4379]++;
    transform += ")";
  }
  _$jscoverage['js/vs_fx.js'][4381]++;
  comp.view.style.webkitTransitionDuration = "0";
  _$jscoverage['js/vs_fx.js'][4382]++;
  setElementTransform(comp.view, transform);
}), handleEvent: (function (event) {
  _$jscoverage['js/vs_fx.js'][4391]++;
  var t_ok = false, state, state_before_id, state_before, transform, index;
  _$jscoverage['js/vs_fx.js'][4393]++;
  if ((event.type === core.POINTER_START)) {
    _$jscoverage['js/vs_fx.js'][4395]++;
    if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.RIGHT_OUT))) {
      _$jscoverage['js/vs_fx.js'][4398]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][4399]++;
        this.__pos = event.changedTouches[0].clientX;
      }
      else {
        _$jscoverage['js/vs_fx.js'][4401]++;
        this.__pos = event.clientX;
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][4405]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][4406]++;
        this.__pos = event.changedTouches[0].clientY;
      }
      else {
        _$jscoverage['js/vs_fx.js'][4408]++;
        this.__pos = event.clientY;
      }
    }
    _$jscoverage['js/vs_fx.js'][4411]++;
    document.addEventListener(core.POINTER_END, this, true);
    _$jscoverage['js/vs_fx.js'][4412]++;
    document.addEventListener(core.POINTER_MOVE, this, true);
  }
  else {
    _$jscoverage['js/vs_fx.js'][4414]++;
    if ((event.type === core.POINTER_MOVE)) {
      _$jscoverage['js/vs_fx.js'][4416]++;
      event.preventDefault();
      _$jscoverage['js/vs_fx.js'][4417]++;
      state = this.__controller__._fsm._list_of_state[this.__controller__._fsm._current_state];
      _$jscoverage['js/vs_fx.js'][4419]++;
      index = this.__controller__._states_array.indexOf(this.__controller__._fsm._current_state);
      _$jscoverage['js/vs_fx.js'][4422]++;
      if ((index > 0)) {
        _$jscoverage['js/vs_fx.js'][4423]++;
        state_before_id = this.__controller__._states_array[(index - 1)];
      }
      _$jscoverage['js/vs_fx.js'][4425]++;
      if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.RIGHT_OUT))) {
        _$jscoverage['js/vs_fx.js'][4428]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][4429]++;
          this.__delta = (event.changedTouches[0].clientX - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4431]++;
          this.__delta = (event.clientX - this.__pos);
        }
        _$jscoverage['js/vs_fx.js'][4433]++;
        if (SUPPORT_3D_TRANSFORM) {
          _$jscoverage['js/vs_fx.js'][4434]++;
          transform = ("translate3d(" + this.__delta + "px,0px,0)");
        }
        else {
          _$jscoverage['js/vs_fx.js'][4435]++;
          transform = ("translate(" + this.__delta + "px,0px)");
        }
      }
      else {
        _$jscoverage['js/vs_fx.js'][4439]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][4440]++;
          this.__delta = (event.changedTouches[0].clientY - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4442]++;
          this.__delta = (event.clientY - this.__pos);
        }
        _$jscoverage['js/vs_fx.js'][4444]++;
        if (SUPPORT_3D_TRANSFORM) {
          _$jscoverage['js/vs_fx.js'][4445]++;
          transform = ("translate3d(0px," + this.__delta + "px,0)");
        }
        else {
          _$jscoverage['js/vs_fx.js'][4446]++;
          transform = ("translate(0px," + this.__delta + "px)");
        }
      }
      _$jscoverage['js/vs_fx.js'][4448]++;
      if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.TOP_OUT))) {
        _$jscoverage['js/vs_fx.js'][4451]++;
        if ((this.__delta < 0)) {
          _$jscoverage['js/vs_fx.js'][4453]++;
          state.comp.view.style.webkitTransitionDuration = 0;
          _$jscoverage['js/vs_fx.js'][4454]++;
          setElementTransform(state.comp.view, transform);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4456]++;
          if (state_before_id) {
            _$jscoverage['js/vs_fx.js'][4458]++;
            state_before = this.__controller__._fsm._list_of_state[state_before_id];
            _$jscoverage['js/vs_fx.js'][4460]++;
            if ((state_before && state_before.comp)) {
              _$jscoverage['js/vs_fx.js'][4462]++;
              if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.RIGHT_OUT))) {
                _$jscoverage['js/vs_fx.js'][4465]++;
                if (SUPPORT_3D_TRANSFORM) {
                  _$jscoverage['js/vs_fx.js'][4467]++;
                  transform = ("translate3d(" + (this.__delta - this._size[0]) + "px,0px,0)");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][4470]++;
                  transform = ("translate(" + (this.__delta - this._size[0]) + "px,0px)");
                }
              }
              else {
                _$jscoverage['js/vs_fx.js'][4475]++;
                if (SUPPORT_3D_TRANSFORM) {
                  _$jscoverage['js/vs_fx.js'][4477]++;
                  transform = ("translate3d(0px," + (this.__delta - this._size[1]) + "px,0)");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][4480]++;
                  transform = ("translate(0px," + (this.__delta - this._size[1]) + "px)");
                }
              }
              _$jscoverage['js/vs_fx.js'][4483]++;
              state_before.comp.view.style.webkitTransitionDuration = 0;
              _$jscoverage['js/vs_fx.js'][4484]++;
              setElementTransform(state_before.comp.view, transform);
            }
          }
        }
      }
      else {
        _$jscoverage['js/vs_fx.js'][4490]++;
        if ((this.__delta > 0)) {
          _$jscoverage['js/vs_fx.js'][4492]++;
          state.comp.view.style.webkitTransitionDuration = 0;
          _$jscoverage['js/vs_fx.js'][4493]++;
          setElementTransform(state.comp.view, transform);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4495]++;
          if (state_before_id) {
            _$jscoverage['js/vs_fx.js'][4497]++;
            state_before = this.__controller__._fsm._list_of_state[state_before_id];
            _$jscoverage['js/vs_fx.js'][4498]++;
            if ((state_before && state_before.comp)) {
              _$jscoverage['js/vs_fx.js'][4500]++;
              if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.RIGHT_OUT))) {
                _$jscoverage['js/vs_fx.js'][4503]++;
                if (SUPPORT_3D_TRANSFORM) {
                  _$jscoverage['js/vs_fx.js'][4505]++;
                  transform = ("translate3d(" + (this._size[0] + this.__delta) + "px,0px,0)");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][4508]++;
                  transform = ("translate(" + (this._size[0] + this.__delta) + "px,0px)");
                }
              }
              else {
                _$jscoverage['js/vs_fx.js'][4513]++;
                if (SUPPORT_3D_TRANSFORM) {
                  _$jscoverage['js/vs_fx.js'][4515]++;
                  transform = ("translate3d(0px," + (this._size[1] + this.__delta) + "px,0)");
                }
                else {
                  _$jscoverage['js/vs_fx.js'][4518]++;
                  transform = ("translate(0px," + (this._size[1] + this.__delta) + "px)");
                }
              }
              _$jscoverage['js/vs_fx.js'][4521]++;
              state_before.comp.view.style.webkitTransitionDuration = 0;
              _$jscoverage['js/vs_fx.js'][4522]++;
              setElementTransform(state_before.comp.view, transform);
            }
          }
        }
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][4527]++;
      if ((event.type === core.POINTER_END)) {
        _$jscoverage['js/vs_fx.js'][4529]++;
        state = this.__controller__._fsm._list_of_state[this.__controller__._fsm._current_state];
        _$jscoverage['js/vs_fx.js'][4531]++;
        if (((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.TOP_OUT))) {
          _$jscoverage['js/vs_fx.js'][4534]++;
          if ((this.__delta > 50)) {
            _$jscoverage['js/vs_fx.js'][4536]++;
            t_ok = this.__controller__.goToPreviousView();
          }
          else {
            _$jscoverage['js/vs_fx.js'][4538]++;
            if ((this.__delta < -50)) {
              _$jscoverage['js/vs_fx.js'][4540]++;
              t_ok = this.__controller__.goToNextView();
            }
          }
        }
        else {
          _$jscoverage['js/vs_fx.js'][4545]++;
          if ((this.__delta > 50)) {
            _$jscoverage['js/vs_fx.js'][4547]++;
            t_ok = this.__controller__.goToNextView();
          }
          else {
            _$jscoverage['js/vs_fx.js'][4549]++;
            if ((this.__delta < -50)) {
              _$jscoverage['js/vs_fx.js'][4551]++;
              t_ok = this.__controller__.goToPreviousView();
            }
          }
        }
        _$jscoverage['js/vs_fx.js'][4554]++;
        if ((! t_ok)) {
          _$jscoverage['js/vs_fx.js'][4556]++;
          index = this.__controller__._states_array.indexOf(this.__controller__._fsm._current_state);
          _$jscoverage['js/vs_fx.js'][4558]++;
          if ((index > 0)) {
            _$jscoverage['js/vs_fx.js'][4559]++;
            state_before_id = this.__controller__._states_array[(index - 1)];
          }
          _$jscoverage['js/vs_fx.js'][4561]++;
          if ((((this.__controller__._direction === CardController.LEFT_OUT) || (this.__controller__._direction === CardController.TOP_OUT)) && (this.__delta < 0))) {
            _$jscoverage['js/vs_fx.js'][4565]++;
            if (SUPPORT_3D_TRANSFORM) {
              _$jscoverage['js/vs_fx.js'][4566]++;
              transform = "translate3d(0,0,0)";
            }
            else {
              _$jscoverage['js/vs_fx.js'][4567]++;
              transform = "translate(0,0)";
            }
            _$jscoverage['js/vs_fx.js'][4569]++;
            state.comp.view.style.webkitTransitionDuration = (this.__controller__._animation_duration + "ms");
            _$jscoverage['js/vs_fx.js'][4571]++;
            setElementTransform(state.comp.view, transform);
          }
          else {
            _$jscoverage['js/vs_fx.js'][4573]++;
            if ((((this.__controller__._direction === CardController.RIGHT_OUT) || (this.__controller__._direction === CardController.BOTTOM_OUT)) && (this.__delta > 0))) {
              _$jscoverage['js/vs_fx.js'][4577]++;
              if (SUPPORT_3D_TRANSFORM) {
                _$jscoverage['js/vs_fx.js'][4578]++;
                transform = "translate3d(0,0,0)";
              }
              else {
                _$jscoverage['js/vs_fx.js'][4579]++;
                transform = "translate(0,0)";
              }
              _$jscoverage['js/vs_fx.js'][4581]++;
              state.comp.view.style.webkitTransitionDuration = (this.__controller__._animation_duration + "ms");
              _$jscoverage['js/vs_fx.js'][4583]++;
              setElementTransform(state.comp.view, transform);
            }
            else {
              _$jscoverage['js/vs_fx.js'][4585]++;
              if (state_before_id) {
                _$jscoverage['js/vs_fx.js'][4587]++;
                state_before = this.__controller__._fsm._list_of_state[state_before_id];
                _$jscoverage['js/vs_fx.js'][4588]++;
                if ((state_before && state_before.comp)) {
                  _$jscoverage['js/vs_fx.js'][4590]++;
                  if (SUPPORT_3D_TRANSFORM) {
                    _$jscoverage['js/vs_fx.js'][4590]++;
                    transform = "translate3d";
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][4591]++;
                    transform = "translate";
                  }
                  _$jscoverage['js/vs_fx.js'][4593]++;
                  if ((this.__controller__._direction === CardController.LEFT_OUT)) {
                    _$jscoverage['js/vs_fx.js'][4595]++;
                    transform = ("(-" + this._size[0] + "px,0px");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][4597]++;
                    if ((this.__controller__._direction === CardController.RIGHT_OUT)) {
                      _$jscoverage['js/vs_fx.js'][4599]++;
                      transform = ("(" + this._size[0] + "px,0px");
                    }
                    else {
                      _$jscoverage['js/vs_fx.js'][4601]++;
                      if ((this.__controller__._direction === CardController.BOTTOM_OUT)) {
                        _$jscoverage['js/vs_fx.js'][4603]++;
                        transform = ("(0px," + this._size[1] + "px");
                      }
                      else {
                        _$jscoverage['js/vs_fx.js'][4607]++;
                        transform = ("(0px,-" + this._size[1] + "px");
                      }
                    }
                  }
                  _$jscoverage['js/vs_fx.js'][4609]++;
                  if (SUPPORT_3D_TRANSFORM) {
                    _$jscoverage['js/vs_fx.js'][4609]++;
                    transform += ",0)";
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][4610]++;
                    transform += ")";
                  }
                  _$jscoverage['js/vs_fx.js'][4612]++;
                  state_before.comp.view.style.webkitTransitionDuration = (this.__controller__._animation_duration + "ms");
                  _$jscoverage['js/vs_fx.js'][4614]++;
                  setElementTransform(state_before.comp.view, transform);
                }
              }
            }
          }
        }
        _$jscoverage['js/vs_fx.js'][4618]++;
        document.removeEventListener(core.POINTER_END, this, true);
        _$jscoverage['js/vs_fx.js'][4619]++;
        document.removeEventListener(core.POINTER_MOVE, this, true);
      }
    }
  }
})};
  _$jscoverage['js/vs_fx.js'][4623]++;
  util.extendClass(CardController, StackController);
  _$jscoverage['js/vs_fx.js'][4629]++;
  util.defineClassProperties(CardController, {"direction": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][4639]++;
  var state, state_id, i = 0, pos = 0, index, transform = "", size = this._owner.size;
  _$jscoverage['js/vs_fx.js'][4642]++;
  if (((v !== CardController.LEFT_OUT) && (v !== CardController.RIGHT_OUT) && (v !== CardController.BOTTOM_OUT) && (v !== CardController.TOP_OUT))) {
    _$jscoverage['js/vs_fx.js'][4645]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4647]++;
  this._direction = v;
  _$jscoverage['js/vs_fx.js'][4648]++;
  this._updateViewSize();
}), get: (function () {
  _$jscoverage['js/vs_fx.js'][4657]++;
  return this._direction;
})}, "animationDuration": {set: (function (v) {
  _$jscoverage['js/vs_fx.js'][4668]++;
  if ((! v)) {
    _$jscoverage['js/vs_fx.js'][4668]++;
    v = 0;
  }
  _$jscoverage['js/vs_fx.js'][4669]++;
  if ((! util.isNumber(v))) {
    _$jscoverage['js/vs_fx.js'][4669]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4669]++;
  ;
  _$jscoverage['js/vs_fx.js'][4671]++;
  this._animation_duration = v;
  _$jscoverage['js/vs_fx.js'][4672]++;
  if (this._transition_out) {
    _$jscoverage['js/vs_fx.js'][4673]++;
    this._transition_out.duration = (this._animation_duration + "ms");
  }
  _$jscoverage['js/vs_fx.js'][4674]++;
  if (this._transition_clear) {
    _$jscoverage['js/vs_fx.js'][4675]++;
    this._transition_clear.duration = (this._animation_duration + "ms");
  }
})}});
  _$jscoverage['js/vs_fx.js'][4685]++;
  fx.CardController = CardController;
  _$jscoverage['js/vs_fx.js'][4772]++;
  function CubicController(owner, extension) {
    _$jscoverage['js/vs_fx.js'][4774]++;
    this.parent = StackController;
    _$jscoverage['js/vs_fx.js'][4775]++;
    this.parent(owner, extension);
    _$jscoverage['js/vs_fx.js'][4776]++;
    this.constructor = CubicController;
    _$jscoverage['js/vs_fx.js'][4778]++;
    if (owner) {
      _$jscoverage['js/vs_fx.js'][4778]++;
      owner.setStyle("-webkit-transform-style", "preserve-3d");
    }
}
  _$jscoverage['js/vs_fx.js'][4785]++;
  CubicController._translate_animation = new RotateXYZAnimation(-90, 0, 0);
  _$jscoverage['js/vs_fx.js'][4786]++;
  CubicController._translate_animation.init();
  _$jscoverage['js/vs_fx.js'][4787]++;
  CubicController._translate_animation.addKeyFrame("from", {degX: 0});
  _$jscoverage['js/vs_fx.js'][4788]++;
  CubicController._translate_animation.addKeyFrame(50, {degX: -92});
  _$jscoverage['js/vs_fx.js'][4789]++;
  CubicController._translate_animation.addKeyFrame(70, {degX: -84});
  _$jscoverage['js/vs_fx.js'][4790]++;
  CubicController._translate_animation.addKeyFrame(80, {degX: -90});
  _$jscoverage['js/vs_fx.js'][4791]++;
  CubicController._translate_animation.addKeyFrame(95, {degX: -88});
  _$jscoverage['js/vs_fx.js'][4792]++;
  CubicController._translate_animation.durations = "2s";
  _$jscoverage['js/vs_fx.js'][4798]++;
  CubicController.HORIZONTAL = 0;
  _$jscoverage['js/vs_fx.js'][4804]++;
  CubicController.VERTICAL = 1;
  _$jscoverage['js/vs_fx.js'][4807]++;
  CubicController.prototype = {_orientation: CubicController.HORIZONTAL, push: (function (comp, data, bindings) {
  _$jscoverage['js/vs_fx.js'][4851]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][4851]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][4853]++;
  if ((! util.isString(comp))) {
    _$jscoverage['js/vs_fx.js'][4855]++;
    var index = this._states_array.length;
    _$jscoverage['js/vs_fx.js'][4856]++;
    comp.position = [0, 0];
    _$jscoverage['js/vs_fx.js'][4857]++;
    comp.setStyle("z-index", (1000 - index));
  }
  _$jscoverage['js/vs_fx.js'][4859]++;
  return StackController.prototype.push.call(this, comp, data, bindings);
}), handleEvent: (function (event) {
  _$jscoverage['js/vs_fx.js'][4872]++;
  var t_ok = false, state, state_before_id, state_before, transform, index;
  _$jscoverage['js/vs_fx.js'][4874]++;
  if ((event.type === core.POINTER_START)) {
    _$jscoverage['js/vs_fx.js'][4876]++;
    if ((this.__layer._orientation === CubicController.HORIZONTAL)) {
      _$jscoverage['js/vs_fx.js'][4878]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][4879]++;
        this.__pos = event.changedTouches[0].clientX;
      }
      else {
        _$jscoverage['js/vs_fx.js'][4881]++;
        this.__pos = event.clientX;
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][4885]++;
      if (event.changedTouches) {
        _$jscoverage['js/vs_fx.js'][4886]++;
        this.__pos = event.changedTouches[0].clientY;
      }
      else {
        _$jscoverage['js/vs_fx.js'][4888]++;
        this.__pos = event.clientY;
      }
    }
    _$jscoverage['js/vs_fx.js'][4891]++;
    document.addEventListener(core.POINTER_END, this, true);
    _$jscoverage['js/vs_fx.js'][4892]++;
    document.addEventListener(core.POINTER_MOVE, this, true);
    _$jscoverage['js/vs_fx.js'][4894]++;
    this.animationDuration = 0;
  }
  else {
    _$jscoverage['js/vs_fx.js'][4896]++;
    if ((event.type === core.POINTER_MOVE)) {
      _$jscoverage['js/vs_fx.js'][4898]++;
      event.preventDefault();
      _$jscoverage['js/vs_fx.js'][4899]++;
      state = this.__layer._list_of_state[this.__layer._current_state];
      _$jscoverage['js/vs_fx.js'][4900]++;
      index = this.__layer._states_array.indexOf(this.__layer._current_state);
      _$jscoverage['js/vs_fx.js'][4902]++;
      if ((index > 0)) {
        _$jscoverage['js/vs_fx.js'][4902]++;
        state_before_id = this.__layer._states_array[(index - 1)];
      }
      _$jscoverage['js/vs_fx.js'][4904]++;
      if ((this.__layer._orientation === CubicController.HORIZONTAL)) {
        _$jscoverage['js/vs_fx.js'][4906]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][4907]++;
          this.__delta = (event.changedTouches[0].clientX - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4909]++;
          this.__delta = (event.clientX - this.__pos);
        }
        _$jscoverage['js/vs_fx.js'][4911]++;
        if (SUPPORT_3D_TRANSFORM) {
          _$jscoverage['js/vs_fx.js'][4912]++;
          transform = ("translate3d(" + this.__delta + "px,0px,0)");
        }
        else {
          _$jscoverage['js/vs_fx.js'][4913]++;
          transform = ("translate(" + this.__delta + "px,0px)");
        }
      }
      else {
        _$jscoverage['js/vs_fx.js'][4917]++;
        if (event.changedTouches) {
          _$jscoverage['js/vs_fx.js'][4918]++;
          this.__delta = (event.changedTouches[0].clientY - this.__pos);
        }
        else {
          _$jscoverage['js/vs_fx.js'][4920]++;
          this.__delta = (event.clientY - this.__pos);
        }
        _$jscoverage['js/vs_fx.js'][4922]++;
        if (SUPPORT_3D_TRANSFORM) {
          _$jscoverage['js/vs_fx.js'][4923]++;
          transform = ("translate3d(0px," + this.__delta + "px,0)");
        }
        else {
          _$jscoverage['js/vs_fx.js'][4924]++;
          transform = ("translate(0px," + this.__delta + "px)");
        }
      }
      _$jscoverage['js/vs_fx.js'][4926]++;
      if ((this.__delta < 0)) {
        _$jscoverage['js/vs_fx.js'][4928]++;
        state.comp.view.style.webkitTransitionDuration = 0;
        _$jscoverage['js/vs_fx.js'][4929]++;
        setElementTransform(state.comp.view, transform);
      }
      else {
        _$jscoverage['js/vs_fx.js'][4931]++;
        if (state_before_id) {
          _$jscoverage['js/vs_fx.js'][4933]++;
          state_before = this.__layer._list_of_state[state_before_id];
          _$jscoverage['js/vs_fx.js'][4934]++;
          if ((state_before && state_before.comp)) {
            _$jscoverage['js/vs_fx.js'][4936]++;
            if ((this.__layer._orientation === CubicController.HORIZONTAL)) {
              _$jscoverage['js/vs_fx.js'][4938]++;
              if (SUPPORT_3D_TRANSFORM) {
                _$jscoverage['js/vs_fx.js'][4940]++;
                transform = ("translate3d(" + (this.__delta - this._size[0]) + "px,0px,0)");
              }
              else {
                _$jscoverage['js/vs_fx.js'][4943]++;
                transform = ("translate(" + (this.__delta - this._size[0]) + "px,0px)");
              }
            }
            else {
              _$jscoverage['js/vs_fx.js'][4948]++;
              if (SUPPORT_3D_TRANSFORM) {
                _$jscoverage['js/vs_fx.js'][4950]++;
                transform = ("translate3d(0px," + (this.__delta - this._size[1]) + "px,0)");
              }
              else {
                _$jscoverage['js/vs_fx.js'][4953]++;
                transform = ("translate(0px," + (this.__delta - this._size[1]) + "px)");
              }
            }
            _$jscoverage['js/vs_fx.js'][4956]++;
            state_before.comp.view.style.webkitTransitionDuration = 0;
            _$jscoverage['js/vs_fx.js'][4957]++;
            setElementTransform(state_before.comp.view, transform);
          }
        }
      }
    }
    else {
      _$jscoverage['js/vs_fx.js'][4961]++;
      if ((event.type === core.POINTER_END)) {
        _$jscoverage['js/vs_fx.js'][4963]++;
        state = this.__layer._list_of_state[this.__layer._current_state];
        _$jscoverage['js/vs_fx.js'][4964]++;
        if ((this.__delta > 50)) {
          _$jscoverage['js/vs_fx.js'][4966]++;
          t_ok = this.__layer.goToPreviousView();
        }
        else {
          _$jscoverage['js/vs_fx.js'][4968]++;
          if ((this.__delta < -50)) {
            _$jscoverage['js/vs_fx.js'][4970]++;
            t_ok = this.__layer.goToNextView();
          }
        }
        _$jscoverage['js/vs_fx.js'][4972]++;
        if ((! t_ok)) {
          _$jscoverage['js/vs_fx.js'][4974]++;
          index = this.__layer._states_array.indexOf(this.__layer._current_state);
          _$jscoverage['js/vs_fx.js'][4976]++;
          if ((index > 0)) {
            _$jscoverage['js/vs_fx.js'][4977]++;
            state_before_id = this.__layer._states_array[(index - 1)];
          }
          _$jscoverage['js/vs_fx.js'][4979]++;
          if ((this.__delta < 0)) {
            _$jscoverage['js/vs_fx.js'][4981]++;
            if (SUPPORT_3D_TRANSFORM) {
              _$jscoverage['js/vs_fx.js'][4982]++;
              transform = "translate3d(0,0,0)";
            }
            else {
              _$jscoverage['js/vs_fx.js'][4983]++;
              transform = "translate(0,0)";
            }
            _$jscoverage['js/vs_fx.js'][4985]++;
            state.comp.view.style.webkitTransitionDuration = (this.__layer._animation_duration + "ms");
            _$jscoverage['js/vs_fx.js'][4987]++;
            setElementTransform(state.comp.view, transform);
          }
          else {
            _$jscoverage['js/vs_fx.js'][4989]++;
            if (state_before_id) {
              _$jscoverage['js/vs_fx.js'][4991]++;
              state_before = this.__layer._list_of_state[state_before_id];
              _$jscoverage['js/vs_fx.js'][4992]++;
              if ((state_before && state_before.comp)) {
                _$jscoverage['js/vs_fx.js'][4994]++;
                if ((this.__layer._orientation === CubicController.HORIZONTAL)) {
                  _$jscoverage['js/vs_fx.js'][4996]++;
                  if (SUPPORT_3D_TRANSFORM) {
                    _$jscoverage['js/vs_fx.js'][4998]++;
                    transform = ("translate3d(" + this._size[0] + "px,0px,0)");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][5001]++;
                    transform = ("translate(" + this._size[0] + "px,0px)");
                  }
                }
                else {
                  _$jscoverage['js/vs_fx.js'][5006]++;
                  if (SUPPORT_3D_TRANSFORM) {
                    _$jscoverage['js/vs_fx.js'][5008]++;
                    transform = ("translate3d(0px,-" + this._size[1] + "px,0)");
                  }
                  else {
                    _$jscoverage['js/vs_fx.js'][5011]++;
                    transform = ("translate(0px,-" + this._size[1] + "px)");
                  }
                }
                _$jscoverage['js/vs_fx.js'][5014]++;
                state_before.comp.view.style.webkitTransitionDuration = (this.__layer._animation_duration + "ms");
                _$jscoverage['js/vs_fx.js'][5016]++;
                setElementTransform(state_before.comp.view, transform);
              }
            }
          }
        }
        _$jscoverage['js/vs_fx.js'][5020]++;
        document.removeEventListener(core.POINTER_END, this, true);
        _$jscoverage['js/vs_fx.js'][5021]++;
        document.removeEventListener(core.POINTER_MOVE, this, true);
      }
    }
  }
}), goTo: (function (state_id, output, event) {
  _$jscoverage['js/vs_fx.js'][5040]++;
  var state_to, index = this._states_array.indexOf(state_id), state_from = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][5045]++;
  StackController.prototype.goTo.call(this, state_id, output, event);
  _$jscoverage['js/vs_fx.js'][5046]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][5046]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][5048]++;
  this.owner.animationDuration = this._animation_duration;
  _$jscoverage['js/vs_fx.js'][5050]++;
  state_to = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][5051]++;
  state_to.comp.setStyle("position", "absolute");
  _$jscoverage['js/vs_fx.js'][5052]++;
  state_to.comp.position = [0, 0];
  _$jscoverage['js/vs_fx.js'][5053]++;
  state_to.comp.setStyle("z-index", (1000 - index));
  _$jscoverage['js/vs_fx.js'][5055]++;
  if ((state_from && state_to)) {
    _$jscoverage['js/vs_fx.js'][5057]++;
    state_from.comp.setStyle("-webkit-transform", "scale3d(.835,.835,.835) translateZ(200px)");
    _$jscoverage['js/vs_fx.js'][5059]++;
    state_to.comp.setStyle("-webkit-transform", "scale3d(.835,.835,.835) rotateX(90deg) translateZ(200px)");
  }
  _$jscoverage['js/vs_fx.js'][5062]++;
  function initState(index) {
    _$jscoverage['js/vs_fx.js'][5064]++;
    var state_id = this._states_array[index], state = this._list_of_state[state_id];
    _$jscoverage['js/vs_fx.js'][5067]++;
    if ((! state)) {
      _$jscoverage['js/vs_fx.js'][5067]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][5069]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][5071]++;
      state.comp = this.owner.createAndAddComponent(state.comp_name, state.init_data, state.extension);
      _$jscoverage['js/vs_fx.js'][5074]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][5075]++;
      state.comp.style("position", "absolute");
      _$jscoverage['js/vs_fx.js'][5076]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][5078]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][5080]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][5082]++;
    if (state.view) {
      _$jscoverage['js/vs_fx.js'][5084]++;
      __setPos(state.view, 0, 0);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5088]++;
      state.comp.position = [0, 0];
    }
    _$jscoverage['js/vs_fx.js'][5090]++;
    state.comp.show();
    _$jscoverage['js/vs_fx.js'][5091]++;
    state.comp.style("z-index", (1000 - index));
}
  _$jscoverage['js/vs_fx.js'][5095]++;
  if ((index > 0)) {
    _$jscoverage['js/vs_fx.js'][5095]++;
    initState.call(this, (index - 1));
  }
  _$jscoverage['js/vs_fx.js'][5098]++;
  if ((index < (this._states_array.length - 1))) {
    _$jscoverage['js/vs_fx.js'][5099]++;
    initState.call(this, (index + 1));
  }
  _$jscoverage['js/vs_fx.js'][5101]++;
  if ((event && (event.on === StackController.NEXT) && state_from)) {
    _$jscoverage['js/vs_fx.js'][5103]++;
    if ((this._orientation === CubicController.HORIZONTAL)) {
      _$jscoverage['js/vs_fx.js'][5105]++;
      CubicController._translate_animation.process(this.owner);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5109]++;
      CubicController._translate_animation.process(this.owner);
    }
  }
  else {
    _$jscoverage['js/vs_fx.js'][5112]++;
    if ((event && (event.on === StackController.PRED) && state_to)) {
      _$jscoverage['js/vs_fx.js'][5114]++;
      CubicController._translate_animation.x = 0;
      _$jscoverage['js/vs_fx.js'][5115]++;
      CubicController._translate_animation.y = 0;
      _$jscoverage['js/vs_fx.js'][5116]++;
      CubicController._translate_animation.process(state_to.comp);
    }
  }
  _$jscoverage['js/vs_fx.js'][5119]++;
  if ((output && this._output_action[output])) {
    _$jscoverage['js/vs_fx.js'][5121]++;
    var clb = this._output_action[output];
    _$jscoverage['js/vs_fx.js'][5122]++;
    if ((clb instanceof Function)) {
      _$jscoverage['js/vs_fx.js'][5124]++;
      clb.call(this.owner, event);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5126]++;
      if (util.isString(clb)) {
        _$jscoverage['js/vs_fx.js'][5128]++;
        (this.owner[this._output_action[output]])(event);
      }
    }
  }
})};
  _$jscoverage['js/vs_fx.js'][5133]++;
  util.extendClass(CubicController, StackController);
  _$jscoverage['js/vs_fx.js'][5139]++;
  fx.CubicController = CubicController;
  _$jscoverage['js/vs_fx.js'][5227]++;
  function OpacityController(owner, extension) {
    _$jscoverage['js/vs_fx.js'][5229]++;
    this.parent = StackController;
    _$jscoverage['js/vs_fx.js'][5230]++;
    this.parent(owner, extension);
    _$jscoverage['js/vs_fx.js'][5231]++;
    this.constructor = OpacityController;
    _$jscoverage['js/vs_fx.js'][5233]++;
    this.animationDuration = OpacityController.ANIMATION_DURATION;
}
  _$jscoverage['js/vs_fx.js'][5237]++;
  OpacityController._opacity_animation = new OpacityAnimation(1);
  _$jscoverage['js/vs_fx.js'][5238]++;
  OpacityController._opacity_animation.init();
  _$jscoverage['js/vs_fx.js'][5239]++;
  OpacityController._opacity_animation.durations = "0.2s";
  _$jscoverage['js/vs_fx.js'][5245]++;
  OpacityController.ANIMATION_DURATION = 500;
  _$jscoverage['js/vs_fx.js'][5247]++;
  OpacityController.prototype = {push: (function (comp, data, bindings) {
  _$jscoverage['js/vs_fx.js'][5284]++;
  if ((! comp)) {
    _$jscoverage['js/vs_fx.js'][5284]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][5286]++;
  if ((! util.isString(comp))) {
    _$jscoverage['js/vs_fx.js'][5288]++;
    var index = this._states_array.length;
    _$jscoverage['js/vs_fx.js'][5289]++;
    comp.position = [0, 0];
    _$jscoverage['js/vs_fx.js'][5290]++;
    comp.setStyle("z-index", (1000 - index));
  }
  _$jscoverage['js/vs_fx.js'][5292]++;
  StackController.prototype.push.call(this, comp, data, bindings);
}), goTo: (function (state_id, output, event) {
  _$jscoverage['js/vs_fx.js'][5313]++;
  var state_to, index = this._states_array.indexOf(state_id), state_from = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][5317]++;
  StackController.prototype.goTo.call(this, state_id, output, event);
  _$jscoverage['js/vs_fx.js'][5318]++;
  if ((! state_id)) {
    _$jscoverage['js/vs_fx.js'][5318]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][5322]++;
  state_to = this._list_of_state[this._current_state];
  _$jscoverage['js/vs_fx.js'][5323]++;
  state_to.comp.setStyle("position", "absolute");
  _$jscoverage['js/vs_fx.js'][5324]++;
  state_to.comp.position = [0, 0];
  _$jscoverage['js/vs_fx.js'][5325]++;
  state_to.comp.setStyle("z-index", (1000 - index));
  _$jscoverage['js/vs_fx.js'][5327]++;
  function initState(index) {
    _$jscoverage['js/vs_fx.js'][5329]++;
    var state_id = this._states_array[index], state = this._list_of_state[state_id];
    _$jscoverage['js/vs_fx.js'][5332]++;
    if ((! state)) {
      _$jscoverage['js/vs_fx.js'][5332]++;
      return;
    }
    _$jscoverage['js/vs_fx.js'][5334]++;
    if ((! state.comp)) {
      _$jscoverage['js/vs_fx.js'][5336]++;
      state.comp = this.owner.createAndAddComponent(state.comp_name, state.init_data, state.extension);
      _$jscoverage['js/vs_fx.js'][5339]++;
      state.comp.configure(state.init_data);
      _$jscoverage['js/vs_fx.js'][5340]++;
      state.comp.setStyle("position", "absolute");
      _$jscoverage['js/vs_fx.js'][5341]++;
      if ((state.comp && state.comp.propertiesDidChange)) {
        _$jscoverage['js/vs_fx.js'][5343]++;
        state.comp.propertiesDidChange();
      }
      _$jscoverage['js/vs_fx.js'][5345]++;
      state.comp.propertyChange();
    }
    _$jscoverage['js/vs_fx.js'][5347]++;
    if (state.view) {
      _$jscoverage['js/vs_fx.js'][5349]++;
      __setPos(state.view, 0, 0);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5353]++;
      state.comp.position = [0, 0];
    }
    _$jscoverage['js/vs_fx.js'][5355]++;
    state.comp.show();
    _$jscoverage['js/vs_fx.js'][5356]++;
    state.comp.setStyle("z-index", (1000 - index));
}
  _$jscoverage['js/vs_fx.js'][5360]++;
  if ((index > 0)) {
    _$jscoverage['js/vs_fx.js'][5360]++;
    initState.call(this, (index - 1));
  }
  _$jscoverage['js/vs_fx.js'][5363]++;
  if ((index < (this._states_array.length - 1))) {
    _$jscoverage['js/vs_fx.js'][5364]++;
    initState.call(this, (index + 1));
  }
  _$jscoverage['js/vs_fx.js'][5366]++;
  if ((event && (event.on === StackController.NEXT) && state_from)) {
    _$jscoverage['js/vs_fx.js'][5368]++;
    OpacityController._opacity_animation.value = 0;
    _$jscoverage['js/vs_fx.js'][5369]++;
    OpacityController._opacity_animation.process(state_from.comp);
  }
  else {
    _$jscoverage['js/vs_fx.js'][5371]++;
    if ((event && (event.on === StackController.PRED) && state_to)) {
      _$jscoverage['js/vs_fx.js'][5373]++;
      OpacityController._opacity_animation.value = 1;
      _$jscoverage['js/vs_fx.js'][5374]++;
      OpacityController._opacity_animation.process(state_to.comp);
    }
  }
  _$jscoverage['js/vs_fx.js'][5377]++;
  if ((output && this._output_action[output])) {
    _$jscoverage['js/vs_fx.js'][5379]++;
    var clb = this._output_action[output];
    _$jscoverage['js/vs_fx.js'][5380]++;
    if ((clb instanceof Function)) {
      _$jscoverage['js/vs_fx.js'][5382]++;
      clb.call(this.owner, event);
    }
    else {
      _$jscoverage['js/vs_fx.js'][5384]++;
      if (util.isString(clb)) {
        _$jscoverage['js/vs_fx.js'][5386]++;
        (this.owner[this._output_action[output]])(event);
      }
    }
  }
})};
  _$jscoverage['js/vs_fx.js'][5391]++;
  util.extendClass(OpacityController, StackController);
  _$jscoverage['js/vs_fx.js'][5397]++;
  util.defineClassProperty(OpacityController, "animationDuration", {set: (function (time) {
  _$jscoverage['js/vs_fx.js'][5405]++;
  if ((! time)) {
    _$jscoverage['js/vs_fx.js'][5405]++;
    time = 0;
  }
  _$jscoverage['js/vs_fx.js'][5406]++;
  if ((! util.isNumber(time))) {
    _$jscoverage['js/vs_fx.js'][5406]++;
    return;
  }
  _$jscoverage['js/vs_fx.js'][5406]++;
  ;
  _$jscoverage['js/vs_fx.js'][5408]++;
  this._animation_duration = time;
  _$jscoverage['js/vs_fx.js'][5409]++;
  OpacityController._opacity_animation.durations = ((time / 1000) + "s");
})});
  _$jscoverage['js/vs_fx.js'][5417]++;
  fx.OpacityController = OpacityController;
})(window);
